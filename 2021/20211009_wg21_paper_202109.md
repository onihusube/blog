# ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´09æœˆï¼‰

æ–‡æ›¸ã®ä¸€è¦§

- [JTC1/SC22/WG21 - Papers 2021 mailing2021-09](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/#mailing2021-09)

å…¨éƒ¨ã§42æœ¬ã‚ã‚Šã€SG22ï¼ˆC/C++ç›¸äº’äº’æ›æ€§ã«é–¢ã™ã‚‹ç ”ç©¶ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ã®Cã®ææ¡ˆã‚’é™¤ãã¨41æœ¬ã«ãªã‚Šã¾ã™ã€‚

[:contents]

### [P0288R9 `move_only_function` (was `any_invocable`)](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0288r9.html)

ãƒ ãƒ¼ãƒ–ã®ã¿ãŒå¯èƒ½ã§ã€é–¢æ•°å‘¼ã³å‡ºã—ã®`const`æ€§ã‚„`noexcept`æ€§ã‚’æŒ‡å®šå¯èƒ½ãª`std::function`ã§ã‚ã‚‹`std::any_invocable`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0288R6 : `any_invocable` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´8æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/09/18/222444#P0288R6--any_invocable)
- [P0288R7 : `any_invocable` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´9æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/10/09/221025#P0288R7--any_invocable)
- [P0288R8 `move_only_function` (was `any_invocable`) - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´7æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/08/14/213339#P0288R8-move_only_function-was-any_invocable)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®å¾®ä¿®æ­£ã®ã¿ã®æ§˜ã§ã™ã€‚

ã“ã®ææ¡ˆã¯LWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é€šéã—æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ã€‚

- [P0288 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/400)

### [P0447R16 Introduction of `std::hive` to the standard library](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0447r16.html)

è¦ç´ ãŒå‰Šé™¤ã•ã‚Œãªã„é™ã‚Šãã®ãƒ¡ãƒ¢ãƒªä½ç½®ãŒå®‰å®šãªã‚³ãƒ³ãƒ†ãƒŠã§ã‚ã‚‹`std::colony`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0447R11 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P0447R11-Introduction-of-stdcolony-to-the-standard-library)
- [P0447R12 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P0447R12-Introduction-of-stdcolony-to-the-standard-library)
- [P0447R13 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/05/14/214016#P0447R13-Introduction-of-stdcolony-to-the-standard-library)
- [P0447R14 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/06/13/165215#P0447R14-Introduction-of-stdcolony-to-the-standard-library)
- [P0447R15 Introduction of std::hive to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´06æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/07/12/182757#P0447R15-Introduction-of-stdhive-to-the-standard-library)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€æœ›ã¾ã—ã„`clear()`ã®å‹•ä½œã®èª¬æ˜ã‚’è¿½åŠ ã—ãŸäº‹ã€ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹å®Ÿè£…ã¸ã®ãƒªãƒ³ã‚¯ã‚’å¤‰æ›´ã—ãŸäº‹ã€`common`ã§ã¯ãªã„`range`ã‚’å—ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«`range`ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’ä¿®æ­£ã—ãŸäº‹ãªã©ã§ã™ã€‚

- [P0447 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/328)

### [P0627R5 Function to mark unreachable code](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0627r5.pdf)

åˆ°é”ä¸å¯èƒ½ãªã‚³ãƒ¼ãƒ‰é ˜åŸŸã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™ã€`std::unreachable()`ã®ææ¡ˆã€‚

ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«ã¤ã„ã¦ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒã¯ãã“ãŒå®Ÿè¡Œã•ã‚Œãªã„ã“ã¨ã‚’çŸ¥ã£ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ã¨ã£ã¦ã¯ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã®ã‚ˆã†ãªå ´åˆã«ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ãã‚Œã‚’é€šçŸ¥ã™ã‚‹æ–¹æ³•ãŒã‚ã‚‹ã¨ã‚ˆã‚ŠåŠ¹ç‡çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œæˆã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€`switch`æ–‡ã§ã‚ˆãè¦‹ã‚‹äº‹ãŒã§ãã¾ã™ã€‚

```cpp
void do_something(int number_that_is_only_0_1_2_or_3) {
  switch (number_that_is_only_0_1_2_or_3) {
  case 0:
  case 2:
    handle_0_or_2();
    break;
  case 1:
    handle_1();
    break;
  case 3:
    handle_3();
    break;
  }
}
```

ã“ã®ã‚ˆã†ãªå ´åˆã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯4ä»¥ä¸Šã®å…¥åŠ›ã«å¯¾ã—ã¦å‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã®æ™‚ã€4ä»¥ä¸Šã®å…¥åŠ›ãŒæ±ºã—ã¦æ¥ãªã„ã“ã¨ãŒã‚ã‹ã£ã¦ã„ã¦ã€ãã‚Œã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ä¼ãˆã‚‹äº‹ãŒã§ãã‚Œã°ãã®ã‚ˆã†ãªä½™åˆ†ãªã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆã‚’æŠ‘æ­¢ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚

ä»–ã«ã‚‚æœ‰ç”¨ãªå ´åˆãŒå¤šã€…ã‚ã‚‹ãŸã‚ã€C++ã®å‡¦ç†ç³»ã§ã‚‚ãã®ã‚ˆã†ãªæ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã‚‹ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚

- GCC,clang,ICC : `__builtin_unreachable()`
- MSVC : `__assume(false)`

ã“ã®ã‚ˆã†ãªã‚µãƒãƒ¼ãƒˆã®ãªã„å®Ÿè£…ã§ã‚‚æ„å›³çš„ã«ã‚¼ãƒ­é™¤ç®—ã‚’è¡Œã„æœªå®šç¾©å‹•ä½œã‚’æŒ¿å…¥ã™ã‚‹äº‹ã§åˆ°é”ä¸èƒ½æ€§ã‚’è¡¨ç¾ã§ãã¾ã™ãŒã€ãã‚Œã¯ç›´æ„Ÿçš„ã§ã¯ãªãæ¨å¥¨ã•ã‚Œã¾ã›ã‚“ã€‚ã“ã®ææ¡ˆã¯ã€æ¨™æº–çš„ãªæ–¹æ³•ã«ã‚ˆã£ã¦åˆ°é”ä¸å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã‚’è¡¨ç¾ã§ãã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€`std::unreachable()`ã¨ã„ã†é–¢æ•°ã«ã‚ˆã£ã¦ãã‚Œã‚’è¡Œã„ã¾ã™ã€‚

```cpp
namespace std {
  [[noreturn]] void unreachable();
}
```

ã“ã®é–¢æ•°ã¯å‘¼ã³å‡ºã•ã‚Œã‚‹ã¨æœªå®šç¾©å‹•ä½œã§ã‚ã‚‹ã¨è¦å®šã•ã‚Œã¦ãŠã‚Šï¼ˆæ­£ç¢ºã«ã¯ã€äº‹å‰æ¡ä»¶ãŒå¸¸ã«æº€ãŸã•ã‚Œãªã„ã‚ˆã†ã«è¦å®šã•ã‚Œã¦ã„ã‚‹ï¼‰ã€å‘¼ã³å‡ºã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¯æœªå®šç¾©å‹•ä½œã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ãã®å ´æ‰€ãŒå®Ÿè¡Œã•ã‚Œãªã„ã¨ä»®å®šã™ã‚‹äº‹ãŒã§ãã€ãã‚Œã«ã‚ˆã£ã¦åˆ°é”ä¸èƒ½æ€§ã‚’è¡¨ç¾ã—ã¾ã™ã€‚

å…ˆã»ã©ã®`switch`æ–‡ã§ã¯æ¬¡ã®ã‚ˆã†ã«ä½¿ç”¨ã§ãã¾ã™ã€‚

```cpp
void do_something(int number_that_is_only_0_1_2_or_3) {
  switch (number_that_is_only_0_1_2_or_3) {
  case 0:
  case 2:
    handle_0_or_2();
    break;
  case 1:
    handle_1();
    break;
  case 3:
    handle_3();
    break;
  default:
    std::unreachable();
  }
}
```

`std::unreachable()`ã®æŒ¯ã‚‹èˆã„ãŒæœªå®šç¾©å‹•ä½œã§ã‚ã‚‹ã“ã¨ã‚’é¸æŠã—ãŸã®ã¯æ¬¡ã®ã‚ˆã†ãªç†ç”±ã«ã‚ˆã‚Šã¾ã™

- å‘¼ã³å‡ºã•ã‚ŒãŸæ™‚ã®ç‰¹å®šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦å®šã—ãªã„ã“ã¨ã§ã€å®Ÿè£…ã¯è‡ªç”±ãªæŒ¯ã‚‹èˆã„ã‚’é¸æŠã§ãã‚‹
    - ä¾‹ãˆã°ã€ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰ã«ãŠã„ã¦ãƒˆãƒ©ãƒƒãƒ—ã‚’ç™ºå‹•ã™ã‚‹ãªã©
- clangã¯`__builtin_unreachable()`ã®å‘¼ã³å‡ºã—ã‚’æœªå®šç¾©å‹•ä½œã§ã‚ã‚‹ã¨è¦å®šã—ã¦ã„ã‚‹
- å‹•ä½œãŒæœªå®šç¾©ã§ã‚ã‚‹ã“ã¨ã§å®šæ•°å¼ã§ã¯å®Ÿè¡Œã§ããšã€å¿…ç„¶çš„ã«`constexpr`ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§å‘¼ã°ã‚ŒãŸå ´åˆã®æŒ¯ã‚‹èˆã„ãŒè¦å®šã•ã‚Œã‚‹

ã¾ãŸã€`[[unreachable]]`ã®ã‚ˆã†ãªå±æ€§ã§ã¯ãªãé–¢æ•°ãŒå¥½ã¾ã‚ŒãŸä¸€ã¤ã®ç†ç”±ã¨ã—ã¦ã€ãã®å®Ÿè£…ã‚’å¾Œã‹ã‚‰å¤‰æ›´ã™ã‚‹äº‹ãŒå¯èƒ½ã¨ãªã‚‹ãŸã‚ã¨ã„ã†ã®ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

- [P0627 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/275)

### [P0849R8 `auto(x)`: decay-copy in the language](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0849r8.html)

æ˜ç¤ºçš„ã«*decay-copy*ã‚’è¡Œã†ãŸã‚ã®æ§‹æ–‡ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0849R4 auto(x): decay-copy in the language - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/11/02/221657#P0849R4-autox-decay-copy-in-the-language)
- [P0849R5 auto(x): decay-copy in the language - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P0849R5-autox-decay-copy-in-the-language)
- [P0849R6 auto(x): decay-copy in the language - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/01/17/005823#P0849R6-autox-decay-copy-in-the-language)
- [P0849R7 auto(x): decay-copy in the language - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P0849R7-autox-decay-copy-in-the-language)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®èª¿æ•´ã®ã¿ã®ã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€CWGã¨LWGã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çµ‚ãˆã€æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ã€‚

- [P0849 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/293)

### [P1018R13 C++ Language Evolution status ğŸ¦  pandemic edition ğŸ¦  2021/08â€“2021/09](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p1018r13.html)

EWGï¼ˆã‚³ã‚¢è¨€èªã¸ã®æ–°æ©Ÿèƒ½è¿½åŠ ã«ã¤ã„ã¦ã®ä½œæ¥­éƒ¨ä¼šï¼‰ãŒ2021/08â€“2021/09ã®é–“ã«è­°è«–ã—ãŸææ¡ˆã‚„Issueã®ãƒªã‚¹ãƒˆã‚„å°†æ¥ã®è¨ˆç”»ã€ãƒ†ãƒ¬ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®çŠ¶æ³ãªã©ã‚’ã¾ã¨ã‚ãŸæ–‡æ›¸ã€‚

8æœˆã«ã¯ä»¥ä¸‹ã®ææ¡ˆãŒEWGã§ã®æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã€P2138R4ä»¥å¤–ã¯CWGã«é€ã‚‰ã‚Œã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ã€‚

- [P2138R4 Rules of Design <=> Wording engagement](https://wg21.link/p2138r4)
- [P2266R1 Simpler implicit move](https://wg21.link/p2266r1)
- [P2128R5 Multidimensional subscript operator](https://wg21.link/p2128r5)
- [P2036R2 Changing scope for lambda trailing-return-type](https://wg21.link/p2036r2)
- [P2334R1 Add support for preprocessing directives elifdef and elifndef](https://wg21.link/p2334r1)
- [P2066R7 Suggested draft TS for C++ Extensions for Transaction Memory Light](https://wg21.link/p2066r7)
- [P2360R0 Extend init-statement to allow alias-declaration](https://wg21.link/p2360r0)
- [P2246R1 Character encoding of diagnostic text](https://wg21.link/p2246r1)
- [P2314R2 Character sets and encodings](https://wg21.link/p2314r2)
- [P2316R1 Consistent character literal encoding](https://wg21.link/p2316r1)

ãŸã ã—ã€P2266R1ã«ã¯clangã«ãŠã‘ã‚‹å®Ÿè£…çµŒé¨“ã‚ˆã‚Šç ´å£Šçš„å¤‰æ›´ã¨ãªã‚‹ã“ã¨ãŒæŒ‡æ‘˜ã•ã‚Œã¦ãŠã‚Šã€CWGã‚ã‚‹ã„ã¯æœ¬ä¼šè­°æŠ•ç¥¨ã§å¦æ±ºã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

### [P1072R10 `basic_string::resize_and_overwrite`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p1072r10.html)

`std:string`ã«é ˜åŸŸï¼ˆæ–‡å­—é•·ï¼‰ã‚’æ‹¡å¼µã—ã¤ã¤ãã®éƒ¨åˆ†ã‚’åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ç‚ºã®ãƒ¡ãƒ³ãƒé–¢æ•°`resize_and_overwrite()`ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P1072R6 `basic_string::resize_and_overwrite` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/01/17/005823#P1072R6-basic_stringresize_and_overwrite)
- [P1072R7 `basic_string::resize_and_overwrite` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P1072R7-basic_stringresize_and_overwrite)
- [P1072R8 `basic_string::resize_and_overwrite` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´06æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/07/12/182757#P1072R8-basic_stringresize_and_overwrite)
- [P1072R9 `basic_string::resize_and_overwrite` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P1072R9-basic_stringresize_and_overwrite)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®èª¿æ•´ã§ã™ã€‚

ã“ã®ææ¡ˆã¯LWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çµ‚ãˆã€æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã¾ã™ã€‚

- [P1072 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/31)

### [P1885R7 Naming Text Encodings to Demystify Them](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p1885r7.pdf)

ã‚·ã‚¹ãƒ†ãƒ ã®æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å–å¾—ã—ã€è­˜åˆ¥ã‚„å‡ºåŠ›ãŒå¯èƒ½ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P1885R3 Naming Text Encodings to Demystify Them - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´9æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/10/09/221025#P1885R3--Naming-Text-Encodings-to-Demystify-Them)
- [P1885R4 Naming Text Encodings to Demystify Them - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P1885R4-Naming-Text-Encodings-to-Demystify-Them)
- [P1885R5 Naming Text Encodings to Demystify Them - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P1885R5-Naming-Text-Encodings-to-Demystify-Them)
- [P1885R6 Naming Text Encodings to Demystify Them - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P1885R6-Naming-Text-Encodings-to-Demystify-Them)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- `aliases()`ã®æˆ»ã‚Šå€¤å‹ã‚’`string_view`ã‹ã‚‰`aliases_view`ã«å¤‰æ›´
    - `aliases_view`ã¯`copyable`ã§ã‚ã‚Š`view`ã‹ã¤`borowed_range`ã‹ã¤`random_access_range`ã§ã‚ã‚‹è»½é‡ã®å‹ã§ã€ãã®`value_type/reference`ã¯`const char*`ã¨ãªã‚Šã¾ã™ã€‚
- `text_encoding::environment()`ãŒå®Ÿè¡Œæ™‚ã®ãƒ­ã‚±ãƒ¼ãƒ«å¤‰æ›´ã®å½±éŸ¿ã‚’å—ã‘ã‚‹ã‚ˆã†ã«å¤‰æ›´
- `name()`ã¨`aliases()`ã§è¿”ã•ã‚Œã‚‹åå‰ã®é–“ã®é–¢é€£æ€§ã‚’æ˜ç¢ºã«ã—ãŸ
- `name()`ãŒ`nulltpr`ã‚’è¿”ã™ã“ã¨ãŒã‚ã‚‹ã‚ˆã†ã«å¤‰æ›´
    - `text_encoding{text_encoding::id::unknown}.name();`ã®æ§˜ãªã¨ã
- ææ¡ˆã™ã‚‹æ–‡è¨€ã®ä¿®æ­£

ãªã©ã§ã™ã€‚

- [P1885 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/634)

### [P2012R1 Fix the range-based for loop, Rev1](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2012r1.pdf)

ç¾åœ¨ã®*range-based for*ã«å­˜åœ¨ã—ã¦ã„ã‚‹ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿå­˜æœŸé–“ã«ã¾ã¤ã‚ã‚‹ç½ ã‚’ä¿®æ­£ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2012R0 Fix the range-based for loop, Rev0 - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P2012R0-Fix-the-range-based-for-loop-Rev0ix-the-range-based-for-loop)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ã“ã®ææ¡ˆã«ã‚ˆã‚‹å¤‰æ›´ãŒç ´å£Šçš„å¤‰æ›´ã«ãªã‚‹ã‹ã©ã†ã‹ã®èª¿æŸ»ã¨è­°è«–ã®è¿½åŠ ã€å›é¿ç­–ãŒè§£æ±ºç­–ã§ã¯ãªã„ç†ç”±ã®è¿½åŠ ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ã‚ˆã‚‹è¨ºæ–­ã«ã¤ã„ã¦ã®è­°è«–ã®è¿½åŠ ã€ãªã©ã§ã™ã€‚

[è‘—è€…ã®æ–¹ï¼ˆNicolai Josuttisã•ã‚“ï¼‰ã®ãƒ„ã‚¤ãƒ¼ãƒˆ](https://twitter.com/NicoJosuttis/status/1443267749854208000)ã«ã‚ˆã‚‹ã¨ã€ã“ã®ææ¡ˆã«é–¢ã—ã¦ã“ã‚Œä»¥ä¸Šã®ä½œæ¥­ã¯ãªã•ã‚Œãªã„ã‚ˆã†ã§ã™ãƒ»ãƒ»ãƒ»

- [P2012 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/939)

### [P2036R3 Changing scope for lambda trailing-return-type](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2036r3.html)

ãƒ©ãƒ ãƒ€å¼ã®å¾Œç½®æˆ»ã‚Šå€¤å‹æŒ‡å®šã«ãŠã„ã¦ã€åˆæœŸåŒ–ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ãŸå¤‰æ•°ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2036R1 Changing scope for lambda trailing-return-type - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P2036R1-Changing-scope-for-lambda-trailing-return-type)
- [P2036R2 Changing scope for lambda trailing-return-type - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/08/14/213339#P2036R2-Changing-scope-for-lambda-trailing-return-type)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®ä¿®æ­£ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ç¾åœ¨CWGã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å—ã‘ã¦ã„ã¾ã™ã€‚ãã“ã‚’é€šéã™ã‚Œã°ã€å…¨ä½“ä¼šè­°ã§ã®æŠ•ç¥¨ã«é€²ã¿ã¾ã™ã€‚

- [P2036 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/766)

### [P2066R9 Suggested draft TS for C++ Extensions for Minimal Transactional Memory](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2066r9.html)

ç¾åœ¨ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒ¡ãƒ¢ãƒªTSä»•æ§˜ã®ä¸€éƒ¨ã ã‘ã‚’ã€è»½é‡ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒ¡ãƒ¢ãƒªã¨ã—ã¦C++ã¸å°å…¥ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2066R2 Suggested draft TS for C++ Extensions for Minimal Transactional Memory - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/06/01/001003#P2066R2--Suggested-draft-TS-for-C-Extensions-for-Transaction-Memory-Light)
- [P2066R3 Suggested draft TS for C++ Extensions for Minimal Transactional Memory - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´09æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/10/09/221025#P2066R3--Suggested-draft-TS-for-C-Extensions-for-Transaction-Memory-Light)
- [P2066R4 Suggested draft TS for C++ Extensions for Minimal Transactional Memory - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/11/02/221657#P2066R4-Suggested-draft-TS-for-C-Extensions-for-Minimal-Transactional-Memory)
- [P2066R5 Suggested draft TS for C++ Extensions for Minimal Transactional Memory - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P2066R5-Suggested-draft-TS-for-C-Extensions-for-Minimal-Transactional-Memory)
- [P2066R6 Suggested draft TS for C++ Extensions for Minimal Transactional Memory - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/04/10/222356#P2066R6-Suggested-draft-TS-for-C-Extensions-for-Minimal-Transactional-Memory)
- [P2066R7 Suggested draft TS for C++ Extensions for Minimal Transactional Memory - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/06/13/165215#P2066R7-Suggested-draft-TS-for-C-Extensions-for-Minimal-Transactional-Memory)
- [P2066R8 Suggested draft TS for C++ Extensions for Minimal Transactional Memory - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/08/14/213339#P2066R8-Suggested-draft-TS-for-C-Extensions-for-Minimal-Transactional-Memory)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã®å¤‰æ›´ç‚¹ã¯ã€ã„ãã¤ã‹ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«å¯¾å¿œã—ã¦æ–‡è¨€ã‚’ä¿®æ­£ã—ãŸäº‹ã§ã™ã€‚

ã“ã®ææ¡ˆã¯LWCã¨CWGã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒçµ‚äº†ã—ã€æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚ãã“ã§æ‰¿èªã•ã‚Œã‚Œã°ã€Transactional Memory TS(v2?)ã¨ã—ã¦ç™ºè¡Œã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

- [P2066 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/793)

### [P2093R9 Formatted output](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2093r9.html)

`std::format`ã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã—ãªãŒã‚‰å‡ºåŠ›ã§ãã‚‹æ–°I/Oãƒ©ã‚¤ãƒ–ãƒ©ãƒª`std::print`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2093R0 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´6æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/07/05/003248#P2093R0--Formatted-output)
- [P2093R1 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´7æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/08/12/014639#P2093R1--Formatted-output)
- [P2093R2 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/11/02/221657#P2093R2-Formatted-output)
- [P2093R3 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´1æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P2093R3-Formatted-output)
- [P2093R4 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´2æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P2093R4-Formatted-output)
- [P2093R5 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´3æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/04/10/222356#P2093R5-Formatted-output)
- [P2093R6 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´4æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/06/13/165215#P2093R6-Formatted-output)
- [P2093R7 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´7æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P2093R8-Formatted-output)
- [P2093R8 Formatted output - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´8æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P2093R8-Formatted-output)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€SG16ã®æŠ•ç¥¨ã®çµæœã‚’è¨˜è¼‰ã—ãŸäº‹ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®ä¿®æ­£ã€Pythonã®`print`ã¨ã®é•ã„ã‚’æ˜ç¢ºã«ã—ãŸã“ã¨ãªã©ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ä¸»ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å‘¨ã‚Šã®äº‹ã‚’è©°ã‚ã‚‹ãŸã‚ã«SG16ã§ä½œæ¥­ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ãã‚ŒãŒå®Œäº†ã—C++23ã«å‘ã‘ã¦LEWGã«è»¢é€ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚

- [P2093 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/884)

### [P2128R6 Multidimensional subscript operator](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2128r6.pdf)

å¤šæ¬¡å…ƒã‚³ãƒ³ãƒ†ãƒŠã‚µãƒãƒ¼ãƒˆã®ãŸã‚ã«æ·»å­—æ¼”ç®—å­ï¼ˆ`[]`ï¼‰ãŒè¤‡æ•°ã®å¼•æ•°ã‚’å–ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

å‰å›ã®è¨˜äº‹ã‚’å‚ç…§

- [P2128R1 Multidimensional subscript operator - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´5æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/06/01/001003#P2128R1--Multidimensional-subscript-operator)
- [P2128R2 Multidimensional subscript operator - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´7æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/08/12/014639#P2128R2--Multidimensional-subscript-operator)
- [P2128R3 Multidimensional subscript operator - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´2æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P2128R3-Multidimensional-subscript-operator)
- [P2128R5 Multidimensional subscript operator - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´4æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/05/14/214016#P2128R5-Multidimensional-subscript-operator)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€CWGã®æŒ‡ç¤ºã«åŸºã¥ã„ã¦ææ¡ˆã™ã‚‹æ–‡è¨€ã‚’ä¿®æ­£ã—ãŸäº‹ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã‚’æŒã£ã¦CWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå®Œäº†ã—ã¦ãŠã‚Šã€æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã¾ã™ã€‚

- [P2128 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/845)

### [P2214R1 A Plan for C++23 Ranges](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2214r1.html)

C++23ã«å‘ã‘ã¦ã®*range*ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ‹¡å¼µãƒ—ãƒ©ãƒ³ã«ã¤ã„ã¦ã¾ã¨ã‚ãŸæ–‡æ›¸ã€‚

å‰å›ã®è¨˜äº‹ã‚’å‚ç…§

- [P2214R0 A Plan for C++23 Ranges - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/11/02/221657#P2214R0-A-Plan-for-C23-Ranges)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã¯ã€R0ä»¥é™ã®ä½œæ¥­ã®é€²è¡Œã‚’åæ˜ ã—ã„ãã¤ã‹ã®ææ¡ˆã¸ã®ãƒªãƒ³ã‚¯ã‚’è¿½åŠ ã—ãŸäº‹ã¨

- Rangeã‚¢ãƒ€ãƒ—ã‚¿ã®ãƒ‘ã‚¤ãƒ—ã‚µãƒãƒ¼ãƒˆã®ãŸã‚ã®ãƒ˜ãƒ«ãƒ‘ã‚¯ãƒ©ã‚¹ï¼ˆ[P2387R1](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2387r1.html)ï¼‰ã‚’Tier 1ã¸è¿½åŠ 
- `cache1(cache_latest)`ã‚’Tier 1ã‹ã‚‰Tier 2ã¸
- `as_const`ã‚’Tier3ã‹ã‚‰Tier1ã¸
- `flat_map`ã‚’Tier1ã‹ã‚‰Tier3ã¸
    - ç¾åœ¨ã€`transform(f) | join`ãŒæ­£ã—ãåŒã˜ã“ã¨ã‚’ã™ã‚‹ãŸã‚
- `transform_maybe`ã‚’Tier1ã‹ã‚‰Tier3ã¸
    - `cache1`ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚
- ä»¥å‰ã¯çœç•¥ã•ã‚Œã¦ã„ãŸRangeã‚¢ãƒ€ãƒ—ã‚¿ã‚’Tier 3ã¸è¿½åŠ 
- `shift_left/shift_right`ã‚’Tier 1ã¸è¿½åŠ 

ãªã©ã§ã™ã€‚

- [P2214 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/928)

### [P2266R2 Simpler implicit move](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2266r2.html)

`return`æ–‡ã«ãŠã‘ã‚‹æš—é»™ã®ãƒ ãƒ¼ãƒ–ã‚’æ”¹å–„ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2266R0 Simpler implicit move - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P2266R0-Simpler-implicit-move)
- [P2266R1 Simpler implicit move - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/04/10/222356#P2266R1-Simpler-implicit-move)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®ä¿®æ­£ã¨æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒã‚¯ãƒ­ã®è¿½åŠ ã€EWGã«ãŠã‘ã‚‹æŠ•ç¥¨ã®çµæœã‚’è¨˜è¼‰ã—ãŸäº‹ã€clangã«ãŠã‘ã‚‹å®Ÿè£…çµŒé¨“ã«ã¤ã„ã¦è¿½è¨˜ã—ãŸäº‹ã§ã™ã€‚

ã“ã®ææ¡ˆã¯CWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒçµ‚äº†ã—å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ãŒã€clangã«ã‚ˆã‚‹å®Ÿè£…çµŒé¨“ã‹ã‚‰ç ´å£Šçš„å¤‰æ›´ã®ç¨‹åº¦ãŒå¤§ããå®Ÿè£…è€…ã‹ã‚‰åå¯¾æ„è¦‹ãŒæå‡ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€æœ¬ä¼šè­°ã«ãŠã„ã¦å¦æ±ºã•ã‚Œå†åº¦ã®è­°è«–ãŒå¿…è¦ã¨ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚

- [P2012 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/968)

### [P2276R1 Fix `cbegin`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2276r1.pdf)

ãƒ¡ãƒ³ãƒé–¢æ•°`cbegin()`ã¨ãƒ•ãƒªãƒ¼é–¢æ•°ã®`std::cbegin()/std::ranges::cbegin()`ã®ä¸ä¸€è‡´ã‚’ä¿®æ­£ã—ã€`std::span`ã®`cbegin()`ã‚µãƒãƒ¼ãƒˆã‚’å¾©æ´»ã•ã›ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2276R0 Fix std::cbegin(), std::ranges::cbegin, and cbegin() for span (fix of wrong fix of lwg3320) - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P2276R0-Fix-stdcbegin-stdrangescbegin-and-cbegin-for-span-fix-of-wrong-fix-of-lwg3320)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã¯ã€R0ã®æ™‚ã«ææ¡ˆã—ã¦ã„ãŸ`cbegin/cend`ã«å¯¾ã™ã‚‹ä¿®æ­£ã‚’ææ¡ˆã—ãªããªã‚Šã¾ã—ãŸã€‚ãã®ä»£ã‚ã‚Šã«ã€å£Šã‚ŒãŸ`const`æ€§ã‚’ç„¡åŠ¹åŒ–ã—å›é¿ç­–ã‚’å®Ÿè£…ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã‚’ç›®æ¨™ã¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

R1ã§ã¯ã€æ¬¡ã®4ã¤ã®äº‹ã‚’ææ¡ˆã—ã¾ã™

1. `std::span`ã«ãƒ¡ãƒ³ãƒé–¢æ•°`cbegin()/cend()`ã‚’è¿½åŠ 
      - ã“ã‚Œã¯LEWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ãŠã„ã¦åˆæ„æ¸ˆ
2. ã‚³ãƒ³ãƒ†ãƒŠãŒæ·±ã„`const`æ€§ï¼ˆ*deep constness*ï¼‰ã‚’æä¾›ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ¤œå‡ºã™ã‚‹ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’æä¾›ã™ã‚‹
3. æµ…ã„`cosnt`æ€§ã«ã‚ˆã£ã¦ãƒã‚°ã‚’æŠ±ãˆã‚‹å ´åˆã€`std::cbegin/std::cend`ã‚’ç„¡åŠ¹ã«ã™ã‚‹
      - ç†æƒ³çš„ã«ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨ã—ãŸã„ãŒã€å°‘ãªãã¨ã‚‚éæ¨å¥¨ã«ã™ã‚‹
4. æµ…ã„`cosnt`æ€§ã«ã‚ˆã£ã¦ãƒã‚°ã‚’æŠ±ãˆã‚‹å ´åˆã€`std::ranges::cbegin/std::ranges::cend`ã‚’ç„¡åŠ¹ã«ã™ã‚‹

ãªãŠã€`cbegin()/cend()`ã ã‘ã§ãªãã€`c`ä»˜ãç¯„å›²ã‚¢ã‚¯ã‚»ã‚¹é–¢æ•°ï¼ˆCPOï¼‰ã«å¯¾ã—ã¦åŒã˜ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

ãã—ã¦ã“ã‚Œã‚‰ã®ææ¡ˆã¯å…¨ã¦ã€C++20ã«å‘ã‘ã¦ã®*Defect Report*ã¨ã™ã‚‹äº‹ãŒææ¡ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P2276 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/969)

### [P2278R1 cbegin should always return a constant iterator](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2278r1.html)

`std::ranges::cbegin/cend`ã‚’æ‹¡å¼µã—ã¦ã€å¸¸ã«`const_iterator`ã‚’è¿”ã™ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2278R0 cbegin should always return a constant iterator - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P2278R0-cbegin-should-always-return-a-constant-iterator)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã‚’è¿½åŠ ã—ãŸäº‹ï¼ˆ`ranges::cdata`ã‚’å«ã‚€ã‚ˆã†ã«ã—ãŸã“ã¨ã€`view_interface`ã«`cbegin/cend`ã‚’è¿½åŠ ã—ãŸï¼‰ã€`views::const_range`ã‚’`views::as_const`ã«å¤‰æ›´ã—ãŸäº‹ã€æ·±ã„`const`æ€§ã‚’æŒã¤`view`ã‚’æ‰±ãˆã‚‹ã‚ˆã†ã«`views::as_const`ã®å®šç¾©ã‚’ä¿®æ­£ã—ãŸäº‹ã§ã™ã€‚


- [P2278 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/971)

### [P2314R3 Character sets and encodings](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2314r3.html)

è¦æ ¼æ–‡æ›¸ä¸­ã® *~ character set*ã¨ã„ã†è¨€è‘‰ã‚’æ˜ç¢ºã«å®šç¾©ã—ç›´ã™ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2314R0 Character sets and encodings - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P2314R0-Character-sets-and-encodings)
- [P2314R1 Character sets and encodings - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/04/10/222356#P2314R1-Character-sets-and-encodings)
- [P2314R2 Character sets and encodings - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/06/13/165215#P2314R2-Character-sets-and-encodings)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€CWGã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’åæ˜ ã—ãŸäº‹ã§ã™ã€‚

- [P2314 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/998)

### [P2316R2 Consistent character literal encoding](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2316r2.pdf)

`#if`ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚·ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®æ¡ä»¶å¼ã«ãŠã„ã¦ã€æ–‡å­—ãƒªãƒ†ãƒ©ãƒ«ã‚’C++ã®å¼ã®æ„å‘³è«–ã¨åŒç­‰ã«æ‰±ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2316R0 Consistent character literal encoding - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P2316R0-Consistent-character-literal-encoding)
- [P2316R1 Consistent character literal encoding - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/08/14/213339#P2316R1-Consistent-character-literal-encoding)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®ä¿®æ­£ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€CWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çµ‚ãˆã¦æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ã€‚

- [P2316 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1000)

### [P2322R4 `ranges::fold`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2322r4.html)

`range`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚‹`ranges::fold`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2322R0 ranges::fold - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P2322R0-rangesfold)
- [P2322R1 ranges::fold - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/04/10/222356#P2322R1-rangesfold)
- [P2322R2 ranges::fold - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/05/14/214016#P2322R2-rangesfold)
- [P2322R3 ranges::fold - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´06æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/07/12/182757#P2322R3-rangesfold)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€èª¬æ˜ãŒå°‘ã—ä¿®æ­£ã•ã‚ŒãŸã ã‘ã®æ§˜ã§ã™ã€‚

- [P2321 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1004)

### [P2348R1 Whitespaces Wording Revamp](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2348r1.pdf)

ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ã®ä»•æ§˜ã«å¾“ã†å½¢ã§ã€æ”¹è¡Œã¨ç©ºç™½ã‚’æ˜ç¢ºã«å®šç¾©ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2348R0 Whitespaces Wording Revamp - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/05/14/214016#P2348R0-Whitespaces-Wording-Revamp)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€Vertical Tabã¨Form Feedã‚’å‚ç›´æ–¹å‘ã®ã‚¹ãƒšãƒ¼ã‚¹ã§ã¯ãªãæ°´å¹³æ–¹å‘ã®ã‚¹ãƒšãƒ¼ã‚¹ã¨ã—ã¦æ‰±ã†ã‚ˆã†ã«ã—ãŸã“ã¨ï¼ˆãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰è¦æ ¼ã«ã¯å¾“ã£ã¦ã„ãŸãŒã€ç¾åœ¨ã®æ–‡è¨€åŠã³å®Ÿè£…ã«ã¯æº–ã˜ã¦ã„ãªã‹ã£ãŸï¼‰ã€`\n\r`ãªã©åå‰ãŒä»˜ã„ã¦ã„ãªã„æ–‡å­—ã«ã‚ˆã‚‹ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã«ã¤ã„ã¦ã®ãƒ¡ãƒ¢ã®è¿½è¨˜ã€[P2314R2](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2314r2.html)ãŒãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ã‚ˆã†ã«æ–‡è¨€ã‚’èª¿æ•´ã—ãŸäº‹ãªã©ã§ã™ã€‚

- [P2348 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1027)

### [P2362R3 Remove non-encodable wide character literals and multicharacter wide character literals](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2362r3.pdf)

ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å¯èƒ½ã§ã¯ãªã„ã€ã‚ã‚‹ã„ã¯è¤‡æ•°æ–‡å­—ã‚’å«ã‚€ãƒ¯ã‚¤ãƒ‰æ–‡å­—ãƒªãƒ†ãƒ©ãƒ«ã‚’ç¦æ­¢ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2362R0 Make obfuscating wide character literals ill-formed - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/05/14/214016#P2362R0-Make-obfuscating-wide-character-literals-ill-formed)
- [P2362R1 Make obfuscating wide character literals ill-formed - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/08/14/213339#P2362R1-Remove-non-encodable-wide-character-literals-and-multicharacter-wide-character-literals)
- [P2362R2 Make obfuscating wide character literals ill-formed - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P2362R2-Remove-non-encodable-wide-character-literals-and-multicharacter-wide-character-literals)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®èª¿æ•´ã¨EWGã«ãŠã‘ã‚‹æŠ•ç¥¨ã®çµæœã‚’è¨˜è¼‰ã—ãŸäº‹ã§ã™ã€‚

- [P2362 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1036)

### [P2363R1 Extending associative containers with the remaining heterogeneous overloads](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2363r1.html)

é€£æƒ³ã‚³ãƒ³ãƒ†ãƒŠã®é€éçš„æ“ä½œã‚’ã€ã•ã‚‰ã«åºƒã’ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2363R0 Extending associative containers with the remaining heterogeneous overloads - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/05/14/214016#P2363R0-Extending-associative-containers-with-the-remaining-heterogeneous-overloads)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€`insert`ã‚„`operator[]`ãªã©ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã«`std::is_constructible_v<value_type, K&&, Args...>`ã®æ§˜ãªåˆ¶ç´„ã‚’è¦æ±‚ã—ãªã„ã‚ˆã†ã«ã—ãŸã“ã¨ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã‚’è¿½åŠ ã—ãŸäº‹ã§ã™ã€‚

- [P2363 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1037)

### [P2372R3 Fixing locale handling in chrono formatters](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2372r3.html)

`<chrono>`ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãŒãƒ­ã‚±ãƒ¼ãƒ«ä¾å­˜ã§ã‚ã‚Šãã‚Œã‚’åˆ¶å¾¡ã§ããªã„å•é¡Œã‚’ä¿®æ­£ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2372R1 Fixing locale handling in chrono formatters - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/06/13/165215#P2372R1-Fixing-locale-handling-in-chrono-formatters)
- [P2372R2 Fixing locale handling in chrono formatters - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P2372R2-Fixing-locale-handling-in-chrono-formatters)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®ä¿®æ­£ãªã©ã§ã™ã€‚

ã“ã®ææ¡ˆã¯LWGã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çµ‚ãˆã€æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã¾ã™ã€‚

- [P2372 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1039)

### [P2388R2 Minimum Contract Support: either Ignore or Check_and_abort](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2388r2.html)

å¥‘ç´„ãŒç ´ã‚‰ã‚ŒãŸæ™‚ã«ç¶™ç¶šã—ãªã„ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2388R0 Abort-only contract support - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/07/12/182757#P2388R0-Abort-only-contract-support)
- [P2388R1 Minimum Contract Support: either Ignore or Check_and_abort - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P2388R1-Minimum-Contract-Support-either-Ignore-or-Check_and_abort)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- åŒã˜é–¢æ•°ãŒç•°ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç¿»è¨³å˜ä½ï¼‰ã§ç•°ãªã‚‹å¥‘ç´„ãŒãªã•ã‚Œã¦ã„ã‚‹å ´åˆã€ill-formedï¼ˆè¨ºæ–­ä¸ç”¨ï¼‰ã¨ã™ã‚‹äº‹ã‚’æ˜ç¢ºã«ã—ãŸ
- å‚ç…§ã§ã¯ãªã„é–¢æ•°å¼•æ•°ã«å¯¾ã™ã‚‹äº‹å¾Œæ¡ä»¶ã«ã¤ã„ã¦ã®è­°è«–ã‚’æ‹¡å¼µ
- æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒã‚¯ãƒ­ã®è¿½åŠ 
- `std::unreachable()`ã¨ã®ç›¸äº’ä½œç”¨ã«ã¤ã„ã¦è¨˜è¼‰
- UBã‚µãƒ‹ã‚¿ã‚¤ã‚¶ã®èª¬æ˜ã‚’è¿½åŠ 

ãªã©ã§ã™ã€‚

äº‹å¾Œæ¡ä»¶ã«ãŠã„ã¦é–¢æ•°å¼•æ•°ã‚’å‚ç…§ã™ã‚‹å ´åˆã€å•é¡Œã¨ãªã‚‹ã®ã¯æ¬¡ã®æ§˜ãªã‚³ãƒ¼ãƒ‰ã§ã™

```cpp
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹å®£è¨€
int generate(int lo, int hi)
  [[pre lo <= hi]]
  [[post r: lo <= r && r <= hi]];

// é–‹ç™ºè€…ãŒè¦‹ã‚‹å®šç¾©
int generate(int lo, int hi) {
  int result = lo;
  while (++lo <= hi) // loãŒæ›´æ–°ã•ã‚Œã‚‹
  {
    if (further())
      ++result;      // loã‚ˆã‚Šã‚‚ã‚†ã£ãã‚Šã¨ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã•ã‚Œã‚‹
  }
  return result;
}
```

ã“ã®æ™‚ã€`generate()`ã®æˆ»ã‚Šå€¤ã¯å‘¼ã³å‡ºã•ã‚ŒãŸæ™‚ç‚¹ã®`lo`ä»¥ä¸Šã«ã¯ãªã‚Šã¾ã™ãŒã€é–¢æ•°çµ‚äº†æ™‚ç‚¹ã®`lo`ã‚ˆã‚Šã‚‚å°ã•ã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã™ãªã‚ã¡ã€äº‹å¾Œæ¡ä»¶ã§é–¢æ•°å¼•æ•°ã‚’å‚ç…§ã™ã‚‹å ´åˆã©ã®æ™‚ç‚¹ã®å€¤ã‚’å‚ç…§ã™ã‚‹ã‹ã§æ¡ä»¶ã®æ„å‘³ãŒå¤‰ã‚ã£ã¦ã—ã¾ã†ã®ã§ã™ã€‚

å¥‘ç´„ã•ã‚ŒãŸé–¢æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã‚‹ã®ã¯å®£è¨€ã§ã‚ã‚Šã€å®£è¨€ã«ã¯æ˜ç¢ºã«ã€Œã‚ãªãŸãŒé–¢æ•°ã«æ¸¡ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å¤‰æ›´ã•ã‚Œãªã„ï¼ˆã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ç”¨ã™ã‚‹ã®ã§ï¼‰ã€ã€Œæˆ»ã‚Šå€¤ã®æ•°å€¤ã¯ã‚ãªãŸãŒæ¸¡ã—ãŸåˆ¶é™å€¤ã®é–“ã«åã¾ã‚‹ï¼ˆé–¢æ•°ã®å®Ÿè¡Œä¸­ã«ä½œã‚‰ã‚ŒãŸå€¤ã§ã¯ãªã„ï¼‰ã€ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ï¼ˆã‚ã‚‹ã„ã¯èª­ã¿å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼‰ã€‚äººé–“ã¯å®£è¨€ã‚’ã“ã®æ§˜ã«è§£é‡ˆã™ã‚‹ãŸã‚ã€ãƒ„ãƒ¼ãƒ«ï¼ˆé™çš„è§£æãªã©ï¼‰ã‚‚ãã®ã‚ˆã†ã«è§£é‡ˆã™ã¹ãã§ã‚ã‚ŠC++ã®å¥‘ç´„ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒã‚§ãƒƒã‚¯ã‚‚åŒæ§˜ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ã¾ãŸã€é`const`éå‚ç…§é–¢æ•°å¼•æ•°ã®äº‹å¾Œæ¡ä»¶ã§ã®ä½¿ç”¨ã‚’è¨±å¯ã—ã¦ã—ã¾ã†ã¨ã€äº‹å¾Œæ¡ä»¶ãŒãƒ ãƒ¼ãƒ–å¾Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’èª­ã‚“ã§ã—ã¾ã†äº‹ã«ç¹‹ãŒã‚Šã¾ã™ã€‚

```cpp
// å®£è¨€
string forward(string str)
  [[post r: r == str]];

// å®šç¾©
string forward(string str) // disallowed in our proposal
{
  // ...
  return str; // implicit move
}             // äº‹å¾Œæ¡ä»¶ã¯ãƒ ãƒ¼ãƒ–å¾Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’èª­ã¿å–ã‚‹ï¼ˆæœªå®šç¾©å‹•ä½œï¼‰
```

ã“ã®ä¾‹ã§ã¯ã‚ˆã‚Šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ„å›³ã¨å¤–ã‚Œã¦ã„ã‚‹ã“ã¨ãŒæ˜ç¢ºã§ã‚ã‚Šã€ã“ã“ã§ã¯æœªå®šç¾©å‹•ä½œã‚ˆã‚Šã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒæœ›ã¾ã—ã„ã§ã—ã‚‡ã†ã€‚

ã“ã®ãŸã‚ã€ã“ã®ææ¡ˆã§ã¯é`const`éå‚ç…§é–¢æ•°å¼•æ•°ã‚’äº‹å¾Œæ¡ä»¶ã§å‚ç…§ã™ã‚‹ã®ã¯ill-formedã¨ã—ã¦ã„ã¾ã™ã€‚

- [P2388 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1061)

### [P2408R1 Ranges views as inputs to non-Ranges algorithms](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2408r1.html)

éRangeã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«å¯¾ã™ã‚‹åå‰ä»˜ãè¦ä»¶ã‚’ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚³ãƒ³ã‚»ãƒ—ãƒˆã§ç½®ãæ›ãˆã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2408R0 Ranges views as inputs to non-Ranges algorithms - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/08/14/213339#P2408R0-Ranges-views-as-inputs-to-non-Ranges-algorithms)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€`common_range`ã§ã¯ãªã„ç¯„å›²ã®ä½¿ç”¨ã«ã¤ã„ã¦è­°è«–ã‚’è¿½åŠ ã—ãŸäº‹ã§ã™ã€‚

- [P2408 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1078)

### [P2418R1 Add support for std::generator-like types to `std::format`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2418r1.html)

[`std::generator`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2168r3.pdf)-likeãªå‹ã«å¯¾ã™ã‚‹`<format>`ã®ã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2418R0 Add support for std::generator-like types to `std::format` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P2418R0-Add-support-for-stdgenerator-like-types-to-stdformat)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€LEWGã§ã®æŠ•ç¥¨ã®çµæœã‚’è¨˜è¼‰ã—ãŸã“ã¨ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®æ”¹å–„ãªã©ã§ã™ã€‚

ã“ã®ææ¡ˆã¯C++20ã¸ã®æ¬ é™¥å ±å‘Šï¼ˆDRï¼‰ã¨ã™ã‚‹äº‹ã§åˆæ„ãŒã¨ã‚Œã€ã™ã§ã«LWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çµ‚ãˆã¦æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ã€‚

- [P2418 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1092)

### [P2419R1 Clarify handling of encodings in localized formatting of chrono types](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2419r1.html)

`<chrono>`ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«ãŠã„ã¦ã€å®Ÿè¡Œæ™‚ãƒ­ã‚±ãƒ¼ãƒ«ãŒæŒ‡å®šã™ã‚‹ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ãƒªãƒ†ãƒ©ãƒ«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒç•°ãªã‚‹å ´åˆã®æŒ¯ã‚‹èˆã„ã‚’è¦å®šã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2419R0 Clarify handling of encodings in localized formatting of chrono types - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/09/03/230045#P2419R0-Clarify-handling-of-encodings-in-localized-formatting-of-chrono-types)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€SG16ã§ã®æŠ•ç¥¨çµæœã‚’è¨˜è¼‰ã—ãŸäº‹ã§ã™ã€‚

ã“ã®ææ¡ˆã¯SG16ã‹ã‚‰LEWGã¸ã€C++23ã«å°å…¥ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦è»¢é€ã•ã‚Œã¾ã—ãŸã€‚

- [P2419 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1093)

### [P2430R0 Slides: Partial success scenarios with P2300](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2430r0.pdf)

éåŒæœŸå‡¦ç†ã«ãŠã‘ã‚‹éƒ¨åˆ†çš„ãªæˆåŠŸï¼ˆ*Partial Success*ï¼‰ã‚’é…ä¿¡ã™ã‚‹ï¼ˆè¿”ã™ï¼‰éš›ã®ã€P2300ã®ãƒ¢ãƒ‡ãƒ«ã«ãŠã‘ã‚‹å•é¡Œç‚¹ã«ã¤ã„ã¦è§£èª¬ã—ãŸã‚¹ãƒ©ã‚¤ãƒ‰ã€‚

### [P2431R0 Presentation: Plans for P2300 Revision 2](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2431r0.pdf)

P2300R2ã«å‘ã‘ã¦ã€ã“ã‚Œã¾ã§å—ã‘å–ã£ãŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆç–‘å•ç‚¹ï¼‰ã¸ã®å›ç­”ã‚’ã¾ã¨ã‚ãŸã‚¹ãƒ©ã‚¤ãƒ‰ã€‚

### [P2432R0 Fixing istream_view](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2432r0.pdf)

`std::views::istream_view<T>()`ã®ä»–ã®`view`ã¨ã®éä¸€è²«æ€§ã‚’æ­£ã™ææ¡ˆã€‚

`std::views::istream_view<T>()`ã¯é–¢æ•°ã§ã‚ã‚Šã€å‹åã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€æ¬¡ã®ã‚ˆã†ãªã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

```cpp
int main() {
  std::istringstream mystream{"0 1 2 3 4"}; 

  std::ranges::istream_view<int> v{mystream}; // å‹åã§ã¯ãªã„ã®ã§ã€ã“ã®ã‚ˆã†ãªåˆæœŸåŒ–ã¯ã§ããªã„
  std::ranges::basic_istream_view<int, char> v{mystream}; // ã“ã‚Œã¯ok
}
```

`istream_view`ã¯ã€`std::ranges::basic_istream_view`ã¨ã„ã†`view`ã®å®Ÿä½“ã®å‹ã«å¯¾ã—ã¦`std::views::istream_view`ã¨ã„ã†ãƒ˜ãƒ«ãƒ‘é–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸€æ–¹ã§`<ranges>`ã®ä»–ã®`view`ã¯ã€`std::ranges::xxx_view`ã¨ã„ã†å®Ÿä½“ã®å‹ã«å¯¾ã—ã¦`std::views::xxx`ã¨ã„ã†é–¢æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆCPOï¼‰ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€`istream_view`ã ã‘ãŒã“ã‚Œã‚‰ã®å‘½åè¦å‰‡ã®å¤–ã«ã‚ã‚Šã¾ã™ã€‚

ãã®ãŸã‚ã€ä¸Šã«æ›¸ã„ãŸã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¯ä»–ã®`view`ã¨ã®ä¸€è²«æ€§ã®ã‚ã‚‹è‡ªç„¶ãªç™ºæƒ³ã«ã‚ˆã£ã¦æ›¸ã‹ã‚Œã¾ã™ãŒã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚ç‰¹ã«ã€`for`ãƒ«ãƒ¼ãƒ—ã¨å…±ã«æ›¸ã‹ã‚ŒãŸå ´åˆã«ç†è§£ä¸èƒ½ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¦‹ã‚‹äº‹ãŒã§ãã‚‹ã§ã—ã‚‡ã†ãƒ»ãƒ»ãƒ»

```cpp
int main() {
  std::istringstream mystream{"0 1 2 3 4"}; 

  for (int v : std::ranges::istream_view<int>{mystream}) {
    ...
  }
}
```

ã“ã®ææ¡ˆã¯ã“ã‚Œã‚‰ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã¹ãã€`istream_view`ã®å‘½åè¦å‰‡ã‚’ä»–ã®`view`ã¨ä¸€è²«ã•ã›ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã®å¾Œã§ã¯ã€`istream_view`å‘¨ã‚Šã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```cpp
namespace std::ranges {

  // basic_istream_viewã‚¯ãƒ©ã‚¹ã¯ãã®ã¾ã¾
  template<movable Val, class CharT, class Traits>
    requires default_initializable<Val> && stream-extractable<Val, CharT, Traits>
  class basic_istream_view : public view_interface<basic_istream_view<Val, CharT, Traits>>;

  // charã¨wchar_tã‚’äºˆã‚åµŒã‚ãŸå‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¿½åŠ 
  template<class Val> 
  using istream_view = basic_istream_view<Val, char>;

  template<class Val> 
  using wistream_view = basic_istream_view<Val, wchar_t>; 

  namespace views {

    // ç¾åœ¨ã®views::istream_view<T>()ã‚’å‰Šé™¤ã—ã€views::istream<T> CPOã‚’è¿½åŠ 
    template<typename T>
    inline constexpr /*unspecified*/ istream = /*unspecified*/;
  }
}
```

ã“ã‚Œã«ã‚ˆã£ã¦ã€`std::ranges::istream_view<T>`ã¯å‹åã‚’ç¤ºã™ã‚ˆã†ã«ãªã‚Š`std::views::istream<T>`ã¯ãã‚Œã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆCPOï¼‰ã¨ãªã‚Šã€ãã®ä»–ã®`view`ã¨ã®ä¸€è²«æ€§ãŒä¿ãŸã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã“ã‚Œã‚‰ã®è§£æ±ºã¯C++20ã¸ã®DRã¨ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ãŠã‚Šã€LEWGã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã¯åˆæ„ãŒå–ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

- [P2432 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1098)

### [P2435R0 2021 Summer Library Evolution Poll Outcomes](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2435r0.html)

2021å¹´ã®å¤ï¼ˆ7æœˆã‹ã‚‰9æœˆã«ã‹ã‘ã¦ï¼‰ã«è¡Œã‚ã‚ŒãŸã€LEWGã®å…¨ä½“æŠ•ç¥¨ã®çµæœã€‚

ä»¥ä¸‹ã®5ã¤ã®ææ¡ˆãŒæŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã€P2138R4ä»¥å¤–ã¯LWGã«è»¢é€ã•ã‚Œã‚‹ã“ã¨ãŒå¯æ±ºã•ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã€ãã®éš›ã«å¯„ã›ã‚‰ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P2138R4 Rules of Design <=> Wording Engagement](https://wg21.link/p2138r4)
- [P2372R1 Fixing Locale Handling In Chrono Formatters](https://wg21.link/p2372r1)
- [P1206R6 `ranges::to`](https://wg21.link/p1206r6)
- [P0533R8 constexpr For `<cmath>` And `<cstdlib>`](https://wg21.link/p0533r8)
- [P2273R2 Making `unique_ptr` constexpr](https://wg21.link/p2273r2)

### [P2436R0 2021 September Library Evolution Polls](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2436r0.html)

2021å¹´ã®ç§‹ï¼ˆ10æœˆã‹ã‚‰12æœˆã«ã‹ã‘ã¦ï¼‰ã«äºˆå®šã•ã‚Œã¦ã„ã‚‹ã€LEWGã§ã®å…¨ä½“æŠ•ç¥¨ã®äºˆå®šè¡¨ã€‚

ä»¥ä¸‹ã®5ã¤ã®ææ¡ˆãŒæŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã‚‹äºˆå®šã§ã™ã€‚

- [P2418R0 Add Support For `std::generator`-like Types To `std::format`](https://wg21.link/)
- [P2415R1 What Is A view?](https://wg21.link/)
- [P2432R0 Fix istream_view](https://wg21.link/)
- [P2351R0 Mark All Library Static Cast Wrappers As `[[nodiscard]]`](https://wg21.link/)
- [P2291R2 Add Constexpr Modifiers To Functions `to_chars` And `from_chars` For Integral Types In `<charconv>` Header](https://wg21.link/)

LEWGã§ã®ä½œæ¥­ã‚’å®Œäº†ã—ã¦LWGï¼ˆCWGï¼‰ã¸è»¢é€ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®æŠ•ç¥¨ã§ã™ã€‚ä¸Šã®3ã¤ã®ææ¡ˆã¯C++20ã¸é€†é©ç”¨ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚

### [P2437R0 Support for #warning](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2437r0.pdf)

è­¦å‘Šã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®`#warning`ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚·ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

`#warning`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯`#error`ã¨åŒæ§˜ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒã«å¯¾ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™ºè¡Œã™ã‚‹äº‹ãŒã§ãã¾ã™ãŒã€`#error`ã¨ã¯ç•°ãªã‚Šã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’åœæ­¢ã—ã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºè€…ãªã©ãŒåˆ©ç”¨è€…ã«å‘ã‘ã¦è‡´å‘½çš„ã§ã¯ãªã„è­¦å‘Šã‚’è¡¨ç¤ºã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚

ä¸»è¦ãªC/C++ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ã»ã¨ã‚“ã©ãŒæ—¢ã«ã“ã‚Œã‚’å®Ÿè£…ã—ã¦ãŠã‚Šãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã¨ãªã£ã¦ã„ã¾ã™ã€‚åŠ ãˆã¦ã€Cè¨€èªã§ã¯C23ã«å‘ã‘ã¦ã™ã§ã«`#warning`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãŒæ‰¿èªã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€C++ã§ã‚‚åŒã˜æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹äº‹ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å®Ÿè£…ã¯2ã¤ã®è¨€èªé–“ã§å®Ÿè£…ã‚’å…±æœ‰ã§ãã€Cã¨C++ã®ç›¸äº’é‹ç”¨æ€§ã‚’é«˜ã‚ã‚‹äº‹ãŒã§ãã¾ã™ã€‚

```cpp
// ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰å¯¾å¿œã—ã¦ã„ãªã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ˜ãƒƒãƒ€ã«ãŠã„ã¦ã€ãã‚Œã‚’è­¦å‘Šã™ã‚‹ã®ã«ä½¿ç”¨ã™ã‚‹
// ã‚·ãƒ³ã‚°ãƒ«ã‚¹ãƒ¬ãƒƒãƒ‰ã§ä½¿ç”¨ã™ã‚‹åˆ†ã«ã¯å•é¡Œãªã„ã®ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’æ­¢ã‚ãŸããªã„
#warning This library currently has no thread support.

...

```

- [P2437 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1103)

### [P2438R0 `std::string::substr() &&`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2438r0.html)

å³è¾ºå€¤`std::string`ã‹ã‚‰ã®`substr()`ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ææ¡ˆã€‚

`std::string::substr()`é–¢æ•°ã¯ã€å…ƒã®æ–‡å­—åˆ—ã®ä¸€éƒ¨ã‚’åˆ‡ã‚Šå‡ºã—ãŸéƒ¨åˆ†æ–‡å­—åˆ—ã‚’è¿”ã™é–¢æ•°ã§ã™ã€‚ãã®éš›ã€åˆ‡ã‚Šå‡ºã—ãŸéƒ¨åˆ†æ–‡å­—åˆ—ã¯æ–°ã—ã„`std::string`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¦è¿”ã•ã‚Œã¾ã™ã€‚

```cpp
// ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®ä¸€éƒ¨ã‚’å–ã‚Šå‡ºã™
benchmark = std::string(argv[i]).substr(12);

// prvalueãªstringã®ä¸€éƒ¨ã‚’åˆ‡ã‚Šå‡ºã™
name_ = obs.stringValue().substr(0,32);
```

ã“ã®ã‚ˆã†ã«ã€å…ƒã®`std::string`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå³è¾ºå€¤ã§ã‚ã‚‹å ´åˆã€`substr()`ã®å‡¦ç†ã§ã¯å…ƒã®æ–‡å­—åˆ—ã®ä¿æŒã™ã‚‹é ˜åŸŸã‚’å†åˆ©ç”¨ã—ã¦ã‚„ã‚‹ã“ã¨ã§ä½™è¨ˆãªã‚³ãƒ”ãƒ¼ã¨ã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å›é¿ã§ãã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ¡ãƒ³ãƒé–¢æ•°ã®`&&`ä¿®é£¾ã‚’åˆ©ç”¨ã™ã‚Œã°å¯èƒ½ã§ã‚ã‚Šã€ä¼¼ãŸã‚ˆã†ãªæœ€é©åŒ–ã¯`std::optional`ãªã©ã«è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ç¾åœ¨ã€`std::string::substr()`ã«ã¯`const`ä¿®é£¾ã•ã‚ŒãŸã‚‚ã®ã ã‘ãŒæä¾›ã•ã‚Œã¦ãŠã‚Šã€ã“ã®ææ¡ˆã§ã¯ãã‚Œã‚’`&&, const &`ã®2ã¤ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

```cpp
// ç¾åœ¨ã®substr()
constexpr basic_string substr(size_type pos = 0, size_type n = npos) const;

// ã“ã®ææ¡ˆå¾Œã®substr()
constexpr basic_string substr(size_type pos = 0, size_type n = npos) const &;
constexpr basic_string substr(size_type pos = 0, size_type n = npos) &&;
```

ææ¡ˆã‚ˆã‚Šã€æŒ¯ã‚‹èˆã„ã®å¤‰åŒ–ä¾‹

```cpp
// aã‹ã‚‰éƒ¨åˆ†æ–‡å­—åˆ—ã®stringã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½œæˆã€aã¯å¤‰æ›´ã•ã‚Œãªã„ï¼ˆã“ã®æŒ¯ã‚‹èˆã„ã¯å¤‰ã‚ã‚‰ãªã„ï¼‰
auto a = std::string(/* */);
auto b = a.substr(/*  */);


auto foo() -> std::string;
// ç¾åœ¨ : ä¸€æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®stringã‹ã‚‰éƒ¨åˆ†æ–‡å­—åˆ—ã®stringã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½œæˆ
// ææ¡ˆ : ä¸€æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®stringã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å†åˆ©ç”¨ã—ã¦éƒ¨åˆ†æ–‡å­—åˆ—ã‚’ä¿æŒã™ã‚‹stringã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
auto b = foo().substr(/* */);

// ç¾åœ¨ : ä¸€æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®stringã‹ã‚‰éƒ¨åˆ†æ–‡å­—åˆ—ã®stringã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½œæˆ
// ææ¡ˆ : ä¸€æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®stringã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å†åˆ©ç”¨ã—ã¦éƒ¨åˆ†æ–‡å­—åˆ—ã‚’ä¿æŒã™ã‚‹stringã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
auto a = std::string(/* */).substr(/* */);

// ç¾åœ¨ : aã‹ã‚‰éƒ¨åˆ†æ–‡å­—åˆ—ã®stringã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½œæˆã€aã¯å¤‰æ›´ã•ã‚Œãªã„
// ææ¡ˆ : aã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å†åˆ©ç”¨ã—ã¦éƒ¨åˆ†æ–‡å­—åˆ—ã‚’ä¿æŒã™ã‚‹stringã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã€aã¯æœ‰åŠ¹ã ãŒæœªè¦å®šãªçŠ¶æ…‹ã¨ãªã‚‹
auto a = std::string(/* */);
auto b = std::move(a).substr(/* */);
```

æœ€å¾Œã®ã‚±ãƒ¼ã‚¹ã ã‘ã¯ã“ã®ææ¡ˆã®å¤‰æ›´ã«ã‚ˆã£ã¦ç ´å£Šçš„å¤‰æ›´ã¨ãªã‚Šã¾ã™ã€‚ã¨ã¯ã„ãˆç¾åœ¨ã“ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯ãªã„ãŸã‚ã“ã†æ›¸ãã“ã¨ã¯ãªãã€æ›¸ã„ãŸã¨ã—ã¦ã‚‚æ˜ç¤ºçš„ã«`move`ã—ã¦ã„ã‚‹ãŸã‚`a`ã®å€¤ã«ã¯ã‚‚ã¯ã‚„é–¢å¿ƒãŒç„¡ã„ã“ã¨ã‚’ç†è§£ã—ãŸä¸Šã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ãã‚Œã‚’ä¼ãˆã¦ã„ã‚‹ã¯ãšãªã®ã§ã€ã“ã®ææ¡ˆã®å¤‰æ›´ã«ã‚ˆã£ã¦ãã®æ„å›³ã—ãŸæŒ¯ã‚‹èˆã„ãŒå¾—ã‚‰ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ã¾ãŸã€ã“ã®å¤‰æ›´ã¯æ—¢å­˜ã®`substr() const`ã‚’`cosnt &`ã¨`&&`ã«ç½®ãæ›ãˆã‚‹ã‚‚ã®ãªã®ã§ABiã®ç ´å£Šã‚‚ä¼´ã„ã¾ã™ã€‚ã—ã‹ã—ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®Ÿè£…ã¯å¤ã„å®Ÿè£…ã‚’åŒæ™‚ã«æä¾›ã—ç¶šã‘ã¦ãŠãã“ã¨ãŒã§ãã‚‹ãŸã‚ã€ABIã®å¾Œæ–¹äº’æ›ã‚’ä¿ã¡ãªãŒã‚‰ã“ã®å¤‰æ›´ã‚’é©ç”¨å¯èƒ½ã§ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚

ã¾ãŸã€`std::string`ã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã‚ˆã£ã¦ã‚‚`substr()`ã‚’ä½¿ç”¨ã—ãŸã®ã¨åŒã˜ã“ã¨ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€ã“ã®ææ¡ˆã§ã¯åŒæ™‚ã«å³è¾ºå€¤`substr()`ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã«å¯¾å¿œã—ãŸã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

```cpp
// å³è¾ºå€¤stringã‹ã‚‰éƒ¨åˆ†æ–‡å­—åˆ—ã‚’åˆ‡ã‚Šå‡ºã™ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
constexpr basic_string( basic_string&& other, size_type pos, const Allocator& alloc = Allocator() );
constexpr basic_string( basic_string&& other, size_type pos, size_type count, const Allocator& alloc = Allocator() );
```

ã“ã®ææ¡ˆã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã¯ã€å…ƒã®`std::string`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒªã‚½ãƒ¼ã‚¹ã‚’å†åˆ©ç”¨ã™ã‚‹ã“ã¨ã‹ã‚‰ã€ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã‚’é©åˆ‡ã«ä¼æ’­ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

```cpp
std::pmr::string s1 = ....;
std::pmr::string s2 = std::move(s1).substr();
```

ã“ã®å ´åˆã€`s1.get_allocator() == s2.get_allocator()`ã¨ãªã‚‰ãªã„ã¨ã€å†åˆ©ç”¨ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã‚’é©åˆ‡ã«é–‹æ”¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€`std::allocator_traits<A>::is_always_equal::value == true`ã¨ãªã‚‹å ´åˆã¯å¸¸ã«å†åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã†ãªã‚‰ãªã„çŠ¶æ…‹ã‚’æŒã¤ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã§ã‚‚ãã‚Œã‚’å†åˆ©ç”¨ï¼ˆ`move`ï¼‰ã™ã‚‹ã“ã¨ã§åŠ¹ç‡çš„ãªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ä¼æ’­ã‚’é”æˆã§ãã¾ã™ã€‚ãã‚Œä»¥å¤–ã®å ´åˆï¼ˆã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã®ãƒ ãƒ¼ãƒ–ãŒã§ããªã„ãªã©ï¼‰ã¯æ—¢å­˜ã®`substr()`ã¨åŒã˜æŒ¯ã‚‹èˆã„ã¨ãªã‚‹ãŸã‚ã€åŠ¹ç‡æ€§ã¯ãªããªã‚Šã¾ã™ãŒè¿½åŠ ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ã“ã®ææ¡ˆã¯ã“ã‚Œã‚‰ã®æœ€é©åŒ–ã‚’å®Ÿè£…ã«å¼·åˆ¶ã™ã‚‹ã‚‚ã®ã§ã¯ãªãã“ã®ã‚ˆã†ãªæœ€é©åŒ–ã‚’å®Ÿè£…ãŒé¸æŠã§ãã‚‹ã‚ˆã†ã«ã—ã€ã¾ãŸãã‚Œã‚’æ¨å¥¨ã™ã‚‹ã‚‚ã®ã§ã‚ã‚Šã€å®Ÿè£…ã¯ã©ã®ã‚ˆã†ã«æœ€é©åŒ–ã™ã‚‹ã‹ã‚’è‡ªç”±ã«é¸æŠã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å¾“ã£ã¦ã€ã“ã®ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã®ä¼æ’­ã‚’ã©ã®ã‚ˆã†ã«ã™ã‚‹ã‹ã¯å®Ÿè£…å®šç¾©ã¨ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

- [`std::basic_string::substr` - cpprefjp](https://cpprefjp.github.io/reference/string/basic_string/substr.html)
- [P2438 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1104)

### [P2439R0 Slides for P2415R1, what is a view?](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2439r0.pdf)

[P2415R1](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2415r1.html)ã®è§£èª¬ã‚¹ãƒ©ã‚¤ãƒ‰ã€‚

`view`ã‚³ãƒ³ã‚»ãƒ—ãƒˆã®å¤‰é·ã¨ã€`view`ã‚³ãƒ³ã‚»ãƒ—ãƒˆãŒä¿è¨¼ã—è¡¨ç¾ã™ã‚‹ã‚‚ã®ã¯ä½•ã‹ã€ãã—ã¦ææ¡ˆï¼ˆP2415ï¼‰ã®ç›®çš„ã«ã¤ã„ã¦ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

### [P2440R0 ranges::iota, ranges::shift_left, and ranges::shift_right](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2440r0.html)

æ–°ã—ã„Rangeã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚‹ã€`ranges::iota, ranges::shift_left, ranges::shift_right`ã®ææ¡ˆã€‚

ã“ã‚Œã‚‰ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯æ–°ã—ã„ã‚‚ã®ã§ã¯ãªãæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¤ã„ã‚¿ã‚¤ãƒ—ã®ã‚‚ã®ãŒæ—¢ã«ã‚ã‚Šã¾ã™ãŒã€C++20ã§ã¯`range`å¯¾å¿œã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚

#### `ranges::iota`

`ranges::iota`ã¯åŠ¹æœãŒå˜ç´”ã§ã‚ã‚‹ãŸã‚ã™ãã«è¿½åŠ ã§ããŸã®ã§ã™ãŒã€`<ranges>`ã«ã¯ã™ã§ã«`views::iota`ãŒå­˜åœ¨ã—ã¦ãŠã‚Šã€ãã®æœ‰ç”¨æ€§ãŒä¸æ˜ã§ã‚ã£ãŸãŸã‚C++20ã«ã¯è¿½åŠ ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚

ã—ã‹ã—ã€`ranges::iota`ã¯å‡ºåŠ›ç¯„å›²ã®è¦ç´ æ•°ã«åŸºã¥ã„ã¦æ›¸ãè¾¼ã‚€å€¤ã®æ•°ãŒæ±ºå®šã•ã‚Œã¾ã™ãŒã€`views::iota`ã¯ãã†ã§ã¯ãªããã®æ•°ã‚’äº‹å‰ã«æ±ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€`ranges::iota`ã¯å‡ºåŠ›ç¯„å›²ãŒã‚ã‚‰ã‹ã˜ã‚å¾—ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆã«åŠ¹ç‡çš„ã§ã™ã€‚

è¿½åŠ ã•ã‚Œã‚‹ã®ã¯æ¬¡ã®äºŒã¤ã®å½¢å¼ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã§ã™ã€‚

```cpp
// in <numeric>

namespace std::ranges {
  // iotaã®æˆ»ã‚Šå€¤å‹
  template<class O, class T>
    using iota_result = out_value_result<O, T>;
  
  // ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒšã‚¢ã‚’å—ã‘å–ã‚‹
  template<input_or_output_iterator O, sentinel_for<O> S, weakly_incrementable T>
    requires indirectly_writable<O, const T&>
  constexpr iota_result<O, T> iota(O first, S last, T value);

  // Rangeã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘å–ã‚‹
  template<weakly_incrementable T, output_range<const T&> R>
  constexpr iota_result<borrowed_iterator_t<R>, T> iota(R&& r, T value);
}
```

æˆ»ã‚Šå€¤å‹ã§ã‚ã‚‹`iota_result`ã¯ç¯„å›²ã®çµ‚äº†ä½ç½®ã‚’æŒ‡ã™ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¨è¨ˆç®—å€¤ã®æœ€çµ‚å€¤ã®ãƒšã‚¢ã¨ãªã‚‹é›†æˆä½“ã§ã™ã€‚

cpprefjpã®ã‚µãƒ³ãƒ—ãƒ«ã‚’æ”¹å¤‰ã—ãŸã‚³ãƒ¼ãƒ‰ä¾‹

```cpp
#include <numeric>
#include <iostream>
#include <array>

int main() {

  // 0ã‹ã‚‰å§‹ã¾ã‚‹10è¦ç´ ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹ã€‚
  std::array<int, 10> ar;
  const auto [it, v] = std::ranges::iota(ar, 0);

  for (int x : ar) {
    std::cout << x << std::endl;  // 0123456789
  }

  std::cout << (it == ar.end()) << std::endl; // true
  std::cout << v; // 10
}
```

#### `ranges::shift_left, ranges::shift_right`

`shift_left/shift_right`ã‚‚C++20ã‚’ç›®æŒ‡ã—ã¦ã„ãŸã®ã§ã™ãŒã€`ranges::shift_left`ã®æˆ»ã‚Šå€¤å‹ï¼ˆã‚·ãƒ•ãƒˆå¾Œç¯„å›²ã‚’ç¤ºã™`ranges::subrange`ï¼‰ãŒå…ƒã®ç¯„å›²ã®çµ‚ç«¯ã«ã¤ã„ã¦ã®æƒ…å ±ã‚’å¤±ã£ã¦ã„ã‚‹ã“ã¨ãŒæ‡¸å¿µã‹ã‚‰è­°è«–ãŒé•·å¼•ãã€C++20ã«é–“ã«åˆã„ã¾ã›ã‚“ã§ã—ãŸã€‚ç‰¹ã«ã€ç•ªå…µã«ã‚ˆã£ã¦ç¯„å›²ã®çµ‚ç«¯ãŒç¤ºã•ã‚Œã‚‹å ´åˆã€ã‚·ãƒ•ãƒˆå¾Œç¯„å›²ã®çµ‚ç«¯ã¨ç•ªå…µã«ã‚ˆã£ã¦ç¤ºã•ã‚Œã‚‹å…ƒã®ç¯„å›²ã®çµ‚ç«¯ã¨ã®é–“ã®è¦ç´ ã¯ãƒ ãƒ¼ãƒ–ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€å…ƒã®ç¯„å›²ã®çµ‚ç«¯ã‚’å¾©å…ƒã™ã‚‹ã®ãŒé›£ã—ã„ã¨ã„ã†æ‡¸å¿µãŒã‚ã£ãŸã‚ˆã†ã§ã™ã€‚

çµå±€ã€æ¬¡ã®ã‚ˆã†ãªçµè«–ãŒå¾—ã‚‰ã‚ŒãŸã‚ˆã†ã§ã™ã€‚

- æˆ»ã‚Šå€¤ã®`subrange`ãŒç©ºã§ãªã„å ´åˆã€ãã®`end()`ã‹ã‚‰ã‚·ãƒ•ãƒˆé‡`n`ã ã‘é€²ã‚ã‚‹ã“ã¨ã§çµ‚ç«¯ã‚’å›å¾©ã§ãã‚‹ã€‚
- æˆ»ã‚Šå€¤ã®`subrange`ãŒç©ºã®æ™‚ï¼ˆå…ƒã®ç¯„å›²ã®ã‚µã‚¤ã‚ºã‚ˆã‚Šã‚·ãƒ•ãƒˆé‡ã®æ–¹ãŒå¤§ãã„æ™‚ï¼‰ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å¿…ãšã—ã‚‚å…ƒã®ç¯„å›²ã®çµ‚ç«¯ã‚’è¨ˆç®—ã—ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚
    - ã“ã®æ™‚å¿…è¦ãªã®ã¯ã‚µã‚¤ã‚ºã®ã¿ã€‚ãã‚Œã¯`last - first`(å¼•æ•°ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒšã‚¢ãŒ`sized_sentinel_for`ã®ãƒ¢ãƒ‡ãƒ«ã¨ãªã‚‹å ´åˆ)ã‹`ranges::size()`(å¼•æ•°ã®`range`å‹ãŒ`sized_range`ã®ãƒ¢ãƒ‡ãƒ«ã¨ãªã‚‹å ´åˆ)ã«ã‚ˆã£ã¦è¨ˆç®—ã§ãã‚‹ã€‚
    - ãã—ã¦ãã®å ´åˆã€å…ƒã®ç¯„å›²ã¯å¤‰æ›´ã•ã‚Œãªã„ã“ã¨ãŒä¿è¨¼ã§ãã‚‹ã€‚

ãã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªåˆ†ã§åˆ†è§£ã™ã‚‹å¿…è¦ã®ã‚ã‚‹è¤‡é›‘ãªå‹ã‚’è¿”ã™ã‚ˆã‚Šã‚‚å‡¦ç†çµæœã®éƒ¨åˆ†ç¯„å›²ã‚’ç¤ºã™`subrange`ã‚’è¿”ã—ãŸæ–¹ãŒä½¿ã„ã‚„ã™ãã€ç¯„å›²çµ‚ç«¯ã‚’è¨ˆç®—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŒãã‚Œã‚’è¿”ã•ãªã„ã‚¿ã‚¤ãƒ—ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã¯å‰ä¾‹ãŒã‚ã‚Šã¾ã™ï¼ˆ`ranges::cout, ranges::min/max`ãªã©ï¼‰ã€‚ãã—ã¦ã€å•é¡ŒãŒç™ºç”Ÿã—ãªã„`ranges::shift_rgiht`ã¨æˆ»ã‚Šå€¤å‹ã‚’ä¸€è²«ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã‚‰ã®ç†ç”±ã‹ã‚‰ã“ã®ææ¡ˆã§ã¯ã€`ranges::shift_left, ranges::shift_right`ã®æˆ»ã‚Šå€¤å‹ã¯[å½“åˆã®ææ¡ˆ](https://wg21.link/p1243r3)é€šã‚Šã«ã‚·ãƒ•ãƒˆå¾Œã®éƒ¨åˆ†ç¯„å›²ã‚’ç¤ºã™`subrange`ã¨ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

ææ¡ˆã§ã¯`ranges::iota`ã¨åŒæ§˜ã«ãã‚Œãã‚Œ2ç¨®ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™

```cpp
namespace std::ranges {
  // ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒšã‚¢ã‚’å—ã‘å–ã‚‹shift_left
  template<permutable I, sentinel_for<I> S>
  constexpr subrange<I> shift_left(I first, S last, iter_difference_t<I> n);

  // rangeã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘å–ã‚‹shift_left
  template<forward_range R>
    requires permutable<iterator_t<R>>
  constexpr borrowed_subrange_t<R> shift_left(R&& r, range_difference_t<R> n);

  // ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒšã‚¢ã‚’å—ã‘å–ã‚‹shift_right
  template<permutable I, sentinel_for<I> S>
  constexpr subrange<I> shift_right(I first, S last, iter_difference_t<I> n);

  // rangeã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘å–ã‚‹shift_right
  template<forward_range R>
    requires permutable<iterator_t<R>>
  constexpr borrowed_subrange_t<R> shift_right(R&& r, range_difference_t<R> n);
}
```

å‰è¿°ã®è­°è«–ã®é€šã‚Šã€æˆ»ã‚Šå€¤å‹ã¯ã‚·ãƒ•ãƒˆå¾Œã®`subrange`ã§ã™ï¼ˆ`borrowed_subrange_t`ã¨ã¯å¼•æ•°ã®`range`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå³è¾ºå€¤ã§ã‚ã‚‹ãªã©ãƒ€ãƒ³ã‚°ãƒªãƒ³ã‚°ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®å±é™ºãŒã‚ã‚‹ã¨ãã«ä»£ã‚ã‚Šã®ã‚¿ã‚°å‹ã‚’è¿”ã™ã‚‚ã®ã§ã™ï¼‰ã€‚

cpprefjpã®ã‚µãƒ³ãƒ—ãƒ«ã‚’æ”¹å¤‰ã—ãŸã‚³ãƒ¼ãƒ‰ä¾‹

```cpp
#include <iostream>
#include <ranges>
#include <vector>
#include <algorithm>

int main() {
  // shift_left
  {
    std::vector<int> v = {1, 2, 3, 4, 5};

    std::ranges::range auto shifted_range = std::ranges::shift_left(v, 2);

    for (int x : shifted_range) {
      std::cout << x << ',';  // 3,4,5,
    }
    std::cout << std::endl;
  }

  // shift_right
  {
    std::vector<int> v = {1, 2, 3, 4, 5};

    std::ranges::range auto shifted_range = std::ranges::shift_right(v, 2);

    for (int x : shifted_range) {
      std::cout << x << ',';  // 1,2,3,
    }
    std::cout << std::endl;
  }
}
```

- [`std::shift_left` - cpprefjp](https://cpprefjp.github.io/reference/algorithm/shift_left.html)
- [`std::shift_right` - cpprefjp](https://cpprefjp.github.io/reference/algorithm/shift_right.html)
- [`std::iota` - cpprefjp](https://cpprefjp.github.io/reference/numeric/iota.html)
- [P2440 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1106)

### [P2441R0 `views::join_with`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2441r0.html)

ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã£ã¦`range`ã®`range`ã¨ãªã£ã¦ã„ã‚‹ã‚ˆã†ãªã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’æ¥åˆã—ã¦å¹³å¦åŒ–ã™ã‚‹Rangeã‚¢ãƒ€ãƒ—ã‚¿ã€`views::join_with`ã®ææ¡ˆã€‚

`views::join`ãŒ`range`ã®`range`ã‚’å˜ã«ãã®ã¾ã¾å¹³å¦åŒ–ï¼ˆå†…å´`range`ã®å„è¦ç´ ã‹ã‚‰ãªã‚‹`range`ã«å¤‰æ›ï¼‰ã™ã‚‹ã®ã«å¯¾ã—ã¦ã€`join_with`ã¯æŒ‡å®šã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŒ¿å…¥ã—ãªãŒã‚‰å¹³å¦åŒ–ã—ã¾ã™ã€‚

```cpp
std::vector<std::string> vs = {"the", "quick", "brown", "fox"};

for (char c : vs | std::views::join_with(' ')) {
    cout << c;  
}
// "the quick brown fox"ã¨ã„ã†æ–‡å­—åˆ—ãŒå‡ºåŠ›ã•ã‚Œã‚‹

for (char c : vs | std::views::join) {
    cout << c;  
}
// "thequickbrownfox"ã¨ã„ã†æ–‡å­—åˆ—ãŒå‡ºåŠ›ã•ã‚Œã‚‹
```

ã“ã®ä¾‹ã§ã¯å…¥åŠ›ã®`vs`ã¯`std::string`ã®`std::vector`ã¨ã„ã†`range`ã®`range`ã§ã‚ã‚Šã€å†…å´ã®`range`ã¯`std::striing`ã§ã™ã€‚`views::join`ã«ã‚ˆã‚‹å¹³å¦åŒ–ã¯å†…å´`range`ã®å„`std::string`ã‚’ãã®ã¾ã¾ç¹‹ã’ãŸ`range`ã«å¤‰æ›ã™ã‚‹ã‚‚ã®ã§ã™ãŒã€`views::join_with`ã¯å†…å´ã®å„`range`ã®æœ«å°¾ã«æŒ‡å®šã•ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆã“ã“ã§ã¯ã‚¹ãƒšãƒ¼ã‚¹1ã¤ï¼‰ã‚’æŒ¿å…¥ã—ã¦1æœ¬ã®`range`ã«å¤‰æ›ã—ã¾ã™ã€‚

ã¾ãŸã€ã“ã‚Œã¯`views::split`ã®é€†å¤‰æ›ã¨ãªã£ã¦ãŠã‚Šã€ãƒ‘ã‚¿ãƒ¼ãƒ³`p`ã«ã‚ˆã‚‹`str | views::split(p) | views::join_with(p)`ã®æ§˜ãªå¤‰æ›ã¯ã€ã‚‚ã¨ã®`str`ã¨åŒã˜ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã¨ãªã‚Šã¾ã™ï¼ˆå‹ã¯ç•°ãªã‚Šã¾ã™ãŒï¼‰ã€‚

ã“ã®æ§˜ãªå¹³å¦åŒ–ã¯ã€`views::join`ãŒè¿½åŠ ã®å¼•æ•°ã‚’å–ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã‚‚å®Ÿè£…ã§ãã¾ã™ãŒã€`range`ã®`range`ã‚’`views::join`Rangeã‚¢ãƒ€ãƒ—ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«æ¸¡ã—ãŸã¨ãã®æ›–æ˜§ã•ã‚’å›é¿ã™ã‚‹ãŸã‚ã«åˆ¥ã®åå‰ã®`view`ã¨ã—ã¦å°å…¥ã—ã¦ã„ã¾ã™ï¼ˆ`views::join(rr)`ãŒ`rr`ã‚’å¹³å¦åŒ–ã—ãŸã„ã®ã‹`rr`ã§`join_with`ã—ãŸã®ã‹ä¸æ˜ç­ã«ãªã‚‹ï¼‰ã€‚

ä¸Šè¨˜ä¾‹ã§ã¯å˜ã«æ–‡å­—ï¼ˆ`single_view`ã«å¤‰æ›ã•ã‚Œã¦ã„ã‚‹ï¼‰ã‚’æ¸¡ã—ã¦ã„ã¾ã—ãŸãŒ`join_with`ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¯ä»»æ„ã®`range`ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã€ãã®`value_type/reference`ã¯å…¥åŠ›`range`ã®å†…å´`range`ã®`value_type/reference`ã¨`common_type`ã‚’æœ‰ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãã®`common_type`ãŒ`join_with`ã®`value_type/reference`ã¨ãªã‚Šã¾ã™ã€‚

`join_with`ã¯`join`ã¨åŒæ§˜ã«å…¥åŠ›ã¨ã—ã¦*prvalue*ã®é`view`ãª`range`ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ã§å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã®å ´åˆã®`join_with`ã¯`input_range`ã¨ãªã‚Šã€ãã†ã§ãªã„å ´åˆã¯å…¥åŠ›`range`ã¨ãã®å†…å´`range`åŠã³ãƒ‘ã‚¿ãƒ¼ãƒ³ã®`range`ã®å…±é€šéƒ¨åˆ†ã¨ãªã‚‹ã‚«ãƒ†ã‚´ãƒªã«ãªã‚Šã¾ã™ã€‚

- [P2440 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1107)

### [P2442R0 Windowing range adaptors: `views::chunk` and `views::slide`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2442r0.html)

å…ƒã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®å„è¦ç´ ã‚’æŒ‡å®šã—ãŸè¦ç´ æ•°ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ã‚ˆã£ã¦å‚ç…§ã™ã‚‹ã‚ˆã†ãª`view`ã‚’ç”Ÿæˆã™ã‚‹ã€`views::chunk/views::slide`ã‚¢ãƒ€ãƒ—ã‚¿ã®ææ¡ˆã€‚

ææ¡ˆæ–‡æ›¸ã‚ˆã‚Šã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã€‚

```cpp
std::vector v = {1, 2, 3, 4, 5};

fmt::print("{}\n", v | std::views::chunk(2));   // [[1, 2], [3, 4], [5]]
fmt::print("{}\n", v | std::views::slide(2));   // [[1, 2], [2, 3], [3, 4], [4, 5]]
```

`fmt::print`ã¯ä»»æ„ã®`range`ã®ç›´æ¥å‡ºåŠ›ãŒå¯èƒ½ã§ã€1ã¤ã®ç¯„å›²ã‚’`[]`ã§å›²ã„ã¾ã™ã€‚

ã“ã®2ã¤ã®`view`ã¯ã©ã¡ã‚‰ã‚‚ã€`range`ã®`range`ã‚’ç”Ÿæˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

#### `views::chunk`

`views::chunk(R, N)`ã¯å…¥åŠ›ç¯„å›²`R`ã®å„è¦ç´ ã‚’`N`å€‹ã¥ã¤ã¾ã¨ã‚ãŸçµ„ã‚’è¦ç´ ã¨ã™ã‚‹`range`ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ãã®éš›ã€ã‚µã‚¤ã‚º`N`ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯`R`ä¸Šã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã›ãšã«`chunk`ã®å„è¦ç´ ã‚’ç”Ÿæˆã—ã¾ã™ã€‚`R`ã®è¦ç´ æ•°ãŒ`N`ã§å‰²ã‚Šåˆ‡ã‚Œãªã„å ´åˆã€`chunk`ã®æœ€å¾Œã®è¦ç´ ã®ã‚µã‚¤ã‚ºã¯`N`ã‚ˆã‚Šã‚‚å°ã•ããªã‚Šã¾ã™ã€‚

`views::chunk`ã®å„è¦ç´ ã¯`views::take`ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã€`chunk`ã®`value_type`ï¼ˆå¤–å´`range`å‹ï¼‰ã¯`views::take(R, N)`ã®çµæœã«ã‚ˆã‚Šã¾ã™ã€‚ãã®å ´åˆï¼ˆå…¥åŠ›`range`ãŒ`forward`ã‚ˆã‚Šå¼·ã„å ´åˆï¼‰ã€å…¥åŠ›`range`ã®è«¸æ€§è³ªã‚’ã»ã¼ãã®ã¾ã¾å—ã‘ç¶™ãã¾ã™ã€‚

ä¸€æ–¹ã§`views::chunk`ã¯`input_range`ã®å…¥åŠ›ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹äº‹ãŒææ¡ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®å ´åˆã€å…ƒã¨ãªã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¨ãã®åå¾©çŠ¶æ…‹ã¯`chunk_view`è‡ªèº«ã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œã€å…¥åŠ›`range`ã®è¦ç´ ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚ã—ãŸãŒã£ã¦ãã®å ´åˆã¯ã€`const`-iterableã§ã¯ãªããªã‚‹ãªã©å¤§ããæ€§è³ªãŒåˆ¶é™ã•ã‚Œã¾ã™ã€‚

#### `views::slide`

`views::slide(R, N)`ã¯å…¥åŠ›ç¯„å›²`R`ã®å„è¦ç´ ã‚’`N`å€‹ã¥ã¤ã¾ã¨ã‚ãŸçµ„ã‚’è¦ç´ ã¨ã™ã‚‹`range`ã‚’ç”Ÿæˆã—ã¾ã™ãŒã€`views::chunk`ã¨ç•°ãªã‚Šã‚µã‚¤ã‚º`N`ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¯`R`ä¸Šã§1è¦ç´ åˆ†ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã—ã¦`chunk`ã®å„è¦ç´ ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã™ãªã‚ã¡ã€`slide`ã®`M`ç•ªç›®ã®è¦ç´ ã¯`R`ã®`M`ç•ªç›®ã‹ã‚‰`(M+N-1)`ç•ªç›®ã®è¦ç´ ã‚’å‚ç…§ã—ã¾ã™ã€‚

ã“ã‚Œã¯`views::adjacent`ã¨ã‚ˆãä¼¼ã¦ã„ã¾ã™ãŒã€ã“ã¡ã‚‰ã¯ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚º`N`ã‚’å®Ÿè¡Œæ™‚ã«æŒ‡å®šã§ãã‚‹ç‚¹ã§ç•°ãªã£ã¦ã„ã¾ã™ã€‚

`views::slide`ã®å„è¦ç´ ã¯`views::counted`ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã€`value_type`ï¼ˆå¤–å´`range`å‹ï¼‰ã¯`std::span`ã‹`std::ranges::subrange`ã®ã©ã¡ã‚‰ã‹ã«ãªã‚Šã¾ã™ã€‚ãã®æ€§è³ªã®å¤šãã¯ã€å…¥åŠ›ã¨ãªã‚‹`range`å‹ã‹ã‚‰ç¶™æ‰¿ã—ã¾ã™ã€‚

`views::slide`ã§ã¯ã€`chunk`ã¨ç•°ãªã‚Š`input_range`ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã›ã‚“ã€‚ã“ã®å ´åˆã®è¦ç´ ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯è¤‡é›‘ã¨ãªã‚Šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ãªã„å ´åˆã¨ã®å·®ãŒå¤§ãããªã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã®ã‚ã‚‹è¦ç´ ä»¥å¤–ã®è¦ç´ ã‚‚å…¨ã¦ã‚³ãƒ”ãƒ¼ã—ã¦ä¿æŒã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãªã©ã€ã‚ã‚‰ã‚†ã‚‹å´é¢ã‹ã‚‰é«˜ã‚³ã‚¹ãƒˆã¨ãªã£ã¦ã—ã¾ã†ãŸã‚ã§ã™ã€‚ã“ã®ã“ã¨ã¯ã€`views::adjacent`ã§è­°è«–ã•ã‚Œæ±ºå®šã•ã‚ŒãŸã“ã¨ã‚’å¼•ãç¶™ã„ã¦ã„ã¾ã™ã€‚

- [P2321R2 zip](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2321r2.html)
- [P2442 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1108)

### [P2443R0 `views::chunk_by`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2443r0.html)

æŒ‡å®šã•ã‚ŒãŸè¿°èªã«ã‚ˆã£ã¦å…ƒã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®å¯å¤‰å€‹ã®è¦ç´ ã‚’çµ„ã«ã—ãŸè¦ç´ ã‹ã‚‰ãªã‚‹ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã€`views::chunk_by`ã‚¢ãƒ€ãƒ—ã‚¿ã®ææ¡ˆã€‚

```cpp
std::vector v = {1, 2, 2, 3, 0, 4, 5, 2};
fmt::print("{}\n", v | std::views::chunk_by(ranges::less_equal{}));   // [[1, 2, 2, 3], [0, 4, 5], [2]]
```

ã¤ã¾ã‚Šã€å…ƒã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ä¸Šï¼ˆä¾‹ã§ã¯`v`ï¼‰ã§é€£ç¶šã™ã‚‹2ã¤ã®è¦ç´ ã«ã¤ã„ã¦ã€æŒ‡å®šã•ã‚ŒãŸè¿°èªï¼ˆä¾‹ã§ã¯`ranges::less_equal`ã€`<=`æ¯”è¼ƒï¼‰ãŒ`false`ã¨ãªã‚‹æ‰€ã‚’åŒºåˆ‡ã‚Šã¨ã—ã¦`chunk`ã‚’ç”Ÿæˆã—ã¾ã™ã€‚é€†ã«è¨€ã†ã¨ã€è¿°èªãŒ`true`ã¨ãªã‚‹é€£ç¶šè¦ç´ ãŒ1ã¤ã®çµ„ã¨ã—ã¦`chunk_by`ã®1è¦ç´ ã«ãªã‚Šã¾ã™ã€‚

ã“ã‚Œã‚‚`range`ã®`range`ã‚’ç”Ÿæˆã™ã‚‹`view`ã§ã‚ã‚Šã€`views:chunk`ã®å„è¦ç´ ãŒ`views::take`ã§å®Ÿè£…ã•ã‚Œã‚‹ã®ã«å¯¾ã—ã¦`views::take_while`ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹ã‚‚ã®ã¨è¦‹ã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼ˆå®Ÿéš›ã«ã¯`subrange`ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã¾ã™ãŒãƒ»ãƒ»ãƒ»ï¼‰ã€‚

`views::slide`ã€`views::adjacent`ã¨åŒæ§˜ã®ç†ç”±ã«ã‚ˆã‚Šã€`chunk_by`ã¯`input_range`ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã›ã‚“ã€‚`chunk_by`è‡ªèº«ã¯`bidirectional_range`ã‹`forward_range`ã®ã©ã¡ã‚‰ã‹ã¨ãªã‚Šã€å…¥åŠ›`range`ãŒ`common_range`ã§ã‚ã‚‹ã¨ãã«ãã‚Œã‚’ç¶™æ‰¿ã—ã¾ã™ãŒã€`sized_range, borrowed_range`ã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚

ã¾ãŸã€`views::split`ãªã©ã¨åŒæ§˜ã«ã€`range`ã‚³ãƒ³ã‚»ãƒ—ãƒˆã®æ„å‘³è«–è¦ä»¶ã‚’æº€ãŸã™ãŸã‚ã«æœ€åˆã®`begin()`ã®å‘¼ã³å‡ºã—æ™‚ã«`chunk_by`ã®æœ€åˆã®è¦ç´ ã‚’å°å‡ºã™ã‚‹ãŸã‚ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’è¨ˆç®—ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ã„ã¾ã™ã€‚ã“ã®ãŸã‚ã€`const-iterable`ã§ã¯ãªããªã‚Šã¾ã™ã€‚

- [P2442 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1108)

### [P2444R0 The Asio asynchronous model](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2444r0.pdf)

Asioãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®éåŒæœŸå‡¦ç†ãƒ¢ãƒ‡ãƒ«ã«ã¤ã„ã¦è§£èª¬ã—ãŸæ–‡æ›¸ã€‚

Asioã¯åŸºç¤çš„ãªã‚½ã‚±ãƒƒãƒˆé€šä¿¡ã‚’è¡Œã†ãŸã‚ã®ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆçš„ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ãŒã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã«ã¤ãã‚‚ã®ã®ä¸¦è¡Œå‡¦ç†ã«ã¤ã„ã¦ã®ã‚µãƒãƒ¼ãƒˆã‚‚å……å®Ÿã—ã¦ã„ã¾ã™ã€‚

ã“ã®æ–‡æ›¸ã¯ã€Asioã®ä½œè€…ã®æ–¹è‡ªã‚‰Asioã®éåŒæœŸå‡¦ç†ãƒ¢ãƒ‡ãƒ«ã®æ¦‚è¦ã‚’ç´¹ä»‹ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã©ã†ã‚„ã‚‰ã“ã‚Œã¯ã€NetworkingTSã®ãƒ™ãƒ¼ã‚¹ã¨ãªã£ã¦ã„ã‚‹Asioã®éåŒæœŸãƒ¢ãƒ‡ãƒ«ã«ã¤ã„ã¦å‘¨çŸ¥ã™ã‚‹ã¨ã¨ã‚‚ã«ã€[ç¾åœ¨ã®Executorææ¡ˆ](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2300r1.html)ã«ã‚ˆã£ã¦å°å…¥ã•ã‚Œã‚ˆã†ã¨ã—ã¦ã„ã‚‹ï¼ˆNetworking TSã®ä¸‹åœ°ã¨ãªã‚‹ï¼‰éåŒæœŸãƒ¢ãƒ‡ãƒ«ã¨ã®ç›¸äº’é‹ç”¨æ€§ã«ã¤ã„ã¦è­°è«–ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã®ã‚ˆã†ã§ã™ã€‚

### [P2446R0 `views::move`](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2446r0.html)

å…¥åŠ›ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®å„è¦ç´ ã‚’`std::move`ã™ã‚‹ã‚ˆã†ãª`view`ã§ã‚ã‚‹ã€`views::move`ã®ææ¡ˆ

```cpp
std::vector<string> words = {"the", "quick", "brown", "fox", "ate", "a", "pterodactyl"};
std::vector<string> new_words;

// wordsã®stringã‚’new_wordsã¸ãƒ ãƒ¼ãƒ–ã™ã‚‹
std::ranges::copy(words | views::move, std::back_inserter(long));
```

`views::move`ã¯`views::transfom(std::move)`ã¨ã»ã¼åŒç­‰ã®ã‚‚ã®ã§ã™ã€‚ã—ã‹ã—å®Ÿéš›ã«ã¯ã€`std::move`ãŒé–¢æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚ã‚‹äº‹ã‹ã‚‰ãã®ã‚ˆã†ãªæ¸¡ã—æ–¹ã¯ã§ãã¾ã›ã‚“ã€‚

ã¾ãŸã€`views::transfom(std::move)`ã®å…¥åŠ›ã¨ãªã‚‹`range`ã®`reference`ãŒ*prvalue*ã§ã‚ã£ãŸå ´åˆã€`std::move`ã™ã‚‹ã“ã¨ã¯ç„¡é§„ã«*prvalue*ã®å®Ÿä½“åŒ–ã‚’è¡Œã†ã“ã¨ã«ãªã‚‹ãŸã‚ã€åŠ¹ç‡çš„ã§ã¯ãªããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€æ­£ç¢ºã«ãã‚Œã‚’è¡Œã†ã«ã¯å…¥åŠ›`range`ã®`reference`ãŒ*lvalue*ã®æ™‚ã ã‘`std::move`ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«å¯¾ã—ã¦`std::ranges::iter_move`CPOãŒè¡Œãªã£ã¦ã„ã‚‹äº‹ã§ã™ãŒã€`iter_move`ã¯ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãã®ã‚‚ã®ã«å¯¾ã—ã¦ä½œç”¨ã™ã‚‹ãŸã‚ã€ã“ã¡ã‚‰ã‚‚ãã®ã¾ã¾`transform`ã«æ¸¡ã™ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚

Range-v3ã«ã¯`range`ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«å¯¾ã—ã¦å¤‰æ›ã‚’è¡Œã†`iter_transform`ãŒã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ãã¡ã‚‰ã¯ãƒ ãƒ¼ãƒ–ã«ç‰¹åŒ–ã—ãŸã‚‚ã®ã§ã¯ãªãã‚ˆã‚Šæ±ç”¨ãªã‚‚ã®ã§ã‚ã‚Šã€å…¥åŠ›ã®`range`ã®æ€§è³ªã‚’ã‚ˆã‚Šè‰¯ãåæ˜ ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã™ãªã‚ã¡ã€`views::move`ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹`range`ã¯`input_range`ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã¯`views::transfom(std::move)`ã«ã‚‚è¨€ãˆã‚‹ã“ã¨ã§ã™ã€‚

ãã—ã¦ã€`views::move`ã¯`ranges::to`ã«ã‚ˆã£ã¦`range`ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒŠã¸ã®å¤‰æ›ã‚’ã‚ˆã‚ŠåŠ¹ç‡çš„ã«è¡Œã†ã®ã«å¤§ã„ã«å½¹ç«‹ã¡ã¾ã™ã€‚ã•ã‚‰ã«ã€`move_iterator`ãŒã™ã§ã«å­˜åœ¨ã—ã¦ã„ã‚‹ãŸã‚ã€ãƒ ãƒ¼ãƒ–ã‚ªãƒ³ãƒªãƒ¼ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®è¨­è¨ˆã«ã¤ã„ã¦æ™‚é–“ã‚’ã‹ã‘ãšã¨ã‚‚ã™ãã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ˆå®Ÿéš›ã«ã€ææ¡ˆã§ã¯`move_iterator`ã‚’ä½¿ç”¨ã—ã¦å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼‰ã€‚

ã“ã‚Œã‚‰ã®ç†ç”±ã‹ã‚‰ã€`views::move`ã¯ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®Rangeã‚¢ãƒ€ãƒ—ã‚¿ã¨ã—ã¦ãµã•ã‚ã—ã„ã‚‚ã®ã§ã‚ã‚‹ã®ã§ã€æ¨™æº–ã«è¿½åŠ ã—ã‚ˆã†ã¨ã™ã‚‹ææ¡ˆã§ã™ã€‚

```cpp
std::vector<string> words = {"the", "quick", "brown", "fox", "ate", "a", "pterodactyl"};
std::vector<string> new_words;

// ãã®ã¾ã¾ã ã¨ã‚³ãƒ”ãƒ¼ã«ãªã‚‹
auto copy_vec = words | ranges::to<std::vector>;
// views::moveã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§é©åˆ‡ã«ãƒ ãƒ¼ãƒ–ã§ãã‚‹
auto move_vec = words | views::move | ranges::to<std::vector>;
```

- [P2446 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1111)