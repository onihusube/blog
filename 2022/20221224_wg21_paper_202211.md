# ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´11æœˆï¼‰

æ–‡æ›¸ã®ä¸€è¦§

- [JTC1/SC22/WG21 - Papers 2022 mailing2022-11](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/#mailing2022-11)

å…¨éƒ¨ã§75æœ¬ã‚ã‚Šã¾ã™ã€‚ï¼ˆæ–°è¦35æœ¬

### [N4924 WG21 2022-10 Admin telecon minutes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/n4924.pdf)

WG21ã®å„ä½œæ¥­éƒ¨ä¼šã®ç®¡ç†è€…ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è­°äº‹éŒ²ã€‚

å‰å›ã‹ã‚‰ä»Šå›ã®ä¼šè­°ã®é–“ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã®å ±å‘ŠãŒã•ã‚Œã¦ã„ã¾ã™ã€‚

### [N4925 2023-02 Issaquah meeting information](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/n4925.pdf)

2023å¹´2æœˆã«è¡Œã‚ã‚Œã‚‹äºˆå®šã®WG21å…¨ä½“ä¼šè­°ã®ã‚¤ãƒ³ãƒ•ã‚©ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

æ¬¡å›ã¯ã€ã‚¢ãƒ¡ãƒªã‚«ã®ãƒ¯ã‚·ãƒ³ãƒˆãƒ³å·ã‚¤ã‚µã‚¯ã‚¢ã§è¡Œã‚ã‚Œã‚‹äºˆå®šã§ã€å†…å®¹ã¯ä¸»ã«ä¼šå ´ã®æ¡ˆå†…ã«ã¤ã„ã¦ã§ã™ã€‚

### [N4926 Working Draft, C++ Extensions for Library Fundamentals, Version 3](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/n4926.html)

Library Fundamental v3ã®ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ‰ãƒ©ãƒ•ãƒˆã€‚

### [N4927 Editor's Report: C++ Extensions for Library Fundamentals, Version 3](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/n4927.html)

â†‘ã®å·®åˆ†ã‚’è¨˜ã—ãŸæ–‡æ›¸ã€‚

å¤‰æ›´ç‚¹ã¯

- P2705R0 : å ±å‘Šã•ã‚ŒãŸIssueã®è§£æ±º
- P0987R2 : å‹æ¶ˆå»ã®ä»£ã‚ã‚Šã«`polymorphic_allocator<>`ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´
- P2708R1

ã®å†…å®¹ã‚’é©ç”¨ã—ãŸã“ã¨ãªã©ã§ã™ã€‚

### [P0901R10 Size feedback in operator new](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0901r10.html)

`::operator new`ãŒå®Ÿéš›ã«ç¢ºä¿ã—ãŸãƒ¡ãƒ¢ãƒªã®ã‚µã‚¤ã‚ºã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0901R7 Size feedback in operator new interface - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P0901R7-Size-feedback-in-operator-new)
- [P0901R8 Size feedback in operator new interface - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/01/17/005823#P0901R8-Size-feedback-in-operator-new)
- [P0901R9 Size feedback in operator new interface - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´05æœˆï¼‰](https://app.slack.com/client/T96G6V7T7/C04CMA3THUP)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹newå¼ã®è¨­è¨ˆã®è©³ç´°ã‚’è¿½è¨˜ã—ãŸã“ã¨ã€ã‚µã‚¤ã‚ºã‚’è¿”ã•ãªã„`operator new()`ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹æŒ¯ã‚‹èˆã„ã®å‰Šé™¤ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ•´ç†ã€ãªã©ã§ã™ã€‚

- [P0901 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/18)

### [P1018R18 C++ Language Evolution status ğŸ¦  pandemic edition ğŸ¦  2022/07â€“2022/11](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1018r18.html)

2022å¹´7æœˆã‹ã‚‰11æœˆã«ã‹ã‘ã¦ã®EWGæ´»å‹•å ±å‘Šæ›¸ã€‚

ä¸»ã«ã‚³ã‚¢è¨€èªã®Issueã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒä¸»ã ã£ãŸã‚ˆã†ã§ã™ã€‚

ãªãŠã€C++23ã«ã¤ã„ã¦ã®ä½œæ¥­ã¯çµ‚äº†ã—ã¦ã„ã‚‹ã‚‰ã—ãã€ã“ã‚Œä»¥é™ã‚³ã‚¢è¨€èªã®ææ¡ˆã‚’C++23ã«å‘ã‘ã¦ä½œæ¥­ã™ã‚‹ã“ã¨ã¯ãªã„ã‚ˆã†ã§ã™ã€‚

### [P1018R19 C++ Language Evolution status](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1018r19.html)

2022å¹´11æœˆã®konaä¼šè­°ã®EWGæ´»å‹•å ±å‘Šæ›¸ã€‚

ã‚³ã‚¢è¨€èªã®Issueã‚„NBã‚³ãƒ¡ãƒ³ãƒˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æŠ•ç¥¨ãŒè¡Œã‚ã‚Œã¦ã„ãŸã‚ˆã†ã§ã™ã€‚

C++26ã«å‘ã‘ã¦ã€ä»¥ä¸‹ã®ææ¡ˆãŒCWGã«è»¢é€ã•ã‚Œã¾ã—ãŸ

- [P1061R0 Structured Bindings can introduce a Pack](https://wg21.link/P1061R0)
- [P2361R0 Unevaluated string literals](https://wg21.link/P2361R0)
- [P2014R0 aligned allocation of coroutine frames](https://wg21.link/P2014R0)
- [P0609R1 Attributes for Structured Bindings](https://wg21.link/P0609R1)
- [P2558R0 Add @, $, and ` to the basic character set](https://wg21.link/P2558R0)
- [P2621R0 UB? In my Lexer?](https://wg21.link/P2621R0)
- [P2686R0 Updated wording and implementation experience for P1481 (constexpr structured bindings)](https://wg21.link/P2686R0)
- [P1967R0 #embed - a simple, scannable preprocessor-based resource acquisition method](https://wg21.link/P1967R0)
- [P2593R0 Allowing static_assert(false)](https://wg21.link/P2593R0)

æ¬¡ã®ææ¡ˆã¯LEWGã«è»¢é€ã•ã‚Œã¾ã—ãŸ

- [P2641R0 Checking if a union alternative is active](https://wg21.link/P2641R0)
- [P2546R0 Debugging Support](https://wg21.link/P2546R0)
- [P0876R5 fiber_context - fibers without scheduler](https://wg21.link/P0876R5)
- [P2141R0 Aggregates are named tuples](https://wg21.link/P2141R0)

### [P1028R4 SG14 status_code and standard error object](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1028r4.pdf)

ç¾åœ¨ã®`<sysytem_error>`ã«ã‚ã‚‹ã‚‚ã®ã‚’ç½®ãæ›ãˆã‚‹ã€ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰/ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¼æ¬ã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã®ææ¡ˆã€‚

`<sysytem_error>`ãƒ˜ãƒƒãƒ€ã¯`std::error_code`é–¢é€£ã®ã‚‚ã®ã‚’æ“ã™ã‚‹ãƒ˜ãƒƒãƒ€ã§ã€‚C++11ã«ã¦ã€å½“æ™‚ã®Filesystem TSã‹ã‚‰åˆ†é›¢ã•ã‚Œã‚‹å½¢ã§å…ˆè¡Œå°å…¥ã•ã‚Œã¾ã—ãŸã€‚`<filesystem>`ã‚’ä½¿ã†ã¨ãä»¥å¤–ã¯ã‚ã¾ã‚Šä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ã¯ãªã„ã‚ˆã†ã§ã™ãŒã€ã“ã‚Œã¯æ¨™æº–ã®å¤šãã®ãƒ˜ãƒƒãƒ€ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‚ç…§ã•ã‚Œã¦ãŠã‚Šã€æ¨™æº–ãƒ˜ãƒƒãƒ€ã®å†…éƒ¨ä¾å­˜é–¢ä¿‚ã®ä¸€éƒ¨ã‚’æ§‹æˆã—ã¦ã„ã¾ã™ã€‚

ã“ã®ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¨­è¨ˆä¸Šã®å•é¡Œã¯è¿‘å¹´2018å¹´ï¼‰æ˜ã‚‰ã‹ã«ãªã‚Šã€æ­£ã—ãä½¿ã†ã“ã¨ãŒé›£ã—ãã€ã‚¨ãƒ©ãƒ¼å ±å‘Šã®ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãªã®ã«ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã—ã‚„ã™ã„ãªã©ã®å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚ãã‚Œã¯[P0824R1](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0824r1.html)ã§çºã‚ã‚‰ã‚Œã¦å ±å‘Šã•ã‚Œã€ç¾åœ¨ã®`std::error_code`å‘¨ã‚Šã®å•é¡Œã‚’æ”¹å–„ã—ãŸä»£æ›¿ã®æ©Ÿèƒ½ãŒè¿½æ±‚ã•ã‚Œã¾ã—ãŸã€‚

ã“ã®ææ¡ˆã¯ã€ãã®ã‚ˆã†ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã¨ã¨ã‚‚ã«Boost.Outcomeãªã©ã§ã®çµŒé¨“ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ã€ç¾åœ¨ã®ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å•é¡Œã‚’è§£æ±ºã—ç½®ãæ›ãˆã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸­æ ¸ã¯ã€`std::error_code`ã‚’ç½®ãæ›ãˆã‚‹`std::system_code`ã¨ã„ã†ã‚¯ãƒ©ã‚¹å‹ã§ã™ã€‚ã“ã‚Œã¯ã‚·ã‚¹ãƒ†ãƒ ã®ä½•ã‹ã—ã‚‰ã®ã‚³ãƒ¼ãƒ‰ï¼ˆå¿…ãšã—ã‚‚ã‚¨ãƒ©ãƒ¼ã§ã¯ãªã„ï¼‰ã‚’çµ±ä¸€çš„ã«è¡¨ç¾ã™ã‚‹ãŸã‚ã®ã‚¯ãƒ©ã‚¹ã§ã€ä½¿ç”¨æ„Ÿã¯ã»ã¼`std::error_code`ã¨åŒæ§˜ã§ã™ã€‚

```cpp
std::system_code sc;  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ§‹ç¯‰ã¯ç©ºï¼ˆæˆåŠŸã§ã‚‚ã‚¨ãƒ©ãƒ¼ã§ã‚‚ãªã„ï¼‰
native_handle_type h = open_file(path, sc);

// Is the code a failure?
if(sc.failure()) {
  // Do semantic comparison to test if this was a file not found failure
  // This will match any system-specific error codes meaning a file not found
  if(sc != std::errc::no_such_file_or_directory) {
    std::cerr << "FATAL: " << sc.message().c_str() << std::endl;
    std::terminate();
  }
}
```

ã“ã®`open_file()`ã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã£ã¦æ¬¡ã®ã‚ˆã†ã«å®Ÿè£…ã§ãã¾ã™ã€‚

```cpp
// POSIXã‚·ã‚¹ãƒ†ãƒ ã®å ´åˆ
using native_handle_type = int;

native_handle_type open_file(const char *path, std::system_code &sc) noexcept {
  sc.clear();  // éã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã«ã™ã‚‹
  
  // ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³
  native_handle_type h = ::open(path, O_RDONLY);

  // ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
  if (h == -1) {
    // errnoã¯system_codeã«å‹æ¶ˆå»ã•ã‚Œã‚‹
    sc = std::posix_code(errno);
  }

  return h;
}
```

```cpp
// Windowsã®å ´åˆ
using native_handle_type = HANDLE;

native_handle_type open_file(const wchar_t *path, std::system_code &sc) noexcept {
  sc.clear();  // éã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã«ã™ã‚‹

  // ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³
  native_handle_type h = CreateFile(path, GENERIC_READ,
    FILE_SHARE_READ|FILE_SHARE_WRITE|FILE_SHARE_DELETE,
    nullptr,
    OPEN_EXISTING,
    FILE_ATTRIBUTE_NORMAL,
    nullptr
  );

  // ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯
  if (h == INVALID_HANDLE_VALUE) {
    // GetLastError()ã®çµæœã¯system_codeã«å‹æ¶ˆå»ã•ã‚Œã‚‹
    sc = std::win32_code(GetLastError());
  }

  return h;
}
```

ã“ã®æ–°ã—ã„`system_code`ã¯ã€`std::error_code`ã®æ¬¡ã®ã‚ˆã†ãªç‚¹ã‚’æ”¹å–„ã—ã¦ã„ã¾ã™

- `<string>`ã«ä¾å­˜ã—ãªã„
- `constexpr`å¯¾å¿œ
- `std::error_category`ã®ã€ãƒªãƒ³ã‚¯æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ ã«æ¯”è¼ƒãŒå£Šã‚Œã‚‹å•é¡ŒãŒèµ·ããªã„
- `bool`å¤‰æ›æ™‚ã®æ›–æ˜§ã•ãŒãªã„
    - `std::error_code`ã®`bool`å¤‰æ›ã§`true`ãŒå¸°ã‚‹ã®ã¯ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®æ™‚ã¨ã¯é™ã‚‰ãªã„ï¼ˆå€¤ãŒéã‚¼ãƒ­ã§ã‚ã‚‹ã“ã¨ã—ã‹æ„å‘³ã—ãªã„ï¼‰
- ä¸Šè¨˜ã¨é–¢é€£ã—ã¦ã€`0`ã‚’ç‰¹åˆ¥æ‰±ã„ã›ãšã€æˆåŠŸã¨å¤±æ•—ã‚’ä»»æ„ã«è¡¨ç¾ã§ãã‚‹
- æ¯”è¼ƒãŒæ„å‘³ãƒ™ãƒ¼ã‚¹ï¼ˆã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã¨ã®æ¯”è¼ƒã¯ãã®å€¤ã®æ¯”è¼ƒã§ã¯ãªãã€æ„å‘³ã™ã‚‹ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®æ¯”è¼ƒã«ãªã‚‹ï¼‰
    - `std::error_code`ã®ã‚ˆã†ã«å€¤ãƒ™ãƒ¼ã‚¹ã§ã¯ãªã„
    - `std::error_condition`ã¨`std::error_code`ã®ã‚ˆã†ã«åˆ†ã‹ã‚Šã¥ã‚‰ã„é–¢ä¿‚æ€§ã®ã‚¯ãƒ©ã‚¹ã‚’å¿…è¦ã¨ã—ãªã„
- ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã®å‹ãŒä»»æ„ï¼ˆ`std::error_code`ã¯`int`é™å®šï¼‰
- è¤‡æ•°ã®ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’æ‰±ã†ã“ã¨ãŒã§ãã‚‹
- ã‚¨ãƒ©ãƒ¼ã‚«ãƒ†ã‚´ãƒªã®å³å¯†ãªåŒºåˆ¥

ã¾ãŸã€ã“ã®ææ¡ˆã«ã¯å«ã¾ã‚Œã¦ã„ãªã„ã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒã€P0709ã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹é™çš„ä¾‹å¤–ã‚¯ãƒ©ã‚¹`std::error`ã‚’å®Ÿè£…ã—ã€ãã‚Œã‚’ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã¨ã™ã‚‹æˆ»ã‚Šå€¤å‹`result<T>`ã‚‚ææ¡ˆã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ã“ã‚Œã¯ã€`std::expected<T, std::error>`ã¨éå¸¸ã«ã‚ˆãä¼¼ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ã§ã™ãŒã€ã‚¨ãƒ©ãƒ¼å‹ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«ã‚ˆã£ã¦è‹¥å¹²ç•°ãªã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æŒã£ã¦ã„ã¾ã™ã€‚

- [P0824R1 Summary of SG14 discussion on <system_error>](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0824r1.html)
- [Reference implementation for proposed SG14 status_code (<system_error2>) in C++ 11 - Github](https://github.com/ned14/status-code)
- [P1028 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/405)

### [P1202R5 Asymmetric Fences](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1202r5.pdf)

éå¯¾ç§°ãªãƒ•ã‚§ãƒ³ã‚¹ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P1202R3 Asymmetric Fences - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/07/12/182757#P1202R3-Asymmetric-Fences)
- [P1202R4 Asymmetric Fences - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P1202R4-Asymmetric-Fences)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®æ˜ç¢ºåŒ–ã®ã¿ã®ã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã¯11æœˆã®konaä¼šè­°ã§Concurrency TS v2ã¸å°å…¥ã™ã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ã€‚

- [P1202 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/144)

### [P1264R2 Revising the wording of stream input operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1264r2.pdf)

`<istream>`ã®ä¾‹å¤–ã«é–¢ã™ã‚‹è¦å®šã‚’æ”¹å–„ã™ã‚‹ææ¡ˆã€‚

ç¾åœ¨ã®`<istream>`ã®è¦å®šã¯éå¸¸ã«è¤‡é›‘ã«ãªã£ã¦ãŠã‚Šã€ç‰¹ã«ã„ã¤ä¾‹å¤–ã‚’æŠ•ã’ã‚‹ã®ã‹ãŒåˆ†ã‹ã‚Šã¥ã‚‰ãã€ãã‚Œã«ã‚ˆã£ã¦å®Ÿè£…é–“ã§æŒ¯ã‚‹èˆã„ã«å·®ç•°ãŒç”Ÿã˜ã¦ã„ã¾ã™ã€‚

ç©ºã§ãªã„ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‹ã‚‰ã®æŠ½å‡ºã«å¤±æ•—ã™ã‚‹å…¥åŠ›æ“ä½œã®ä¾‹

```cpp
#include <iostream>
#include <sstream>

int main () {
  std::stringbuf buf("not empty");
  std::istream is(&buf);

  // failbitãŒã‚»ãƒƒãƒˆã•ã‚ŒãŸã‚‰ä¾‹å¤–ã‚’é€å‡ºã™ã‚‹
  is.exceptions(std::ios::failbit);

  bool threw = false;
  
  try {
    unsigned int tmp{};
    // æ•°å€¤ã‚’èª­ã¿å–ã‚Œãªã„ã®ã§å¤±æ•—ã™ã‚‹
    is >> tmp;
  } catch (std::ios::failure const&) {
    threw = true;
  }

  std::cout << "bad = " << is.bad() << std::endl;
  std::cout << "fail = " << is.fail() << std::endl;
  std::cout << "eof = " << is.eof() << std::endl;
  std::cout << "threw = " << threw << std::endl;
}
```

ã“ã®çµæœã¯ã€å®Ÿè£…ã«ã‚ˆã£ã¦æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™

||libstdc++|MSVC STL|libc++|
|---|---|---|---|
|bad|0|0|1|
|fail|1|1|1|
|eof|0|0|0|
|threw|1|1|0|

æ­£ã—ã„ã®ã¯libstdc++/MSVC STLã®æŒ¯ã‚‹èˆã„ã«æ€ãˆã¾ã™ãŒã€ç¾åœ¨ã®è¤‡é›‘ãªè¦å®šã«ã‚ˆã‚Œã°libc++ã®æŒ¯ã‚‹èˆã„ã‚‚åˆæ³•ã®ã‚ˆã†ã§ã™ã€‚ãŸã ã€ã“ã®æŒ¯ã‚‹èˆã„ã¯æœ‰ç”¨ã§ã¯ãªãã€ã»ã¼ç„¡æ„å‘³ã§ã™ã€‚

ç©ºã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‹ã‚‰ã®æŠ½å‡ºã«å¤±æ•—ã™ã‚‹å…¥åŠ›æ“ä½œã®ä¾‹

```cpp
#include <iostream>
#include <sstream>

int main () {
  std::stringbuf buf; // empty
  std::istream is(&buf);

  // failbitãŒã‚»ãƒƒãƒˆã•ã‚ŒãŸã‚‰ä¾‹å¤–ã‚’é€å‡ºã™ã‚‹
  is.exceptions(std::ios::failbit);

  bool threw = false;
  
  try {
    unsigned int tmp{};
    // æ•°å€¤ã‚’èª­ã¿å–ã‚Œãªã„ã®ã§å¤±æ•—ã™ã‚‹
    is >> tmp;
  } catch (std::ios::failure const&) {
    threw = true;
  }

  std::cout << "bad = " << is.bad() << std::endl;
  std::cout << "fail = " << is.fail() << std::endl;
  std::cout << "eof = " << is.eof() << std::endl;
  std::cout << "threw = " << threw << std::endl;
}
```

ã“ã®çµæœã¯ã€å®Ÿè£…ã«ã‚ˆã£ã¦æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™

||libstdc++|MSVC STL|libc++|
|---|---|---|---|
|bad|0|0|1|
|fail|1|1|1|
|eof|1|1|1|
|threw|1|1|0|

æ­£ã—ã„ã®ã¯libstdc++/MSVC STLã®æŒ¯ã‚‹èˆã„ã«æ€ãˆã¾ã™ãŒã€ã‚„ã¯ã‚Šã“ã‚Œã‚‚libc++ã®æŒ¯ã‚‹èˆã„ãŒé–“é•ã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€ã“ã®ã‚ˆã†ãªçŠ¶æ³ã‚’æ‹›ã„ã¦ã„ã‚‹è¤‡é›‘ãªè¦å®šã‚’æ˜ç¢ºã«ãªã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã€libstdc++/MSVC STLã®æŒ¯ã‚‹èˆã„ã‚’ç¶­æŒã—ãŸã¾ã¾libc++ã®æŒ¯ã‚‹èˆã„ã‚’ä¿®æ­£ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

- [LWG Issue 2349. Clarify input/output function rethrow behavior](https://cplusplus.github.io/LWG/issue2349)
- [P1264 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/342)

### [P1478R8 Byte-wise atomic memcpy](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1478r8.html)

ã‚¢ãƒˆãƒŸãƒƒã‚¯ã«ãƒ¡ãƒ¢ãƒªã®ã‚³ãƒ”ãƒ¼ã‚’è¡Œã†ãŸã‚ã®`std::atomic_load_per_byte_memcpy()/std::atomic_store_per_byte_memcpy()`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P1478R4 Byte-wise atomic memcpy - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´7æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/08/12/014639#P1478R4--Byte-wise-atomic-memcpy)
- [P1478R5 Byte-wise atomic memcpy - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P1478R5-Byte-wise-atomic-memcpy)
- [P1478R6 Byte-wise atomic memcpy - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/01/17/005823#P1478R6-Byte-wise-atomic-memcpy)
- [P1478R7 Byte-wise atomic memcpy - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P1478R7-Byte-wise-atomic-memcpy)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯[P2396R1](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2396r1.pdf)é–¢ã™ã‚‹LEWGã®è¦æœ›ã‚’åæ˜ ã—ãŸã“ã¨ã§ã™ã€‚

ã“ã®ææ¡ˆã¯11æœˆã®konaä¼šè­°ã§Concurrency TS v2ã¸å°å…¥ã™ã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã¾ã™ã€‚

- [P1478 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/370)

### [P1619R2 Functions for Testing Boundary Conditions on Integer Operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1619r2.pdf)

æ•´æ•°æ¼”ç®—ã®å¢ƒç•Œæ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–¢æ•°ã®ææ¡ˆã€‚

C++ã®æ•´æ•°æ¼”ç®—ã«ã¯èª°ã‚‚ãŒé­é‡ã™ã‚‹å¢ƒç•Œæ¡ä»¶ï¼ˆæœ€å¤§å€¤ãƒ»æœ€å°å€¤ã‚’è·¨ãã‚ˆã†ãªæ¼”ç®—ï¼‰ã«ã¤ã„ã¦ã®ç½ ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯åˆå¿ƒè€…ã§ã‚‚ç°¡å˜ã«é­é‡ã—ã†ã‚‹ä¸€æ–¹ã§ã€ãã®ç†è§£ã«ã¯C++è¨€èªã®çŸ¥è­˜ã‚„æ•´æ•°ã®ãƒãƒ¼ãƒ‰ä¸Šè¡¨ç¾ã®çŸ¥è­˜ã€æ•°å­¦çš„ãªçŸ¥è­˜ãªã©ã‚’å¿…è¦ã¨ã—ã€ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã«ãã®åˆ¤å®šã‚’æ›¸ãã“ã¨ã¯ã‹ãªã‚Šã®æ³¨æ„ã‚’å¿…è¦ã¨ã—ã¾ã™ã€‚

ææ¡ˆã‚ˆã‚Šã€æ•´æ•°ã®äºŒé …æ¼”ç®—ã§è¡Œã‚ã‚Œã‚‹ã“ã¨ã®æµã‚Œå›³

![](20221224_wg21_paper_202211/step_in_alithmetric_binary_op.png)

ï¼ˆææ¡ˆã«ã‚ˆã‚Œã°ã€ã“ã®å›³ã¯ä¿®æ­£ãŒå¿…è¦ãªç®‡æ‰€ãŒã‚ã‚Šã€ä»–ã®éƒ¨åˆ†ã«ã¤ã„ã¦ã‚‚ä¿®æ­£ã®å¿…è¦ãŒã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ãã‚Œã“ããŒæ•´æ•°æ¼”ç®—ã®è¤‡é›‘ã•ã‚’ç¾ã—ã¦ã„ã‚‹ã€ã¨ã®ã“ã¨ã§ã™ãƒ»ãƒ»ãƒ»ï¼‰

ã“ã®ææ¡ˆã¯ã€ãã®ã‚ˆã†ãªå¢ƒç•Œæ¡ä»¶ã«é–¢ã™ã‚‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã«ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ã€æ¡ä»¶ã‚’ç°¡å˜ã‹ã¤ç›´æ¥çš„ã«å‘½ååŠã³è¡¨ç¾ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–¢æ•°ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã«ã‚ˆã‚‹é–¢æ•°ç¾¤ã¯å¤šå²ã«æ¸¡ã‚Šã¾ã™ãŒã€ã„ãšã‚Œã‚‚ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹`can_~`ã§å§‹ã¾ã‚Šã€`bool`å€¤ã‚’è¿”ã™`constexpr`é–¢æ•°ã§ã™ã€‚

```cpp
#include <limits>

int add(std::integral auto lhs, std::integral auto rhs) {
  // 2ã¤ã®æ•´æ•°å€¤ã®è¶³ã—ç®—ãŒå•é¡Œãªãè¡Œãˆã‚‹ã‹
  assert(std::can_add(lhs, rhs));
  // è¶³ã—ç®—ã®çµæœã‚’intã«æ­£ã—ãå¤‰æ›ã§ãã‚‹ã‹
  assert(std::can_convert<int>(lhs + rhs));

  return lhs + rhs;
}
```

ä»–ã«ã‚‚ã€ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆç­‰ã®å˜é …æ¼”ç®—å­ã€å››å‰‡æ¼”ç®—ã¨`%`ãªã©ã®2é …æ¼”ç®—å­ã€`+= *=`ãªã©ã®è¤‡åˆä»£å…¥æ¼”ç®—å­ï¼ˆ`_in_place`ãŒå¾Œã‚ã«ã¤ãï¼‰ã«ãã‚Œãã‚Œå¯¾å¿œã—ãŸé–¢æ•°ãŒç”¨æ„ã•ã‚Œã€å…¨ã¦ã®é–¢æ•°ã«`_modular`ãŒå¾Œã‚ã«ã¤ããƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ`2^N`ã‚’æ³•ã¨ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ­æ¼”ç®—ã«ã‚ˆã‚‹ã‚‚ã®ï¼‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

ã“ã®é–¢æ•°ç¾¤ã¯æ¬¡ã®æ¡ä»¶ã‚’å…¨ã¦ãƒ‘ã‚¹ã™ã‚‹å ´åˆã«`true`ã‚’è¿”ã—ã€ãã†ã§ãªã‘ã‚Œã°`false`ã‚’è¿”ã—ã¾ã™ã€‚

1. å„é–¢æ•°ã«æŒ‡å®šã•ã‚ŒãŸå¼ãŒè©•ä¾¡ã•ã‚Œã‚‹ã¨ã€ãã®å®Ÿè¡Œã¯well-formed
2. å„ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã«ã¤ã„ã¦ã€æ•´æ•°æ˜‡æ ¼ã¨å¤‰æ›ãŒé©ç”¨ã•ã‚Œã‚‹å‰å¾Œã®å€¤ã¯`2^N`ã‚’æ³•ã¨ã—ã¦åˆåŒã€‚ã¾ãŸã€æ¯”è¼ƒæ¼”ç®—ã¨`/ /= % %= >> >>=`ã®ä¸¡ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã€`<< <<=`ã®å³ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã«ã¤ã„ã¦ã€æ•´æ•°æ˜‡æ ¼ã¨å¤‰æ›ã®é©ç”¨å‰å¾Œã®å€¤ã¯ç­‰ã—ããªã‚‹ã€‚
3. å¼ã®çµæœã¨æ•°å­¦æ¼”ç®—ã®çµæœã¯`2^N`ã‚’æ³•ã¨ã—ã¦åˆåŒã€‚ã¾ãŸã€ãƒã‚¹ãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹ã«`_modular`ãŒä»˜ã‹ãªã„é–¢æ•°ã§ã¯ã€å¼ã®çµæœã¨æ•°å­¦æ¼”ç®—ã®çµæœã¯ç­‰ã—ããªã‚‹ã€‚

ã“ã®ææ¡ˆã«ã‚ˆã‚‹é–¢æ•°ç¾¤ã¯ã€C++26ä»¥é™ã§å°å…¥ã•ã‚Œã‚‹Contractã«ãŠã„ã¦ã‚‚æœ‰ç”¨ã§ã‚ã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚

- [P1619 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/393)

### [P2164R8 `views::enumerate`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2164r8.pdf)

å…ƒã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®å„è¦ç´ ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç´ä»˜ã‘ãŸè¦ç´ ã‹ã‚‰ãªã‚‹æ–°ã—ã„ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹Rangeã‚¢ãƒ€ãƒ—ã‚¿`views::enumerate`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2164R0 views::enumerate - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´5æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/06/01/001003#P2164R0--viewsenumerate)
- [P2164R1 views::enumerate - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´6æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/07/05/003248#P2164R1--viewsenumerate)
- [P2164R2 views::enumerate - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´9æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/10/09/221025#P2164R2--viewsenumerate)
- [P2164R3 views::enumerate - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P2164R3-viewsenumerate)
- [P2164R4 views::enumerate - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/03/12/225547#P2164R4-viewsenumerate)
- [P2164R5 views::enumerate - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´06æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/07/12/182757#P2164R5-viewsenumerate)
- [P2164R6 views::enumerate - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/09/04/141015#P2164R6-viewsenumerate)
- [P2164R7 views::enumerate - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2164R7-viewsenumerate)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- `enumerate_result`ã‚’å‰Šé™¤ï¼ˆSG9ã§ã®æŠ•ç¥¨ã«ã‚ˆã‚Šè¦ç´ å‹ã‚’`std::tuple`ã§ä¸€è²«ã•ã›ã‚‹ã“ã¨ãŒæ±ºå®šï¼‰
- 1å¼•æ•°ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«`explicit`ã‚’ä»˜åŠ 
- `enable_borrowed_range`ç‰¹æ®ŠåŒ–ã‚’è¿½åŠ 
    - å…¥åŠ›ã®`view`ï¼ˆå…ƒã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ï¼‰ã®`borrowed_range`æ€§ã‚’å—ã‘ç¶™ã
- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ã¿ã‚’å–å¾—ã™ã‚‹`.index()`ã‚’`enumerate_view`ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«è¿½åŠ 
- ãã®ä»–æ–‡è¨€ã®æ”¹å–„ã‚„ä¿®æ­£

ãªã©ã§ã™ã€‚

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§è¿½åŠ ã•ã‚ŒãŸ`.index()`ã¯ã€å…¥åŠ›ã®`view`ã®`operator*()`ãŒé‡ãï¼ˆã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚Šï¼‰ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®å€¤ã ã‘ãŒå¿…è¦ãªå ´åˆã«ã€å…ƒã®ç¯„å›²ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®é–“æ¥å‚ç…§ã‚’å›é¿ã—ã¦ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ•°å€¤ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

```cpp
#include <vector>
#include <ranges>

int main() {
  std::vector days{"Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"};

  auto ev = days | std::views::enumerate;

  for (auto it = ev.begin(); it != ev.end(); ++it) {
    auto idx = it.index();  // å…ƒã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®é–“æ¥å‚ç…§ã‚’é¿ã‘ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ã¿ã‚’å–å¾—ã™ã‚‹

    ...
  }
}
```

ã“ã®ææ¡ˆã¯LEWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­ã§ã™ãŒã€å…ˆè¡Œã—ã¦LWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå®Œäº†ã—ã¦ã„ã¾ã™ã€‚

- [P2164 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/875)

### [P2167R3 Improved Proposed Wording for LWG 2114 (contextually convertible to bool)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2167r3.html)

*contextually convertible to bool*ã¨è¨€ã†è¦æ ¼ä¸Šã®è¨€è‘‰ã‚’ã€C++20ã§å®šç¾©ã•ã‚ŒãŸ`boolean-testable`ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¦ç½®ãæ›ãˆã‚‹ææ¡ˆã€‚

- [P2167R0 : Improved Proposed Wording for LWG 2114 - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´5æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/06/01/001003#P2167R0--Improved-Proposed-Wording-for-LWG-2114)
- [P2167R1 Improved Proposed Wording for LWG 2114 (contextually convertible to bool) - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´7æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/08/14/213339#P2167R1-Improved-Proposed-Wording-for-LWG-2114-contextually-convertible-to-bool)
- [P2167R2 Improved Proposed Wording for LWG 2114 (contextually convertible to bool) - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´7æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/07/09/160343#P2167R2-Improved-Proposed-Wording-for-LWG-2114-contextually-convertible-to-bool)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«åŸºã¥ãææ¡ˆã™ã‚‹æ–‡è¨€ã®ä¿®æ­£ã®ã¿ã§ã™ã€‚

ã“ã®ææ¡ˆã¯11æœˆã®Konaä¼šè­°ã§C++23WDã¸ã®å°å…¥ãŒæ±ºå®šã—ã¦ã„ã¾ã™ã€‚

- [P2167 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/877)

### [P2248R7 Enabling list-initialization for algorithms](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2248r7.html)

å€¤ã‚’æŒ‡å®šã™ã‚‹ã‚¿ã‚¤ãƒ—ã®æ¨™æº–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ãŠã„ã¦ã€ãã®éš›ã®å‹æŒ‡å®šã‚’çœç•¥ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2248R0 Enabling list-initialization for algorithms - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P2248R0-Enabling-list-initialization-for-algorithms)
- [P2248R1 Enabling list-initialization for algorithms - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/01/17/005823#P2248R1-Enabling-list-initialization-for-algorithms)
- [P2248R2 Enabling list-initialization for algorithms - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/11/13/193322#P2248R2-Enabling-list-initialization-for-algorithms)
- [P2248R3 Enabling list-initialization for algorithms - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/01/10/235544#P2248R3-Enabling-list-initialization-for-algorithms)
- [P2248R4 Enabling list-initialization for algorithms - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/02/19/181101#P2248R4-Enabling-list-initialization-for-algorithms)
- [P2248R5 Enabling list-initialization for algorithms - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/08/11/193828#P2248R5-Enabling-list-initialization-for-algorithms)
- [P2248R6 Enabling list-initialization for algorithms - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2248R6-Enabling-list-initialization-for-algorithms)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€Rangeã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã«å¿…è¦ãªå®Ÿè£…ã«ã‚ˆã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ä¸¦ã¹æ›¿ãˆãŒè¨±å¯ã•ã‚Œã‚‹ã®ã‹ï¼Ÿã«ã¤ã„ã¦ã®ç–‘å•ã‚’è¿½è¨˜ã—ãŸã“ã¨ã€`projected_value_t`ã‚’ãƒ•ãƒªãƒ¼ã‚¹ã‚¿ãƒ³ãƒ‡ã‚£ãƒ³ã‚°æŒ‡å®šã—ãŸã“ã¨ãªã©ã§ã™ã€‚

- [P2248 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/944)

### [P2396R1 Concurrency TS 2 fixes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2396r1.pdf)

COncurrency TSv2ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹ã„ãã¤ã‹ã®ææ¡ˆã«ã¤ã„ã¦ã€æœ¬é¡Œã¨é–¢ä¿‚ã®è–„ã„å¾®ä¿®æ­£ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2396R0 Concurrency TS 2 fixes - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´06æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/07/12/182757#P2396R0-Concurrency-TS-2-fixes)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ãƒã‚¶ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ã‚¿ã¨RCUã«å¯¾ã—ã¦é…ç½®ã™ã‚‹ãƒ˜ãƒƒãƒ€ã®å¤‰æ›´ã¨æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒã‚¯ãƒ­ã®è¿½åŠ ã‚’ææ¡ˆã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚

ã“ã®ææ¡ˆã¯11æœˆã®Konaä¼šè­°ã§Concurrency TS 2ã¸ã®é©ç”¨ãŒæ±ºå®šã—ã¦ã„ã¾ã™ã€‚

- [P2396 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1067)

### [P2434R0 Nondeterministic pointer provenance](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2434r0.html)

ç¾åœ¨ã®C++ã®ãƒã‚¤ãƒ³ã‚¿æ„å‘³è«–ã‚’ãƒã‚¤ãƒ³ã‚¿ã®*provenance*ãƒ¢ãƒ‡ãƒ«ã«å¯¾ã—ã¦æ•´åˆã•ã›ã‚‹ãŸã‚ã®ææ¡ˆã€‚

ãƒã‚¤ãƒ³ã‚¿ã«ãŠã‘ã‚‹*provenance*ã¨ã„ã†æ¦‚å¿µã¯ã€ãƒã‚¤ãƒ³ã‚¿ã®*provenance*ï¼ˆå‡ºè‡ªãƒ»ç”±æ¥ãƒ»å‡ºæ‰€ï¼‰ã‚’é‡è¦–ã—ãŸãƒã‚¤ãƒ³ã‚¿ã®æ„å‘³è«–ã®ã“ã¨ã§ã€ç¾åœ¨ã®æ•´æ•°ã‚¢ãƒ‰ãƒ¬ã‚¹çš„ãªãƒã‚¤ãƒ³ã‚¿æ„å‘³è«–ã§è¡Œãˆã¦ã—ã¾ã£ã¦ã„ã‚‹ã“ã¨ã‚’åˆ¶é™ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹è§£æã«ãŠã„ã¦ã‚ˆã‚Šå¤šãã®ä»®å®šã‚’è¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚Šã€æœ€é©åŒ–ãŒä¿ƒé€²ã•ã‚Œã¾ã™ã€‚ãã“ã§ã¯ç‰¹ã«ã€ãƒã‚¤ãƒ³ã‚¿å€¤ã‚’æ•´æ•°ã«ã‚­ãƒ£ã‚¹ãƒˆã—ãŸå¾Œã§æˆ»ã™ã¨ã„ã†æ“ä½œã«ã‚ˆã£ã¦*provenance*ãŒã©ã“ã¾ã§ä¼æ’­ã™ã‚‹ã®ã‹ãŒå•é¡Œã¨ãªã£ã¦ã„ã¾ã™ã€‚

C/C++ã®è¦æ ¼ã«ã¯ã“ã®æ¦‚å¿µã¯ã¾ã å°å…¥ã•ã‚Œã¦ãŠã‚‰ãšã€[P2381R1](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p2318r1.pdf)ã«ã¦ææ¡ˆæ®µéšã«ã‚ã‚Šã¾ã™ã€‚ãã“ã§ã¯ã€ã„ãã¤ã‹ã®*provenance*ãƒ¢ãƒ‡ãƒ«ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™

- PNVI (provenance-not-via-integer)
    - ï¼ˆãƒã‚¤ãƒ³ã‚¿ã‚’ã‚­ãƒ£ã‚¹ãƒˆã—ãŸï¼‰æ•´æ•°å€¤ã‚’ä»‹ã—ã¦ãƒã‚¤ãƒ³ã‚¿ã®*provenance*ã®è¿½è·¡ã‚’ã™ã‚‹ä»£ã‚ã‚Šã«ã€æ•´æ•°->ãƒã‚¤ãƒ³ã‚¿ã®ã‚­ãƒ£ã‚¹ãƒˆåœ°ç‚¹ã§æŒ‡å®šã•ã‚ŒãŸã‚¢ãƒ‰ãƒ¬ã‚¹ãŒç”Ÿå­˜æœŸé–“å†…ã«ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡ã—ã¦ã„ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€å•é¡ŒãŒãªã‘ã‚Œã°ãã“ã§*provenance*ã‚’å†ä½œæˆã™ã‚‹
- PNVI-ae (PNVI exposed-address)
    - PNVIã‚’ç™ºå±•ã•ã›ãŸã‚‚ã®ã§ã€ä»¥å‰ã«éœ²å‡ºã—ãŸï¼ˆ*exposed*ï¼‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…ç½®ã•ã‚Œã¦ã„ã‚‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®å®Ÿä½“ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…ç½®ã•ã‚Œã¦ã„ã‚‹å ´æ‰€ã®ã‚ˆã†ãªæ¦‚å¿µã€ã»ã¼ãƒã‚¤ãƒ³ã‚¿ã®ã“ã¨ã¨æ€ã£ã¦å·®ã—æ”¯ãˆãªã„ï¼‰ã«å¯¾ã—ã¦ã®ã¿ã€æ•´æ•°->ãƒã‚¤ãƒ³ã‚¿ã®ã‚­ãƒ£ã‚¹ãƒˆã«ãŠã„ã¦*provenance*ã®å†ä½œæˆã‚’è¨±å¯ã™ã‚‹
    - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯æ¬¡ã®ã„ãšã‚Œã‹ã®å ´åˆã«éœ²å‡ºã—ãŸã“ã¨ã«ãªã‚Šã¾ã™
      - ï¼ˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ï¼‰ãƒã‚¤ãƒ³ã‚¿å€¤ã®æ•´æ•°å‹ã¸ã®ã‚­ãƒ£ã‚¹ãƒˆ
      - ãƒã‚¤ãƒ³ã‚¿ã®è¡¨ç¾ã®ï¼ˆéãƒã‚¤ãƒ³ã‚¿å‹ã§ã®ï¼‰èª­ã¿å‡ºã—
      - `%p`ã«ã‚ˆã‚‹ãƒã‚¤ãƒ³ã‚¿å€¤ã®å‡ºåŠ›
- PNVI-ae-udi (PNVI exposed-address user-disambiguation):
    - PNVI-aeã‚’ã•ã‚‰ã«ç™ºå±•ã•ã›ãŸã‚‚ã®ã§ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç›´å¾Œã®å ´æ‰€ã®ãƒã‚¤ãƒ³ã‚¿ã®ã€ãƒã‚¤ãƒ³ã‚¿ã¨æ•´æ•°é–“ã®å¾€å¾©ã‚­ãƒ£ã‚¹ãƒˆï¼ˆãƒã‚¤ãƒ³ã‚¿<->æ•´æ•°ã®é–“ã‚’è¡Œãæ¥ã™ã‚‹ã‚­ãƒ£ã‚¹ãƒˆï¼‰ã‚‚ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€‚
    - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç›´å¾Œã®å ´æ‰€ã®ãƒã‚¤ãƒ³ã‚¿ã¨ã¯ã€ã„ã‚ã‚†ã‚‹é…åˆ—ã®æœ«å°¾ã®ãƒã‚¤ãƒ³ã‚¿ï¼ˆé…åˆ—ã®endã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ï¼‰ã‚„ã€ãã‚Œã‚’ç™ºå±•ã•ã›ã¦è¨±å¯ã•ã‚Œã¦ã„ã‚‹ä»»æ„ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®1ã¤å¾Œã‚ã‚’æŒ‡ã™ãƒã‚¤ãƒ³ã‚¿ã®å­˜åœ¨ã€ã®ã“ã¨
- PVI (provenance-via-integers)
    - æ•´æ•°æ¼”ç®—ã‚’ä»‹ã—ãŸã¨ãã§ã‚‚*provenance*ã‚’è¿½è·¡ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã€‚ãƒã‚¤ãƒ³ã‚¿å€¤ã ã‘ã§ãªãå…¨ã¦ã®æ•´æ•°å€¤ã«å¯¾ã—ã¦*provenance*ã‚’é–¢é€£ã¥ã‘ã€æ•´æ•°/ãƒã‚¤ãƒ³ã‚¿ã®ã‚­ãƒ£ã‚¹ãƒˆå‰å¾Œã§*provenance*ã‚’ä¿æŒã—ã€æ•´æ•°ã¨ãƒã‚¤ãƒ³ã‚¿ã®`+ -`æ•´æ•°æ¼”ç®—ã®çµæœã®*provenance*ã«é–¢ã—ã¦ç‰¹åˆ¥ãªé¸æŠã‚’è¡Œã†ã€‚

Cã®*provenance*å°å…¥è­°è«–ã«ãŠã„ã¦ã®æœ€æœ‰åŠ›å€™è£œã¯PNVI-ae-udiãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚ãŠãã‚‰ãã“ã‚Œã¯C++ã«ãŠã„ã¦ã‚‚åŒæ§˜ã¨ãªã‚‹ã§ã—ã‚‡ã†ã€‚

è¦æ ¼ã«ã¯å–ã‚Šè¾¼ã¾ã‚Œã¦ã„ãªãã¦ã‚‚ã€ç¾åœ¨ã®C++ï¼ˆæœ€æ–°ã®C++23ãƒ‰ãƒ©ãƒ•ãƒˆ N4917ï¼‰ãŒè¦å®šã™ã‚‹ãƒã‚¤ãƒ³ã‚¿ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã¯æ—¢ã«æ•´æ•°ã‚¢ãƒ‰ãƒ¬ã‚¹çš„ãªã‚‚ã®ã§ã¯ãªãã€ãƒã‚¤ãƒ³ã‚¿ã®*provenance*ãŒç¦æ­¢ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹å¤šãã®çŠ¶æ³ã¯ç¾åœ¨ã‚‚æœªå®šç¾©å‹•ä½œã¨ãªã‚Šã¾ã™ã€‚

```cpp
int main() {
  int jenny=0;
  // std::cout << &jenny;
  *(int*)8675309=1;
  return jenny;
}
```

å®Ÿè£…ãŒã“ã®æ•´æ•°å€¤ï¼ˆ`8675309`ï¼‰ã«å¯¾ã™ã‚‹ãƒã‚¤ãƒ³ã‚¿ã‚’ç‰¹åˆ¥ã«å®šç¾©ã—ã¦ã„ãªã„ã¨ã™ã‚‹ã¨ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯PNVI-ae-udiåŠã³PVIã®ä¸¡æ–¹ã§æœªå®šç¾©å‹•ä½œã¨ãªã‚Šï¼ˆã©ã¡ã‚‰ã‚‚ã€æ•´æ•°å€¤`8675309`ã«*provenance*ã‚’è¦‹å‡ºã›ãªã„ï¼‰ã€ç¾åœ¨ã®C++ã«ãŠã„ã¦ã‚‚ã‚­ãƒ£ã‚¹ãƒˆãŒç„¡åŠ¹ãªãƒã‚¤ãƒ³ã‚¿å€¤ã‚’ç”Ÿæˆã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‹ã‚‰æœªå®šç¾©å‹•ä½œã«ãªã‚Šã¾ã™ã€‚

```cpp
int main() {
  int x,y=0;
  uintptr_t p=(uintptr_t)&x,q=(uintptr_t)&y;
  p^=q;
  q^=p;
  p^=q;
  *(int*)q=*(int*)p;
  return x;
}
```

PVIã§ã¯ã€`p, q`ã®æ“ä½œã®çµæœå¾—ã‚‰ã‚Œã‚‹å€¤ã¯ãã®*provenance*ã‚’ç¶™æ‰¿ã—ãªã„ï¼ˆ`^=`ã¯ç‰¹åˆ¥æ‰±ã„æ¼”ç®—ã®å¯¾è±¡å¤–ãªï¼‰ãŸã‚ã“ã‚Œã‚’è¨±å¯ã—ã¾ã›ã‚“ã€‚PNVI-ae-udiã§ã¯ã€`main()`å†…2è¡Œç›®ã§ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒéœ²å‡ºã—ã¦ãŠã‚Šã€æ•´æ•°æ¼”ç®—ï¼ˆxorã«ã‚ˆã‚‹swapï¼‰å¾Œã®`p, q`ãŒç”Ÿå­˜æœŸé–“å†…ã«ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡ã—ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰è¨±å¯ã•ã‚Œã¾ã™ã€‚  
C++ã§ã¯ã€`x, y`ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒã©ã®ã‚ˆã†ã«é¸æŠã•ã‚ŒãŸã¨ã—ã¦ã‚‚`q(p)`ã¯çµå±€`x(y)`ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ãªã‚‹ãŸã‚ã€ãƒã‚¤ãƒ³ã‚¿ã¸ã®ã‚­ãƒ£ã‚¹ãƒˆã¯äº¤æ›ã•ã‚ŒãŸãƒã‚¤ãƒ³ã‚¿ã‚’ç”Ÿæˆã—ã€ã“ã‚Œã¯è¨±å¯ã•ã‚Œã¾ã™ã€‚ã“ã®è§£é‡ˆã¯ä»»æ„ã®æ•´æ•°æ¼”ç®—ã‚„I/Oæ“ä½œã«åŠã³ã¾ã™ã€‚

```cpp
int main() {
  int *p=new int;
  uintptr_t i=(uintptr_t)p;
  delete p;

  p=new int(1);
  if((uintptr_t)p==i) *(int*)i=0;
  return *p;
}
```

PVIã§ã¯ã€æ–°ã—ã„ãƒã‚¤ãƒ³ã‚¿`p`ã¨ä»¥å‰ã®`p`ç”±æ¥ã®æ•´æ•°`i`ã‚’æ¯”è¼ƒã—ãŸã ã‘ã§ã¯`i`ã«`p`ã®*provenance*ãŒç¶™æ‰¿ã•ã‚Œãªã„ãŸã‚ã€ã“ã‚Œã‚’è¨±å¯ã—ã¾ã›ã‚“ã€‚PNVI-ae-udiã§ã¯ã€æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆ`p`ã®ãƒã‚¤ãƒ³ã‚¿å€¤ï¼‰ãŒæ¯”è¼ƒï¼ˆå¾Œæ®µ2è¡Œç›®`(uintptr_t)p==i`ï¼‰æ™‚ã«éœ²å‡ºã™ã‚‹ãŸã‚ã€ãã‚Œã¨åŒã˜å€¤ã‚’æŒã¤`i`ã®ãƒã‚¤ãƒ³ã‚¿ã¸ã®ã‚­ãƒ£ã‚¹ãƒˆã¯æ–°ã—ã„`p`ã¨åŒã˜å€¤ã«ãªã‚‹ãŸã‚ã€ã“ã‚Œã¯è¨±å¯ã•ã‚Œã¾ã™ã€‚  
C++ã§ã¯ã€`i`ãŒæ–°ã—ã„`p`ã¨åŒã˜å€¤ã‚’æŒã£ã¦ã„ã‚Œã°ã€ã‚­ãƒ£ã‚¹ãƒˆã«ã‚ˆã£ã¦åŒã˜ãƒã‚¤ãƒ³ã‚¿ã«æˆ»ã•ã‚Œã‚‹ãŸã‚ã€ã“ã‚Œã¯è¨±å¯ã•ã‚Œã¾ã™ã€‚

ã“ã®ã‚ˆã†ã«ã€ç¾åœ¨ã®C++ã®ãƒã‚¤ãƒ³ã‚¿æ„å‘³è«–ã¨è¦å®šã¯PNVI-ae-udiãƒ¢ãƒ‡ãƒ«ã«ã‚ˆãæ•´åˆã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚ã—ã‹ã—ã€ç¾åœ¨ã®C++ã®ãƒã‚¤ãƒ³ã‚¿è¦å®šã¯*udi(user-disambiguation)*ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã›ã‚“ã€‚å¾€å¾©å¤‰æ›ãŒè¨±å¯ã•ã‚Œã‚‹ãƒã‚¤ãƒ³ã‚¿ã¯å…ƒã®å€¤ã‚’æŒã¤ã¨è¦å®šã•ã‚Œã¦ã„ã‚‹ï¼ˆ[expr.reinterpret.cast]/5ï¼‰ãŸã‚ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒã‚¤ãƒ³ã‚¿ã¨ãƒ¡ãƒ¢ãƒªå†…ã§ãã®ç›´å¾Œã®å ´æ‰€ã‚’æŒ‡ã™ãƒã‚¤ãƒ³ã‚¿ã«å¯¾ã—ã¦åŒã˜æ•´æ•°å€¤ã‚’ç”Ÿæˆã™ã‚‹å®Ÿéš›ã®å®Ÿè£…ã‚’ï¼ˆèª¤ã£ã¦ï¼Ÿï¼‰ç¦æ­¢ã—ã¦ã„ã¾ã™ï¼ˆã¤ã¾ã‚Šã€1ã¤ã®æ•´æ•°å€¤ã«å¯¾ã™ã‚‹ãƒã‚¤ãƒ³ã‚¿å€¤ãŒè¤‡æ•°å­˜åœ¨ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€å®Ÿéš›ã«ãã®ã‚ˆã†ãªå®Ÿè£…ãŒã‚ã‚‹ã‚ˆã†ã§ã™ï¼‰ã€‚

åŒæ§˜ã«ã€[[basic.types.general]/2â€“4](https://eel.is/c++draft/basic.types.general)ã¯ã€ãƒã‚¤ãƒˆåˆ—ã‹ã‚‰æ§‹æˆã•ã‚ŒãŸãƒã‚¤ãƒ³ã‚¿ã‹ã‚‚ã—ã‚Œãªã„ã‚‚ã®ã«ã¤ã„ã¦ã‚‚åŒæ§˜ã«å…ƒã®å€¤ã‚’æŒã¤ã“ã¨ï¼ˆå€¤è¡¨ç¾ãŒä¸€è‡´ã™ã‚‹ã“ã¨ï¼‰ã‚’è¦æ±‚ã—ã¦ãŠã‚Šã€ãã®ã‚ˆã†ãªçŠ¶æ³ã‚’è¨±å¯ã—ã¦ã„ã¾ã›ã‚“ã€‚

`std::bit_cast`ã¯åŒã˜å€¤è¡¨ç¾ã‚’æŒã¤è¤‡æ•°ã®å€¤ã®å¯èƒ½æ€§ã‚’èªã‚ã‚‹ã‚‚ã®ã®ã€çµæœã®å€¤ã¯æœªè¦å®šã¨ã—ã¦ã„ã¾ã™ã€‚

ã“ã®ææ¡ˆã¯ã€*udi(user-disambiguation)*ã‚’å®Ÿè£…ï¼ˆè©²å½“ã™ã‚‹å ´åˆã‚’æœªå®šç¾©å‹•ä½œã§ã¯ãªãï¼‰ã™ã‚‹ãŸã‚ã«ã€ã“ã‚Œã‚‰ã«é–¢é€£ã™ã‚‹è¦å®šã‚’ä¿®æ­£ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

å¤‰æ›´ã¯ã€ãƒã‚¤ãƒ³ã‚¿ã®å€¤è¡¨ç¾ï¼ˆãƒ“ãƒƒãƒˆåˆ—ï¼‰ã«ã¤ã„ã¦ã¯ã€åŒã˜ãƒ“ãƒƒãƒˆåˆ—ãŒè¤‡æ•°ã®ãƒã‚¤ãƒ³ã‚¿å€¤ã«å¯¾å¿œã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ï¼ˆ`memcpy`ãªã©ã«ã‚ˆã£ã¦ï¼‰ãã®ãƒ“ãƒƒãƒˆå€¤ãŒå–å¾—ã•ã‚Œã‚‹ï¼ˆ*acquires*ï¼‰æ™‚ã¯ã€ãã®è¤‡æ•°ã‚ã‚‹ä¸­ã‹ã‚‰well-definedã¨ãªã‚‹ï¼ˆæœªå®šç¾©å‹•ä½œã¨ãªã‚‰ãªã„ï¼‰1ã¤ã‚’é¸æŠã™ã‚‹ã€ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€*udi(user-disambiguation)*ãŒå®Ÿè£…ã•ã‚Œã€ç¾åœ¨ã®C++ã®ãƒã‚¤ãƒ³ã‚¿è¦å®šã‚’PNVI-ae-udiãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚Šæ•´åˆã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- [æ—§çŸ³å™¨æ™‚ä»£ã®ãƒã‚¤ãƒ³ã‚¿ã‚’ã”åˆ©ç”¨ã®çš†æ§˜ã¸ ï½provenanceå…¥é–€ï½ - Qiita](https://qiita.com/__pandaman64__/items/1788a90ae5be79cc908b)
- [Provenance-aware Memory Object Model for C - zenn.dev](https://zenn.dev/yohhoy/scraps/8b22a217ec7515)
- [P2434 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1364)

### [P2539R4 Should the output of `std::print` to a terminal be synchronized with the underlying stream?](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2539r4.html)

ææ¡ˆä¸­ã®`std::print`ï¼ˆ[P2093](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2093r13.html)ï¼‰ãŒå‡ºåŠ›ã™ã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ã¤ã„ã¦ã€åŒã˜ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å¯¾ã™ã‚‹ä»–ã®å‡ºåŠ›ã¨ã®åŒæœŸã‚’å–ã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

- [P2539R0 Should the output of std::print to a terminal be synchronized with the underlying stream?` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/04/02/175835#P2539R0-Should-the-output-of-stdprint-to-a-terminal-be-synchronized-with-the-underlying-stream)
- [P2539R1 Should the output of std::print to a terminal be synchronized with the underlying stream?` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/05/08/195618#P2539R1-Should-the-output-of-stdprint-to-a-terminal-be-synchronized-with-the-underlying-stream)
- [P2539R3 Should the output of std::print to a terminal be synchronized with the underlying stream?` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2539R3-Should-the-output-of-stdprint-to-a-terminal-be-synchronized-with-the-underlying-stream)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€LWGã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«åŸºã¥ãæ–‡è¨€ã®ä¿®æ­£ã§ã™ã€‚

ã“ã®ææ¡ˆã¯11æœˆã®å…¨ä½“ä¼šè­°ã§æ‰¿èªã•ã‚Œã€C++23ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ‰ãƒ©ãƒ•ãƒˆå…¥ã‚Šã—ã¦ã„ã¾ã™ã€‚

- [P2539 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1219)

### [P2546R3 Debugging Support](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2546r3.html)

æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãƒ‡ãƒãƒƒã‚°ã‚µãƒãƒ¼ãƒˆã®ç‚ºã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2546R0 Debugging Support - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P2546R0-Debugging-Support)
- [P2546R1 Debugging Support - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/05/08/195618#P2546R1-Debugging-Support)
- [P2546R2 Debugging Support - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2546R2-Debugging-Support)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®ä¿®æ­£ã¨EWGã§ã®æŠ•ç¥¨ã®çµæœã‚’è¿½è¨˜ã—ãŸäº‹ã§ã™ã€‚

ã“ã®ææ¡ˆã¯EWGã§ã®æ‰¿èªãŒå¾—ã‚‰ã‚ŒãŸãŸã‚LEWGã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒé–‹å§‹ã•ã‚Œã¾ã™ã€‚

- [P2545 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1207)

### [P2548R2 `copyable_function`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2548r2.pdf)

â†“

### [P2548R3 `copyable_function`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2548r3.pdf)

â†“

### [P2548R4 `copyable_function`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2548r4.pdf)

`std::move_only_function`ã«å¯¾ã—ã¦ã€ã‚³ãƒ”ãƒ¼å¯èƒ½ãª*Callable*ãƒ©ãƒƒãƒ‘ã§ã‚ã‚‹`copyable_function`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2548R0 `copyable_function` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/08/11/193828#P2548R0-copyable_function)
- [P2548R1 `copyable_function` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2548R1-copyable_function)

R2ã§ã®å¤‰æ›´ã¯ã€ä»¥å‰ã«é©ç”¨ã—ã¦ã„ãŸ[P2511R2](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2511r2.html)ï¼ˆ`std::nontype`ï¼‰ã®å†…å®¹ã‚’å‰Šé™¤ã—ãŸäº‹ã§ã™ï¼ˆP2511ãŒLEWGã§ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã‚’å¾—ã‚‰ã‚Œãªã‹ã£ãŸãŸã‚ã€‚

R3ã§ã®å¤‰æ›´ã¯

- ãƒ‡ã‚¶ã‚¤ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®*callable*è¦ä»¶ã‚’ä¿®æ­£
- `std::function`ã®éæ¨å¥¨åŒ–ã«ã¤ã„ã¦ã®Open Questionã‚’å‰Šé™¤
- `move_only_function`ã¸ã®å¤‰æ›ã‚’`move_only_function`ã¸ç§»å‹•
    - `move_only_function`ã®å¤‰æ›ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’åˆ©ç”¨ã™ã‚‹
- æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒªãƒ¢ãƒ«ãƒ•ã‚£ãƒƒã‚¯*Callable*ãƒ©ãƒƒãƒ‘é–“ã®å¤‰æ›é–¢ä¿‚ã«ã¤ã„ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
- ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã‚µãƒãƒ¼ãƒˆã®å¯èƒ½æ€§ã«ã¤ã„ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
    - ã“ã®ææ¡ˆã§ã¯ã‚„ã‚‰ãªã„

R4ï¼ˆã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ï¼‰ã§ã®å¤‰æ›´ã¯ã€`move_only_function`ã®å¤‰æ›ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§å¤‰æ›æ™‚ã«ä¾‹å¤–ã‚’æŠ•ã’ãªã„è¦å®šã‚’å‰Šé™¤ã—ãŸäº‹ã§ã™ã€‚

- [P2511R0 Beyond `operator()`: NTTP callables in type-erased call wrappers - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/02/19/181101#P2511R0-Beyond-operator-NTTP-callables-in-type-erased-call-wrappers)
- [P2548 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1275)

### [P2552R1 On the ignorability of standard attributes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2552r1.pdf)

å±æ€§ã‚’ç„¡è¦–ã§ãã‚‹ã¨ã„ã†æ¦‚å¿µã«ã¤ã„ã¦ã€å®šç¾©ã—ç›´ã™ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2552R0 On the ignorability of standard attributes - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P2552R0-On-the-ignorability-of-standard-attributes)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯æ˜ç¢ºã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€å…¨ä½“çš„ã«èª¬æ˜ã‚„ä¾‹ãŒæ‹¡å……ã•ã‚Œã¦ã„ã¾ã™ã€‚ãŠãã‚‰ãã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã¯R0ã®å¾Œã«æå‡ºã•ã‚ŒãŸCWG Issue2538ã¨NBã‚³ãƒ¡ãƒ³ãƒˆã‚’å—ã‘ã¦ã®æ›´æ–°ã§ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€å±æ€§ã®ç„¡è¦–ã«ã¤ã„ã¦æ¬¡ã®3ã¤ã®è¦³ç‚¹ã‹ã‚‰æ±ºå®šãŒå¿…è¦ã ã¨ã—ã¦ã€ãã‚Œãã‚Œã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æç¤ºã—ã¦ã„ã¾ã™

1. å®Ÿè£…ãŒæ¨™æº–å±æ€§ã‚’æ§‹æ–‡çš„ã«ç„¡è¦–ã§ãã‚‹ã‹ã‚’æ˜ç¢ºã«ã™ã‚‹
    1. æ¨™æº–å±æ€§ã‚’æ§‹æ–‡çš„ã«ç„¡è¦–ã§ããªã„ã“ã¨ã‚’æ˜ç¢ºã«ã™ã‚‹
        - R0ãŠã‚ˆã³CWGã®æ¨å¥¨
    2. æ¨™æº–å±æ€§ã‚’æ§‹æ–‡çš„ã«ç„¡è¦–ã§ãã‚‹ã“ã¨ã‚’è¦å®šã™ã‚‹
        - å¼•æ•°ãªã©ã¯æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã•ã‚Œãšã€ç„¡è¦–ã•ã‚Œã‚‹å±æ€§å†…ã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¯ODR-usedã§ã¯ãªã„
    3. æ¨™æº–å±æ€§ãŒæ¡ä»¶ä»˜ãã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œãªã„ã“ã¨ã‚’æ˜ç¢ºåŒ–ã™ã‚‹
        - ç‰¹å®šã®æ¨™æº–å±æ€§ã‚’å®Ÿè£…ã—ãªã„å ´åˆã¯æ–‡æ›¸åŒ–ã—ã€ä½¿ç”¨ã•ã‚ŒãŸã¨ãã¯è­¦å‘Šã™ã‚‹ 
    4. ä½•ã‚‚ã—ãªã„
2. æ¨™æº–å±æ€§ãŒæ„å‘³çš„ã«ç„¡è¦–ã§ãã‚‹ã¨ã„ã†æ™‚ã®æ„å‘³ã‚’æ˜ç¢ºã«ã™ã‚‹
    1. æ¨™æº–å±æ€§ãŒæ„å‘³çš„ã«ç„¡è¦–ã§ãã‚‹ã“ã¨ã‚’è¦å®šã—ã€ã“ã‚ŒãŒæ­£ç¢ºã«ä½•ã‚’æ„å‘³ã™ã‚‹ã‹ã‚’æ¨™æº–ã§æŒ‡å®šã™ã‚‹
    2. ä»£ã‚ã‚Šã«ã€ã“ã‚Œã‚’åˆ¥ã®æ–°ã—ã„Standing Documentã§æŒ‡å®šã™ã‚‹
    3. ä½•ã‚‚ã—ãªã„
3. å®Ÿè£…ãŒç„¡è¦–ã™ã‚‹å±æ€§ã«å¯¾ã™ã‚‹`__has_cpp_attribute`ã®å‹•ä½œã‚’æ˜ç¢ºã«ã™ã‚‹
    1. `__has_cpp_attribute`ãŒæ¨™æº–å±æ€§ã«å¯¾ã—ã¦æ­£ã®å€¤ã‚’è¿”ã™ã®ã¯ã€å®Ÿè£…ãŒãã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã®æœ‰ç”¨ãªå®Ÿè£…ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã®ã¿
      - GCCã®å®Ÿè£…
    2. æœ‰ç”¨ãªã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‚’å®Ÿè£…ã—ã¦ã„ãªãã¦ã‚‚ã€å®Ÿè£…ãŒãã®å±æ€§ã‚’èªè­˜ã§ãã‚‹å ´åˆã¯`__has_cpp_attribute`ã¯æ­£ã®å€¤ã‚’è¿”ã™
      - clang/ICCã®å®Ÿè£…
    3. ä½•ã‚‚ã—ãªã„

11æœˆã®konaä¼šè­°ã§NBã‚³ãƒ¡ãƒ³ãƒˆã«é–¢é€£ã—ã¦ã“ã‚Œã®é¸æŠã«é–¢ã™ã‚‹æŠ•ç¥¨ãŒè¡Œã‚ã‚ŒãŸã¨ã“ã‚ã€1-1ã«ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ãŒå¾—ã‚‰ã‚Œã¦æ¡æŠã•ã‚ŒãŸä¸€æ–¹ã€2ã¨3ã¯ã©ã¡ã‚‰ã«ã‚‚ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ãŒå¾—ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚

CWG2538ã®æ¡æŠã«ã‚ˆã£ã¦ã€æ¨™æº–å±æ€§ã®ç„¡è¦–ã¨ã¯ãã®æ„å‘³çš„ãªåŠ¹æœã®ã¿ã§å±æ€§ã®æ§‹æ–‡ã‚’ç„¡è¦–ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ãªã„ã€ã¨ãªã£ãŸã‚ã‘ã§ã™ãŒã€æŠ•ç¥¨ã«å½“ãŸã£ã¦ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å®Ÿè£…è€…ãŒå®Ÿè£…ã§ããªã„ã¨ã—ã¦å¼·ãåå¯¾ã—ç¶šã‘ã¦ã„ãŸã‚ˆã†ã§ã™ã€‚

- [GB-055 9.12.1p6 [dcl.attr.grammar] Ignoring standard attributes](https://github.com/cplusplus/nbballot/issues/430)
- [CWG Issue 2538. Can standard attributes be syntactically ignored?](https://cplusplus.github.io/CWG/issues/2538.html)
- [CWG2538 Can standard attributes be syntactically ignored?](https://github.com/cplusplus/papers/issues/1252)
- [P2552 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1212)

### [P2559R1 Plan for Concurrency Technical Specification Version 2](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2559r1.html)

Concurrency TS v2ç™ºåŠ¹ã«å‘ã‘ãŸä½œæ¥­è¨ˆç”»æ›¸ã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2559R0 Plan for Concurrency Technical Specification Version 2 - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/05/08/195618#P2559R0-Plan-for-Concurrency-Technical-Specification-Version-2)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€ãƒã‚¶ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ã‚¿ï¼ˆ[P1121R3](https://wg21.link/P1121R3)ï¼‰ã¨RCUï¼ˆ[P1122R4](https://wg21.link/P1122R4)ï¼‰ãŒã™ã§ã«Concurrency TS v2ã«æ¡æŠã•ã‚ŒãŸã“ã¨ã‚’åæ˜ ã—ãŸäº‹ã§ã™ã€‚

### [P2564R1 consteval needs to propagate up](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2564r1.html)

â†“

### [P2564R2 consteval needs to propagate up](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2564r2.html)

â†“

### [P2564R3 consteval needs to propagate up](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2564r3.html)

`consteval`é–¢æ•°ã‚’`constexpr`é–¢æ•°ã®ä¸­ã§å‘¼ã³å‡ºã™ã“ã¨ãŒã§ããªã„å•é¡Œã‚’è»½æ¸›ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2564R0 consteval needs to propagate up - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/04/02/175835#P2564R0-consteval-needs-to-propagate-up)

R1ã§ã®å¤‰æ›´ã¯ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã¨ã‚µãƒ³ãƒ—ãƒ«ã®è¿½åŠ ã§ã™ã€‚

R2ã§ã®å¤‰æ›´ã¯ã€é›†æˆä½“åˆæœŸåŒ–ã«é–¢ã™ã‚‹æ–‡è¨€ã‚’è¿½åŠ ã—ãŸã“ã¨ã§ã™ã€‚

R3ï¼ˆã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ï¼‰ã§ã®å¤‰æ›´ã¯ã€æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒã‚¯ãƒ­ã‚’è¿½åŠ ã—ãŸã“ã¨ã§ã™ã€‚

ã“ã®ææ¡ˆã¯11æœˆã®konaä¼šè­°ã§æ¡æŠã•ã‚Œã€C++23WDã«é©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P2564 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1223)

### [P2570R1 Contract predicates that are not predicates](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2570r1.html)

ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ³¨é‡ˆã«æŒ‡å®šã•ã‚ŒãŸæ¡ä»¶å¼ãŒå‰¯ä½œç”¨ã‚’æŒã¤å ´åˆã«ã©ã†ã™ã‚‹ã‹ã«ã¤ã„ã¦ã€è­°è«–ã‚’ã¾ã¨ã‚ãŸæ–‡æ›¸ã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2570R0 On side effects in contract annotations - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´06æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/07/09/160343#P2570R0-On-side-effects-in-contract-annotations)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- è­°è«–ã®ç¯„å›²ã‚’æ‹¡å¼µã—ã€å†ªç­‰æ€§ãªã©ã®å¥‘ç´„æ¡ä»¶å¼ã®ä»–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚’å«ã‚ãŸ
- å¥‘ç´„æ¡ä»¶å¼ã®å®Ÿè¡Œæ™‚è©•ä¾¡ã‹ã‚‰ã€å¥‘ç´„æ³¨é‡ˆã«åŸºã¥ãé™çš„è§£æã«è­°è«–ã‚’ã‚·ãƒ•ãƒˆ
- P2680R0ã§ç¤ºå”†ã•ã‚ŒãŸè§£æ±ºç­–ã«å¯¾å‡¦
- ç´”ç²‹ãªå¥‘ç´„æ¡ä»¶ã¨ãã†ã§ã¯ãªã„ã‚‚ã®ãŒå…±å­˜ã§ãã‚‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦è§£èª¬ã‚’è¿½è¨˜
- N2956ï¼ˆ`[[unsequenced]]`ï¼‰ãŒå¥‘ç´„æ¡ä»¶ã‚’åˆ¶é™ã™ã‚‹ã®ã«å½¹ç«‹ã¤å¯èƒ½æ€§ã«ã¤ã„ã¦ã®è­°è«–ã‚’è¿½åŠ 
- å¥‘ç´„æ¡ä»¶å¼ã§æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã‚’ã©ã®ç¨‹åº¦ä½¿ç”¨ã§ãã‚‹ã‹ã‚’åˆ¤æ–­ã™ã‚‹ãŸã‚ã®åŸºæº–ã«ã¤ã„ã¦èª¬æ˜ã‚’è¿½è¨˜

ãªã©ã§ã™ã€‚

- [reproducible/unsequencedå±æ€§ - yohhoyã®æ—¥è¨˜](https://yohhoy.hatenadiary.jp/entry/20220909/p1)
- [P2570 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1259)

### [P2588R2 Relax std::barrier phase completion step guarantees](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2588r2.html)
### [P2589R1 static operator[]](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2589r1.pdf)
### [P2602R2 Poison Pills are Too Toxic](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2602r2.html)
### [P2614R2 Deprecate numeric_limits::has_denorm](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2614r2.pdf)
### [P2615R1 Meaningful exports](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2615r1.html)
### [P2616R1 Making std::atomic notification/wait operations usable in more situations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2616r1.html)
### [P2616R2 Making std::atomic notification/wait operations usable in more situations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2616r2.html)
### [P2640R2 Modules: Inner-scope Namespace Entities: Exported or Not?](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2640r2.pdf)
### [P2644R1 Final Fix of Broken Range based for Loop Rev 1](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2644r1.pdf)
### [P2647R1 Permitting static constexpr variables in constexpr functions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2647r1.html)
### [P2649R0 2022-10 Library Evolution Poll Outcomes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2649r0.html)

2022å¹´10æœˆã«è¡Œã‚ã‚ŒãŸLEWGã«ãŠã‘ã‚‹å…¨ä½“æŠ•ç¥¨ã®çµæœã€‚

æ¬¡ã®ææ¡ˆãŒæŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã€ä¸€éƒ¨ã®æŠ•ç¥¨ã«å½“ãŸã£ã¦å¯„ã›ã‚‰ã‚ŒãŸè³›å¦ã®ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

- C++23
    - [P2539R3 print To Terminal Synchronization](https://wg21.link/P2539R3)
- C++26
    - [P2631R0 Publish The Library Fundamentals v3 Technical Specification Now](https://wg21.link/P2631R0)
    - [P1083R6 resource_adaptor](https://wg21.link/P1083R6)
    - [P2587R3 to_string Or Not to_string](https://wg21.link/P2587R3)
    - [P2495R1 Interfacing stringstreams With string_view](https://wg21.link/P2495R1)
    - [P2510R3 Formatting Pointers](https://wg21.link/P2510R3)
    - [P2572R0 std::format Fill Character Allowances](https://wg21.link/P2572R0)
    - [P2511R2 Beyond operator(): NTTP Callables In Type-Erased Call Wrappers](https://wg21.link/P2511R2)
    - [P2592R2 Hashing Support For chrono Value Classes](https://wg21.link/P2592R2)
    - [P0543R2 Saturation Arithmetic](https://wg21.link/P0543R2)
    - [P0870R4 is_convertible_without_narrowing](https://wg21.link/P0870R4)
    - [P2614R1 Deprecate numeric_limits::has_denorm](https://wg21.link/P2614R1)

ã“ã®ã†ã¡ã€P2511R2ãŒã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã‚’å¾—ã‚‰ã‚Œãšã€P2614R1ã¯ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®è¨­å®šã‚’é–“é•ãˆã¦ã„ãŸãŸã‚ã‚„ã‚Šç›´ã—ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚

### [P2650R0 2022-11 Library Evolution Polls](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2650r0.html)

2022å¹´11æœˆã«è¡Œã‚ã‚Œã‚‹LEWGå…¨ä½“æŠ•ç¥¨ã®äºˆå®šè¡¨ã€‚

æ¬¡ã®ææ¡ˆï¼ˆãŠã‚ˆã³NBã‚³ãƒ¡ãƒ³ãƒˆï¼‰ãŒæŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã¾ã™ã€‚

- C++23
    - [P2164R8 views::enumerate](https://wg21.link/P2164R8)
    - [P2711R1 Making Multi-Param Constructors Of Views Explicit](https://wg21.link/P2711R1)
    - [P2655R1 common_reference_t Of reference_wrapper Should Be A Reference Type](https://wg21.link/P2655R1)
    - [FR-015-026 Remove cbegin/cend From Spans And Views](https://github.com/cplusplus/nbballot/issues/417)
    - [FR-013-020 Replace repeat With cycle](https://github.com/cplusplus/nbballot/issues/415)
    - [P2693R0 Formatting thread::id And stacktrace](https://wg21.link/P2693R0)
    - [LWG3806 Should Concept formattable<T, charT> Default To char?](https://wg21.link/LWG3806)
    - [FR-003-010 Formatting Of Ranges Of tuple-like Objects](https://github.com/cplusplus/nbballot/issues/406)
    - [P2588R2 Relax barrier Phase Completion Step Guarantees](https://wg21.link/P2588R2)
    - [US-43-104 subspan Type Confusion](https://github.com/cplusplus/nbballot/issues/520)
    - [FR-002-015 Return A span From strides](https://github.com/cplusplus/nbballot/issues/405)
    - [GB-087 start_lifetime_as Is Broken And Inconsistent For Arrays](https://github.com/cplusplus/nbballot/issues/458)
    - [P2679R1 Fixing start_lifetime_as For Arrays](https://wg21.link/P2679R1)
    - [P2674R1 is_implicit_lifetime](https://wg21.link/P2674R1)
    - [US-30-072 Predefined Macros From The C Library](https://github.com/cplusplus/nbballot/issues/502)
    - [GB-080 Sync intmax_t And uintmax_t With C2x](https://github.com/cplusplus/nbballot/issues/447)
    - [P2652R0 Disallow User Specialization Of allocator_traits](https://wg21.link/P2652R0)
    - [P2614R1 Deprecate numeric_limits::has_denorm](https://wg21.link/P2614R1)
    - [GB-081 Deprecate Contents Of <stdalign.h>](https://github.com/cplusplus/nbballot/issues/453)
    - [GB-082 Deprecate Contents Of <stdbool.h>](https://github.com/cplusplus/nbballot/issues/453)
    - [GB-084 Deprecate errc Constants Related To UNIX STREAMS](https://github.com/cplusplus/nbballot/issues/444)
    - [GB-121 Remove voidify](https://github.com/cplusplus/nbballot/issues/452)
- C++26
    - [P2559R1 Plan For Concurrency Technical Specification Version 2](https://wg21.link/P2559R1)
    - [P2545R1 Why RCU Should Be In C++26](https://wg21.link/P2545R1)
    - [P2530R1 Why Hazard Pointers Should Be In C++26](https://wg21.link/P2530R1)
    - [P0493R3 Atomic Maximum/Minimum](https://wg21.link/P0493R3)
    - [P2527R1 variant_alternative_index And variant_alternative_index_v](https://wg21.link/P2527R1)
    - [P2264R4 Make assert Macro User Friendly For C And C++](https://wg21.link/P2264R4)

NBã‚³ãƒ¡ãƒ³ãƒˆã®æŠ•ç¥¨ã¯å¦æ±ºã™ã‚‹ã‹ï¼Ÿã‚’å•ã†ã‚ˆã†ã§ã€ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ãŒå¾—ã‚‰ã‚ŒãŸå ´åˆã«ãã®NBã‚³ãƒ¡ãƒ³ãƒˆã‚’ãƒªã‚¸ã‚§ã‚¯ãƒˆã™ã‚‹ï¼ˆå—ã‘å…¥ã‚Œãªã„ï¼‰ã“ã¨ã«ãªã‚‹ã‚ˆã†ã§ã™ã€‚

### [P2652R1 Disallow user specialization of `allocator_traits`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2652r1.html)

`std::allocator_traits`ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ç‰¹æ®ŠåŒ–ã‚’ç¦æ­¢ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2652R0 Disallow user specialization of `allocator_traits` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2652R0-Disallow-user-specialization-of-allocator_traits)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€å‰å›ææ¡ˆã—ã¦ã„ãŸ2ã¤ã®è§£æ±ºã®ã†ã¡ã®1ã¤ç›®ï¼ˆ`std::allocator_traits`ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ç‰¹æ®ŠåŒ–ã‚’ç¦æ­¢ï¼‰ãŒLEWGã§å¥½ã¾ã‚ŒãŸã“ã¨ã‚’å—ã‘ã¦2ã¤ç›®ã®è§£æ±ºç­–ã‚’å‰Šé™¤ã—ãŸã“ã¨ã¨`allocation_result(), allocate_at_least()`ã®ã‚µã‚¤ã‚ºãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹ã‚’`size_type`ã‚’ä½¿ã†ã‚ˆã†ã«ä¿®æ­£ã—ãŸã“ã¨ï¼ˆã“ã®ææ¡ˆã¨ã¯ç›´æ¥é–¢ä¿‚ãªã„ï¼‰ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã™ã§ã«1ã¤ç›®ã®è§£æ±ºç­–ãŒLWGã«ã‚ˆã£ã¦æ‰¿èªã•ã‚Œã¦ãŠã‚Šã€ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãŸå¾ŒC++23ã«å‘ã‘ã¦å…¨ä½“æŠ•ç¥¨ã«é€²ã¿ã¾ã™ã€‚

- [P2652 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1320)

### [P2653R1 Update Annex E based on Unicode 15.0 UAX 31 Steve Downey](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2653r1.pdf)

ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ã®UAX#31ã¸ã®æº–æ‹ ã®æ–‡é¢ã‚’æ›´æ–°ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2653R0 Update Annex E based on Unicode 15.0 UAX 31 - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2653R0-Update-Annex-E-based-on-Unicode-150-UAX-31)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã€ææ¡ˆã®å‹•æ©ŸãŒè¿½è¨˜ã•ã‚ŒãŸã“ã¨ãªã©ã§ã™ã€‚

ã“ã®ææ¡ˆã¯[CWG Issue 2636](https://cplusplus.github.io/CWG/issues/2636)ã¨ã—ã¦ã™ã§ã«WDã«ãƒãƒ¼ã‚¸ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P2653 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1321)

### [P2655R1 common_reference_t of reference_wrapper Should Be a Reference Type](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2655r1.html)

`std::reference_wrapper<T>`ã¨`T&`ã®é–“ã®`common_reference`ãŒ`T&`ã«ãªã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2653R0 Update Annex E based on Unicode 15.0 UAX 31 - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2655R0-common_reference_t-of-reference_wrapper-Should-Be-a-Reference-Type)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€çµæœãŒ`std::reference_wrapper<T>`ã§ã¯ãªã`T&`ã¨ãªã‚‹ç†ç”±ã‚’è¿½è¨˜ã—ãŸã“ã¨ã€`std::reference_wrapper<T>`ã®`T`ãŒ`const/volatile`ã®å ´åˆã«å¯¾å¿œã—ãŸã“ã¨ã€æ´¾ç”Ÿã‚¯ãƒ©ã‚¹ã‹ã‚‰åŸºåº•ã‚¯ãƒ©ã‚¹ã®å¤‰æ›ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸã“ã¨ãªã©ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã©ã†ã‚„ã‚‰C++23ã«å‘ã‘ã¦é€²è¡Œã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

- [P2655 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1322)

### [P2657R1 C++ is the next C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2657r1.html)

C++è¨€èªæ©Ÿèƒ½ã¨ã—ã¦é™çš„è§£æã‚’çµ„ã¿è¾¼ã‚€ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2653R0 Update Annex E based on Unicode 15.0 UAX 31 - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2657R0-C-is-the-next-C)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- `static_analysis`å±æ€§ã«ãŠã‘ã‚‹è§£æå™¨ã®ç¨®é¡ã®æŒ‡å®šã‚’`inclusions/exclusions`ã«ã‚ˆã£ã¦è¡Œã†ã‚ˆã†ã«å¤‰æ›´
- `no_unsafe_casts`ã«`std::reinterpret_pointer_cast`ã¨`std::const_pointer_cast`ã®ä½¿ç”¨ï¼ˆã®ç¦æ­¢ï¼‰ã‚’è¿½åŠ 
- `use_ranges`è§£æå™¨ã‚’è¿½åŠ 
    - `std::find`ãªã©ã«å¯¾ã—ã¦`std::ranges::find`ã®ä½¿ç”¨ã‚’ä¿ƒã™ã‚‚ã®
- `use_function_ref`ã‚’`safer`ã®ã‚µãƒ–è§£æå™¨ã«ç§»å‹•
- *Tooling Opportunities*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
    - CIã§ã®åˆ©ç”¨ã®å¯èƒ½æ€§ã«ã¤ã„ã¦
- *Reserved Behavior*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
    - é™çš„è§£æã®é©ç”¨ç¯„å›²ã«ã¤ã„ã¦ï¼ˆç¾åœ¨ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã®å„ç¿»è¨³å˜ä½ã”ã¨ï¼‰
- *Frequently Asked Questions*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ•´ç†
    - *How do we configure future analyzers*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å‰Šé™¤
    - P2687R0ã¨ã®é–¢é€£ã«é–¢ã™ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 

ãªã©ã§ã™ã€‚

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã¯ã€é™çš„è§£æå™¨ã®æœ‰åŠ¹åŒ–ã®æŒ‡å®šæ–¹æ³•ãŒå¤‰ã‚ã£ã¦ã„ã¾ã™

```cpp
// ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å˜ä½ã§æœ‰åŠ¹åŒ–ã€è‡ªå‹•çš„ã«ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…å…¨åŸŸã«é©ç”¨
export module some_module_name [[static_analysis(inclusions{"safer"}, exclusions{"", ""})]];

// ã‚‚ã—ãã¯ã€å®Ÿè£…å˜ä½ã§æœ‰åŠ¹åŒ–
module some_module_name [[static_analysis(inclusions{"modern"}, exclusions{"use_ranges"})]];
```

`[[static_analysis(...)]]`ã®ä¸­ã§ã€`inclusions{"analyzer", ...}`ã®ã‚ˆã†ã«ã—ã¦æœ‰åŠ¹ã«ã™ã‚‹è§£æå™¨ã‚’æŒ‡å®šã—ã€ãã®å¾Œã«ã‚«ãƒ³ãƒã§åŒºåˆ‡ã£ã¦`exclusions{"analyzer", ...}`ã®ã‚ˆã†ã«ã—ã¦æœ‰åŠ¹åŒ–ã—ãŸè§£æå™¨ã«å«ã¾ã‚Œã‚‹ã‚µãƒ–è§£æå™¨ã‹ã‚‰ç„¡åŠ¹åŒ–ã™ã‚‹ã‚‚ã®ã‚’æŒ‡å®šã—ã¾ã™ã€‚

- [P2657 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1324)

### [P2658R1 temporary storage class specifiers](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2658r1.html)

ä¸€æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã®è¨˜æ†¶åŸŸæŒ‡å®šã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2658R0 temporary storage class specifiers - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2658R0-temporary-storage-class-specifiers)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- *Value Categories*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è¿½åŠ 
    - å¯¿å‘½å»¶é•·ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å€¤ã‚«ãƒ†ã‚´ãƒªã«ã¤ã„ã¦
- *Automatic or Configurable Default or Exceptional Rules*
    - P2623R0ã¨ã®é¸æŠã‚„é©ç”¨ç¯„å›²ãªã©ã«ã¤ã„ã¦
- *Tooling Opportunities*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
    - 
ãªã©ã§ã™ã€‚

- [P2658 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1325)

### [P2659R1 A Proposal to Publish a Technical Specification for Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2659r1.pdf)

å¥‘ç´„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ©Ÿèƒ½ã«é–¢ã™ã‚‹Technical Specificationã‚’ç™ºåŠ¹ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2659R0 A Proposal to Publish a Technical Specification for Contracts - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2659R0-A-Proposal-to-Publish-a-Technical-Specification-for-Contracts)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- *overview*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è¿½åŠ 
- ã‚ˆã‚Šè©³ç´°ãªèƒŒæ™¯ã‚’å€‹åˆ¥ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨ã—ã¦è¿½åŠ 
- ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ‹¡å……ã—æ˜ç¢ºåŒ–
- å¯„ã›ã‚‰ã‚ŒãŸç–‘å•ã«å¯¾ã™ã‚‹å›ç­”ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
- TSã®é€²è¡Œã‚¹ã‚±ãƒ¼ã‚¸ãƒ¥ãƒ¼ãƒ«ã«é–¢ã™ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
- *conclusion*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è¿½åŠ 
- P2000R3ã§æèµ·ã•ã‚ŒãŸå•é¡Œã«å¯¾ã™ã‚‹appendixã‚’è¿½åŠ 

ãªã©ã§ã™ã€‚

- [P2659 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1326)

### [P2664R0 Proposal to extend std::simd with permutation API](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2664r0.pdf)

Parallelism TS v2ã«ã‚ã‚‹`std::simd`ã«ã€permuteæ“ä½œã®ã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

SIMDã«ãŠã‘ã‚‹permuteå‘½ä»¤ã¨ã¯ã€SIMDãƒ¬ã‚¸ã‚¹ã‚¿å†…ã§è¦ç´ ã‚’ä¸¦ã³æ›¿ãˆã‚‹å‘½ä»¤ã®1ã¤ã§ã™ã€‚ã‚ã‚‹è¨ˆç®—ã®éš›ã«åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ã®ä¸¦ã³ã¨ãã®å¾Œã®åˆ¥ã®è¨ˆç®—ã®éš›ã«åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ã®ä¸¦ã³ãŒç•°ãªã‚‹å ´åˆãªã©ã€SIMDãƒ¬ã‚¸ã‚¹ã‚¿å†…ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¼‰ã›ãŸã¾ã¾ä¸¦ã¹æ›¿ãˆãŒå¿…è¦ã«ãªã‚‹ã“ã¨ã¯ã‚ˆãã‚ã‚Šã€ãã®éš›ã«permuteå‘½ä»¤ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

ç¾åœ¨ã®`std::simd`ã«ã¯ã“ã®ã‚ˆã†ãªæ“ä½œã‚’ç›´æ¥çš„ã«è¡Œã†APIãŒãªãã€è¦ç´ ã®æŠ½å‡ºï¼ˆ`extract()`ï¼‰ã‚„`std::simd`å€¤ã®åˆ†å‰²ï¼ˆ`split()`ï¼‰ã¨ã€é€£çµï¼ˆ`concat()`ï¼‰ã‚„æŒ¿å…¥ï¼ˆ`insert()`ï¼‰ã‚’çµ„ã¿åˆã‚ã›ã¦è¡Œã†ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã¯è¤‡é›‘ã§ã‚ã‚‹ã¨ã¨ã‚‚ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®æ“ä½œã¨ãªã£ã¦ã—ã¾ã†ãŸã‚å‹•çš„ãªä¸¦ã¹æ›¿ãˆã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ã¾ãŸã€ç›´æ¥çš„ãªAPIãŒæä¾›ã•ã‚Œã¦ã„ãªã„ã“ã¨ã«ã‚ˆã£ã¦ã€æ“ä½œã¨SIMDå‘½ä»¤ã‚’1å¯¾1ã§ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒé›£ã—ããªã‚Šã¾ã™ã€‚

ã“ã®ææ¡ˆã¯ã€ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®SIMD permuteå‘½ä»¤ã«å¯¾å¿œã™ã‚‹`std::simd`å€¤ã®è¦ç´ ã®ä¸¦ã¹æ›¿ãˆã‚’è¡Œã†é–¢æ•°ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã§ã¯permutæ“ä½œã‚’è¡Œã†ãŸã‚ã®3ç¨®é¡ã®APIã‚’ææ¡ˆã—ã¦ã„ã¾ã™

1. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨ˆç®—ã‚’è¡Œã†
    - ä¸¦ã¹æ›¿ãˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚’å—ã‘å…¥ã‚Œã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨ˆç®—ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ä»»ã›ã‚‹
2. åˆ¥ã®`std::simd`å€¤ã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŒ‡å®š
3. SIMDãƒã‚¹ã‚¯ã«ã‚ˆã£ã¦ã€å…¥åŠ›ã®è¦ç´ ã‚’å‡ºåŠ›ã«ä½¿ç”¨ã™ã‚‹ã‹ã‚’æ±ºå®šã™ã‚‹

```cpp

int main() {
  // å…¥åŠ›ä¾‹ï¼ˆã“ã®ææ¡ˆã®APIã¯å…¥åŠ›ã®std::simdå‹ã«ä¾å­˜ã—ãªã„ï¼‰
  std::fixed_size_simd<float, 10> values = ...;

  // 1. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨ˆç®—
  {
    // å‡ºåŠ›ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯å…¥åŠ›ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹[0, 1, 2â€¦)ã‚’ç”¨ã„ã¦[0 0 2 2 4 4â€¦)ã®ã‚ˆã†ã«ãƒãƒƒãƒ—ã•ã‚Œã‚‹
    const auto dupEvenIndex = [](size_t idx) -> size_t { return (idx / 2) * 2; };
    const auto de = std::permute(values, dupEvenIndex);
    // deã¯å…¥åŠ›ã¨åŒã˜è¦ç´ æ•°ã§åŒã˜è¦ç´ å‹

    // å‡ºåŠ›ã‚µã‚¤ã‚ºã®æ˜ç¤ºçš„ãªæŒ‡å®š
    // stride3ã§4ã¤ã®å€¤ã‚’ç”Ÿæˆï¼ˆã¤ã¾ã‚Šã€å‡ºåŠ›é…åˆ—ã¯å…¥åŠ›ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ã‚ˆã£ã¦[0, 3, 6, 9]ã®ã‚ˆã†ã«ãƒãƒƒãƒ—ã•ã‚Œã‚‹ï¼‰
    const auto stride3 = std::permute<4>(values, [](size_t idx) -> size_t { return idx * 3; });
    // stride3ã¯4è¦ç´ ã§åŒã˜è¦ç´ å‹
  }

  // 2. å®Ÿè¡Œæ™‚ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŒ‡å®š
  {
    // å®Ÿè¡Œæ™‚ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
    std::fixed_size_simd<unsigned, 8> indexes = ...;

    // indexesã®å…ˆé ­ã‹ã‚‰ã€ãã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«å¯¾å¿œã™ã‚‹å…¥åŠ›ï¼ˆvaluesï¼‰è¦ç´ ã‚’å‡ºåŠ›ã«ãƒãƒƒãƒ—ã™ã‚‹
    const auto result = std::permute(values, indexes);
    // resultã¯8è¦ç´ ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹é…åˆ—ã¨åŒã˜è¦ç´ æ•°ï¼‰ã§å…¥åŠ›ã¨åŒã˜è¦ç´ å‹
  }

  {
    // SIMDãƒã‚¹ã‚¯
    std::fixed_size_simd<unsigned, 10> mask = ...;

    // è¦ç´ ã‚’åŠåˆ†ã«åœ§ç¸®ã™ã‚‹
    // maskã«ã‚ˆã£ã¦å…¥åŠ›ã‹ã‚‰å‡ºåŠ›ã«ä½¿ç”¨ã™ã‚‹è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹
    const auto result = std::compress(values, mask);
    // resultã¯å…¥åŠ›ã®åŠåˆ†ã®è¦ç´ æ•°ã§å…¥åŠ›ã¨åŒã˜è¦ç´ å‹
  }
}
```

ã“ã‚Œã‚‰ã®é–¢æ•°ã¯ã€å®Ÿè¡Œç’°å¢ƒï¼ˆCPUï¼‰ã®ç›´æ¥çš„ãªSIMDå‘½ä»¤ã«ã‚ˆã£ã¦åŠ¹ç‡çš„ã«å‡¦ç†ã•ã‚Œã‚‹ã“ã¨ãŒæœŸå¾…ã§ãã¾ã™ã€‚

ã¾ãŸã€ææ¡ˆã§ã¯ã€ã“ã‚Œã‚‰ã®APIã‚’æ‹¡å¼µã—ã¦ä¸€èˆ¬ã®ãƒ¡ãƒ¢ãƒªã«å¯¾ã™ã‚‹ã‚¹ã‚­ãƒ£ãƒƒã‚¿/ã‚®ãƒ£ã‚¶ãƒ¼æ“ä½œã‚’è¡Œã†APIã¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã¨ã—ã¦ã„ã¾ã™ã€‚

- [AVXã®å€ç²¾åº¦å®Ÿæ•°ã‚·ãƒ£ãƒƒãƒ•ãƒ«ç³»å‘½ä»¤ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ - Qiita](https://qiita.com/kaityo256/items/ee8afca236e0af21ad96)
- [Day 7 : SIMDåŒ– - ä¸€é€±é–“ã§ãªã‚Œã‚‹ï¼ã‚¹ãƒ‘ã‚³ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒ](https://kaityo256.github.io/sevendayshpc/day7/index.html)
- [P2638R0 Intel's response to P1915R0 for std::simd parallelism in TS 2 - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´09æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/10/09/021557#P2638R0-Intels-response-to-P1915R0-for-stdsimd-parallelism-in-TS-2)
- [P2664 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1383)

### [P2674R1 A trait for implicit lifetime types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2674r1.pdf)

*implicit lifetime type*ã‚’è­˜åˆ¥ã™ã‚‹ãŸã‚ã®å‹ç‰¹æ€§ã€`is_implicit_lifetime<T>`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2674R0 A trait for implicit lifetime types - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2674R0-A-trait-for-implicit-lifetime-types)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€äº‹å‰æ¡ä»¶ã®æ–‡è¨€ã‚’ä¿®æ­£ã—ãŸã“ã¨ã¨æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒã‚¯ãƒ­ã‚’è¿½åŠ ã—ãŸã“ã¨ã§ã™ã€‚

- [P2674 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1340)

### [P2679R1 Fixing `std::start_lifetime_as` and `std::start_lifetime_as_array`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2679r1.pdf)

`std::start_lifetime_as`ã®æ—¢å­˜æ©Ÿèƒ½ç­‰ã¨ã®éä¸€è²«æ€§ã‚’æ­£ã™ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2679R0 Fixing std::start_lifetime_as for arrays - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2679R0-Fixing-stdstart_lifetime_as-for-arrays)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã¯ã€R0ã§ææ¡ˆã—ã¦ã„ãŸå¤§æ›ã‹ã‚ŠãªAPIã®å¤‰æ›´ãŒãƒªã‚¸ã‚§ã‚¯ãƒˆã•ã‚ŒãŸãŸã‚ã€ãã‚Œã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚ä»£ã‚ã‚Šã«ã€åˆ¥ã®NBã‚³ãƒ¡ãƒ³ãƒˆã§æŒ‡æ‘˜ã•ã‚ŒãŸç¬¬äºŒå¼•æ•°`n == 0`ã®ã‚±ãƒ¼ã‚¹ã‚’æœªå®šç¾©ã§ã¯ãªãåŠ¹æœãªã—ã«ãªã‚‹ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

```cpp
void processData(unsigned char* dataFromNetwork, size_t numObjectsToRead) {
  Data* data = std::start_lifetime_as_array<Data>(dataFromNetwork, numObjectsToRead); // numObjectsToReadãŒ0ã§ã‚‚UBã«ãªã‚‰ãªã„
  for (size_t i = 0; i < numObjectsToRead; ++i)
    processObject(data[i]);
}
```

ã¾ãŸã€ä»¥å‰ã®ææ¡ˆã§å•é¡Œè¦–ã—ã¦ã„ãŸã‚ˆã†ã«ã€`std::start_lifetime_as`ã¯å˜ä¸€ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã‚‚ã—ãã¯é™çš„ãªé…åˆ—å‹ï¼ˆè¦ç´ æ•°ãŒæ—¢çŸ¥ã®é…åˆ—å‹ï¼‰ã®ãŸã‚ã®ã‚‚ã®ã§ã€ãã“ã«è¦ç´ æ•°ä¸æ˜ãªé…åˆ—å‹ã‚’æ¸¡ã™ã®ã¯é–“é•ã£ãŸä½¿ç”¨æ³•ã§ã™ã€‚ãŸã ã—ã€ç¾åœ¨ãã‚Œã¯ã‚¨ãƒ©ãƒ¼ã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã¯ã“ã‚Œã‚’ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹ã“ã¨ã‚‚ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

```cpp
unsigned char* buf = ...;
auto* p1 = std::start_lifetime_as<int[]>(buf); // ç¾åœ¨ã¯UBã€ã“ã®ææ¡ˆã§ã¯ill-formed
```

- [CA-086 20.2.6p5 [obj.lifetime] Allow 0 for the second parameter to start_lifetime_as_array](https://github.com/cplusplus/nbballot/issues/458)
- [P2679 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1345)

### [P2681R0 More Simple Statistics](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2681r0.pdf)

æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã„ãã¤ã‹ã®çµ±è¨ˆé–¢æ•°ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ã“ã®ææ¡ˆã¯ã€[P1708R6](https://wg21.link/p1708r6)ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ã€åŒæ§˜ã®è¨­è¨ˆã§æ¬¡ã®5ã¤ã®çµ±è¨ˆè¨ˆç®—é–¢æ•°ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™

- ä¸€å¤‰é‡çµ±è¨ˆ
    - ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«
    - æœ€é »å€¤
- äºŒå¤‰é‡çµ±è¨ˆ
    - å…±åˆ†æ•£
    - ç›¸é–¢ä¿‚æ•°
    - ç·šå½¢å›å¸°

ã“ã‚Œã‚‰ã®ã‚‚ã®ã«ã¯P1708ã¨åŒæ§˜ã«`range`ã‚’å…¥åŠ›ã¨ã—ã¦ãã®è¦ç´ ã‹ã‚‰çµ±è¨ˆé‡ã‚’è¨ˆç®—ã™ã‚‹é–¢æ•°ã¨ã€å„å€¤ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§å…¥åŠ›ã—ã¦ã„ãçµ±è¨ˆé‡ã‚’è¨ˆç®—ã™ã‚‹`accumulator`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã‚¯ãƒ©ã‚¹ï¼‰ã®2ã¤ã®APIãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

```cpp
#include <stats>
#include <vector>
#include <iostream>

int main() {
  std::vector vec = {1, 1, 2, 3, 4, 4, 4, 5};

  // æœ€é »å€¤ã®è¨ˆç®—ï¼ˆãƒ•ãƒªãƒ¼é–¢æ•°ï¼‰
  auto mode = std::mode_of_sorted(vec);
  // mode == 4


  // ç›¸é–¢ä¿‚æ•°ã®è¨ˆç®—ï¼ˆaccumulatorã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰
  std::correlation_accumulator acc{};

  // ãƒ‡ãƒ¼ã‚¿å…¥åŠ›
  acc(50, 40);
  acc(60, 70);
  acc(70, 90);
  acc(80, 60);
  acc(90, 100);

  // è¨ˆç®—çµæœã®å–å¾—
  auto corr = acc.value();
  // corr == 0.73
}
```

ç›¸é–¢ä¿‚æ•°ã®è¨ˆç®—ã¯[ã“ã¡ã‚‰](https://sci-pursuit.com/math/statistics/correlation-coefficient.html)ã®ä¾‹ã‚’ãŠå€Ÿã‚Šã—ã¾ã—ãŸã€‚

- [P1708R3 Simple Statistical Functions - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P1708R3-Simple-Statistical-Functions)
- [P2664 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1384)

### [P2693R0 Formatting thread::id and stacktrace](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2693r0.pdf)

`std::thread::id`ã¨`std::stacktrace`ã‚’`std::format()`åŠã³`std::print()`ã§å‡ºåŠ›ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå‹ã®`std::format`å¯¾å¿œã¯P1636R2ã§ææ¡ˆã•ã‚Œã€LEWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é€šéã—LWGã«ãŠã‘ã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æ”¹è¨‚ãŒå¿…è¦ã¨ã•ã‚Œã¾ã—ãŸãŒã€ã©ã†ã‚„ã‚‰è‘—è€…ã®æ–¹ã¨é€£çµ¡ãŒã¤ã‹ãªããªã‚Šé€²å±•ãŒæœ›ã‚ãªããªã£ã¦ã„ã¾ã™ï¼ˆæå‡ºã•ã‚ŒãŸã®ã¯2019å¹´ã§ã—ãŸï¼‰ã€‚

C++23 CDã¸ã®NBã‚³ãƒ¡ãƒ³ãƒˆã«ãŠã„ã¦ã€`std::thread::id`ã®`std::format`å¯¾å¿œãŒæ¨å¥¨ã•ã‚Œã€ã“ã®ææ¡ˆã¯ãã‚Œã‚’å—ã‘ã¦ãã®ãŸã‚ã®æ–‡è¨€ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

NBã‚³ãƒ¡ãƒ³ãƒˆã§`std::thread::id`ã ã‘ãŒç‰¹åˆ¥è¦–ã•ã‚ŒãŸã®ã¯ãƒ‡ãƒãƒƒã‚°ç›®çš„ã ã£ãŸã‚ˆã†ã§ã€åŒæ§˜ã«ãƒ‡ãƒãƒƒã‚°ã«æœ‰ç”¨ãª`std::basic_stacktrace`ã¨`std::stacktrace_entry`ã‚‚å«ã‚ã‚‹ã“ã¨ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚

ä¸€æ–¹ã§ã€P1636R2ã§ææ¡ˆã•ã‚Œã¦ã„ãŸä»–ã®ç‰©ï¼ˆ`std::bitset`ã‚„`std::unique_ptr`ãªã©ï¼‰ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

```cpp
// ã“ã®ææ¡ˆãŒæ¡æŠã•ã‚ŒãŸC++23ä»¥é™ã®ä¾‹
import std:

int main() {
  // ã‚¹ãƒ¬ãƒƒãƒ‰IDã®å‡ºåŠ›
  std::print("This thread id : {}", std::this_thread::get_id());


  auto st = std::stacktrace::current();

  // ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹å…¨ä½“ã®å‡ºåŠ›
  std::print("Entire stack trace\n{}", st);
  // 1ãƒ•ãƒ¬ãƒ¼ãƒ ã ã‘å‡ºåŠ›
  std::print("Top of stack trace\n{}", st[0]);
}
```

ã“ã‚Œã¯C++23ã«å¯¾ã™ã‚‹NBã‚³ãƒ¡ãƒ³ãƒˆã‚’å—ã‘ã¦ã®ã‚‚ã®ãªã®ã§ã€C++23ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¨ã—ã¦ä½œæ¥­ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [FR-008-011 22.14 [format] Support formatting of thread::id](https://github.com/cplusplus/nbballot/issues/410)
- [`std::thread::id` - cpprefjp](https://cpprefjp.github.io/reference/thread/thread/id.html)
- [P2664 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1384)

### [P2695R0 A proposed plan for contracts in C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2695r0.pdf)

C++ Contractsï¼ˆå¥‘ç´„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼‰ã®C++26å°å…¥ã¸å‘ã‘ãŸäºˆå®šè¡¨ã€‚

è¨ˆç”»ã«ã‚ˆã‚Œã°ã€2023å¹´ä¸­ã«ç¾åœ¨ã®MVPã¨å‘¼ã°ã‚Œã‚‹æ©Ÿèƒ½ã‚»ãƒƒãƒˆã®è¨­è¨ˆã‚’å®Œäº†ã—ã€2024å¹´ä¸­ã§EWG/CWGã«ã‚ˆã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡Œã„ã€2025å¹´åˆé ­ã«C++26 WDã¸ãƒãƒ¼ã‚¸ã™ã‚‹ã€ã¨ã„ã†äºˆå®šã§ã™ã€‚ãŸã ã—ã€å¿…è¦ã«å¿œã˜ã¦ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¯ä¿®æ­£ã•ã‚Œã‚‹ã¨ã—ã¦ã„ã¾ã™ã€‚

ã“ã®äºˆå®šè¡¨ã¯SG21ã§æ¡ç”¨ã™ã‚‹ã“ã¨ã«åˆæ„ãŒå–ã‚Œã¦ãŠã‚Šã€EWG/CWGã®åˆæ„ãŒå¿…è¦ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€SG21ã¨ã—ã¦ã¯C++26ã«å‘ã‘ã¦Contractã‚’é€²ã‚ã¦ã„ãã‚ˆã†ã§ã™ã€‚

- [P2665 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1385)

### [P2696R0 Introduce Cpp17Swappable as additional convenience requirements](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2696r0.html)

*Cpp17Swappable*ã¨ã„ã†è¦ä»¶ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ç¾åœ¨è¦æ ¼æ›¸ä¸­ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹*swappable*è¦ä»¶ã¯ã€å‹`T`ã®å³è¾ºå€¤ã¾ãŸã¯å·¦è¾ºå€¤ãŒ`T`ã®ä»»æ„ã®å³è¾ºå€¤ã¾ãŸã¯å·¦è¾ºå€¤ã¨ãã‚Œãã‚Œ`swap`å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã€ã®ã‚ˆã†ã«è¦å®šã•ã‚Œã¦ãŠã‚Šã€`T`ã«ã¤ã„ã¦ã®*swappable*è¦ä»¶ã¯å·¦è¾ºå€¤ã¨å³è¾ºå€¤ã®ä¸¡æ–¹ã«ã¤ã„ã¦å€¤ã®äº¤æ›å¯èƒ½æ€§ã‚’è¦æ±‚ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€å˜ã«å·¦è¾ºå€¤ã ã‘ãŒ`swap`å¯èƒ½ã§ã‚ã‚Œã°ã‚ˆã„å ´åˆã«è¦å®šã‚’è¿½åŠ ã§è¨˜è¿°ã—ãªã‘ã‚Œã°ãªã‚‰ãªããªã£ã¦ãŠã‚Šã€æ–‡ç« ã®è‚¥å¤§åŒ–ã‚’æ‹›ãã¨ã¨ã‚‚ã«åˆ†ã‹ã‚Šã¥ã‚‰ããªã£ã¦ã„ã¾ã™ã€‚

ã“ã®ææ¡ˆã®ã„ã†*Cpp17Swappable*è¦ä»¶ã¨ã¯ã€å‹`T`ã®å·¦è¾ºå€¤ãŒ*swappable*ã§ã‚ã‚‹ã“ã¨ã€ã®ã‚ˆã†ãªè¦å®šã§ã€*swappable*è¦ä»¶ã®ã‚µãƒ–ã‚»ãƒƒãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’ç”¨ã„ã¦ã€ç¾åœ¨å˜ã«å·¦è¾ºå€¤ã®*swappable*ã ã‘ãŒå¿…è¦ãªã¨ã“ã‚ã®è¦å®šã‚’æ›¸ãæ›ãˆã‚‹ã®ãŒã“ã®ææ¡ˆã®ç›®çš„ã§ã™ã€‚

ã“ã®ææ¡ˆã¯æ„å‘³è«–ã®å¤‰æ›´ã‚’æ„å›³ã™ã‚‹ã‚‚ã®ã§ã¯ãªãã€è¦æ ¼æ›¸ã®è¨˜è¿°ã®æ”¹å–„ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

- [P2696 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1386)

### [P2697R0 Interfacing bitset with string_view](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2697r0.pdf)

`std::bitset`ã«`std::string_view`ã‚’å—ã‘å–ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

`std::bitset`ã¯ã€ç¬¦å·ãªã—æ•´æ•°ã‚‚ã—ãã¯æ–‡å­—åˆ—ï¼ˆ`std::basic_string`ã€æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ï¼‰ã‹ã‚‰æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€ã“ã‚Œã¯C++11ã§è¿½åŠ ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã‚ã‚‹ãŸã‚ã€`std::string_view`ï¼ˆ`std::basic_string_view`ï¼‰ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚

```cpp
#include <bitset>

int main() {
  std::bitset b0{""};     // ok âœ”
  std::bitset b1{""sv};   // ng âŒ
  std::bitset b2{""s};    // ok âœ”
}
```

`std::string_view`ã‚’æ¸¡ãã†ã¨ã™ã‚‹ã¨ã€`std::string`ã«æ˜ç¤ºçš„ã«å¤‰æ›ã—ã¦ãã®ä¸€æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã™ã‹ã€`.data()`ã‹ã‚‰`const CharT*`ã‚’æ¸¡ã™ã‹ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚å‰è€…ã¯ä¸è¦ãªæ–‡å­—åˆ—ã‚³ãƒ”ãƒ¼ãŒå…¥ã£ã¦ã—ã¾ã„ã€å¾Œè€…ã¯nullçµ‚ç«¯ãŒä¿è¨¼ã•ã‚Œãªã„ãŸã‚å±é™ºã¨ãªã‚Šã€ã©ã¡ã‚‰ã‚‚é©åˆ‡ãªè§£æ±ºç­–ã¨ã¯è¨€ãˆã¾ã›ã‚“ã€‚

`std::bitset`ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯å…¥åŠ›æ–‡å­—åˆ—ã‚’å¤‰æ›´ã›ãšã«èª­ã¿å–ã‚Šã ã‘ã‚’è¡Œã†ãŸã‚ã€ä¸å¤‰ãªæ–‡å­—åˆ—ã‚’è¡¨ã™`std:string_view`ã‚’æ¸¡ã™ã“ã¨ã¯è‡ªç„¶ã§ã‚ã‚‹ã¯ãšã§ã™ã€‚ã—ã‹ã—ã€ç¾åœ¨ã¯ãã®ãŸã‚ã«ä¸è¦ãªã‚³ãƒ”ãƒ¼ã‚„ãƒãƒƒãƒ•ã‚¡ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒ³ã®å±é™ºæ€§ãŒæŒ¿å…¥ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

ã“ã®ææ¡ˆã¯ã€`std::bitset`ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã€ç¾åœ¨ã®`std::string`ã‚’å—ã‘å–ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸ`std::string_view`ã‚’å—ã‘å–ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã“ã®å•é¡Œã®è§£æ±ºã‚’å›³ã‚‹ã‚‚ã®ã§ã™ã€‚

```cpp
#include <bitset>

int main() {
  std::bitset b0{""};     // ok âœ”
  std::bitset b1{""sv};   // ok âœ”
  std::bitset b2{""s};    // ok âœ”
}
```

- [`std::bitset::`ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ - cpprefjp](https://cpprefjp.github.io/reference/bitset/bitset/op_constructor.html)
- [P2697 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1387)

### [P2698R0 Unconditional termination is a serious problem](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2698r0.pdf)

è­°è«–ä¸­ã®å¥‘ç´„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ©Ÿèƒ½ã«ãŠã„ã¦ã€å®Ÿè¡Œæ™‚ã«å¥‘ç´„æ¡ä»¶ãŒé•åã—ãŸã¨ãã«å³çµ‚äº†ã™ã‚‹ã—ã‹ãªã„äº‹ã®å•é¡Œã‚’æŒ‡æ‘˜ã™ã‚‹æ–‡æ›¸ã€‚

ç¾åœ¨ã®å¥‘ç´„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼ˆContractsï¼‰ã®è­°è«–ã«ãŠã„ã¦ã¯ã€å¥‘ç´„æ¡ä»¶ã‚’å®Ÿè¡Œæ™‚ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‹ã—ãªã„ã‹ã«ã¤ã„ã¦æ¬¡ã®2ã¤ã®æŒ¯ã‚‹èˆã„ã‚’è¨±å¯ã™ã‚‹æ–¹å‘ã§é€²ã‚“ã§ã„ã¾ã™ã€‚

- No_eval : ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯å¥‘ç´„æ¡ä»¶ã®æ§‹æ–‡çš„ãªå¦¥å½“æ€§ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‚‚ã®ã®ã€å®Ÿè¡Œæ™‚ã«æ¡ä»¶ãƒã‚§ãƒƒã‚¯ã¯ã•ã‚Œãªã„ã€‚
- Eval_and_abort : å¥‘ç´„æ¡ä»¶ã¯å®Ÿè¡Œæ™‚ã«ãƒã‚§ãƒƒã‚¯ã•ã‚Œã€ç ´ã‚‰ã‚ŒãŸã‚‰ï¼ˆ`false`ã‚’è¿”ã—ãŸã‚‰ï¼‰ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯çµ‚äº†ã™ã‚‹ã€‚

å¥‘ç´„æ¡ä»¶ã‚’å®Ÿè¡Œæ™‚ã«ãƒã‚§ãƒƒã‚¯ã—ã¦ã€ãã‚ŒãŒç ´ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã£ãŸæ™‚ã«ã©ã†ã™ã‚‹ã‹ï¼Ÿã¨ã„ã†æ‰€ã¯C++20ã®å¥‘ç´„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ©Ÿèƒ½ã«ãŠã„ã¦ã‚‚è­°è«–ã®çš„ã¨ãªã£ãŸç‚¹ã§ã€ç¾åœ¨ã®ã¨ã“ã‚ã¯ã“ã®2ç‚¹ã®æœ€å°ã®æŒ¯ã‚‹èˆã„ã‚’å…ˆè¡Œã—ã¦å°å…¥ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚

ã“ã“ã§å•é¡Œã¨ãªã‚‹ã®ã¯ã€Eval_and_abortãƒ¢ãƒ¼ãƒ‰ã«ãŠã„ã¦å¥‘ç´„æ¡ä»¶ã®é•åã«ã‚ˆã‚‹çµ‚äº†ã‚’ãƒãƒ³ãƒ‰ãƒ«ã—ãŸã‚Šã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹æ–¹æ³•ãŒç„¡ã„æ‰€ã§ã™ã€‚å¥‘ç´„ã‚’å®Ÿè¡Œæ™‚ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ãŸã‚ã«ã¯ã“ã®ãƒ¢ãƒ¼ãƒ‰ã—ã‹ãªã„ãŸã‚ã€ç„¡æ¡ä»¶ã«çµ‚äº†ã™ã‚‹ã“ã¨ãŒè¨±ã•ã‚Œãªã„ã‚ˆã†ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ãŠã„ã¦ã¯å¥‘ç´„æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ããªããªã‚Šã¾ã™ã€‚

ä¾‹ãˆã°ã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§å¥‘ç´„æ©Ÿèƒ½ã‚’ä½¿ã£ãŸã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ã¨ã€ç„¡æ¡ä»¶ã§çµ‚äº†ã§ããªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ãŠã„ã¦ã¯æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ããªããªã‚Šã¾ã™ã€‚

ãã®ã‚ˆã†ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯å¾—ã¦ã—ã¦ä¿¡é ¼æ€§ã‚„æ€§èƒ½ã«å³ã—ã„è¦ä»¶ãŒã‚ã‚Šã€æœ¬æ¥å¥‘ç´„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ©Ÿèƒ½ã®æ©æµã‚’æœ€ã‚‚å—ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã¯ãšã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚

ã§ã¯ã€ãã®ã‚ˆã†ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ãŠã„ã¦ã¯å¥‘ç´„ã®å®Ÿè¡Œæ™‚ãƒã‚§ãƒƒã‚¯ã‚’ã‚ªãƒ•ã«ã™ã‚Œã°è‰¯ã„ã‹ã¨ã„ã†ã¨ã€ãã‚Œã ã‘ã®å•é¡Œã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å¥‘ç´„ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸»ãªç›®çš„ã¯é–¢æ•°ã®å…¥å‡ºåŠ›ã§æº€ãŸã•ã‚Œã‚‹ã¹ãä¸å¤‰æ¡ä»¶ã®è¨˜è¿°åŠã³ãƒã‚§ãƒƒã‚¯ã‚’ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚„æ–‡æ›¸ãªã©ã‹ã‚‰æœ¬ç•ªã®ã‚³ãƒ¼ãƒ‰ã¸ã‚ˆã‚Šèªè­˜ã—ã‚„ã™ã„å½¢ã§ç§»ç®¡ã™ã‚‹ã“ã¨ã«ã‚ã‚Šã¾ã™ã€‚ãã‚Œã‚‰ã®å¥‘ç´„ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã€æœ¬ç•ªç’°å¢ƒã§ã®å®Ÿè¡Œæ™‚ãƒã‚§ãƒƒã‚¯ã‚’ç›®çš„ã¨ã™ã‚‹ã‚‚ã®ã¨ã€ãƒ‡ãƒãƒƒã‚°ã‚„é™çš„è§£æã®ãŸã‚ã®ã‚‚ã®ã¨ã«åˆ†é›¢ã—ã¦ç®¡ç†ã™ã‚‹ã“ã¨ã¯ã‚¹ã‚±ãƒ¼ãƒ«ã—ã¾ã›ã‚“ã€‚

ã•ã‚‰ã«ã¯ã€çµ‚äº†ã‚’åˆ¤åˆ¥ã§ãã‚‹å¿…è¦æ€§ã‚‚ã‚ã‚Šã¾ã™ã€‚ã™ãªã‚ã¡ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒçµ‚äº†ã—ãŸã¨ãã«ãã‚ŒãŒå¥‘ç´„é•åã«ã‚ˆã‚‹ã‚‚ã®ãªã®ã‹ã€åˆ¥ã®ä¾‹å¤–ã«ã‚ˆã‚‹ã‚‚ã®ãªã®ã‹ã€ã¯ãŸã¾ãŸäºˆæœŸã—ãªã„ã‚½ãƒ•ãƒˆã‚„ãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã«ã‚ˆã‚‹ã‚‚ã®ãªã®ã‹ã€ãŒåˆ¤åˆ¥ã§ãã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç¾åœ¨æœ€ã‚‚åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹ã¨æ€ã‚ã‚Œã‚‹å¥‘ç´„ã‚·ã‚¹ãƒ†ãƒ ã®Ada SPARKã«ãŠã„ã¦ã¯ã€å®Ÿè¡Œæ™‚ã®å¥‘ç´„é•åã‚’å ±å‘Šã™ã‚‹ãŸã‚ã«å°‚ç”¨ã®ä¾‹å¤–ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚å®Ÿè¡Œæ™‚ã«è¡Œã‚ã‚Œã‚‹ãƒ†ã‚¹ãƒˆã‚’å¥‘ç´„ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦æŒã¤ã“ã¨ã¯ã€é€šå¸¸ã®ãƒ­ã‚¸ãƒƒã‚¯ã¨ã¯åŒºåˆ¥ã•ã‚Œã€é™çš„è§£æå™¨ãŒåˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚

å¥‘ç´„é•åã®ãƒãƒ³ãƒ‰ãƒ«ã®ç†æƒ³ã¯ã€èµ·ããŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã¯åˆ¥ã®ã‚·ã‚¹ãƒ†ãƒ ã§è¡Œãˆã‚‹ã“ã¨ã§ã™ãŒã€ãã®ã‚ˆã†ãªã‚·ã‚¹ãƒ†ãƒ ãŒã„ã¤ã‚‚å­˜åœ¨ã™ã‚‹ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚OSã‚«ãƒ¼ãƒãƒ«ã‚„é‡‘èã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„äººã®å‘½ã«ä¿‚ã‚ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãªã©ã€å¥‘ç´„é•åã‚‚å«ã‚ãŸã‚¨ãƒ©ãƒ¼ã«é­é‡ã—ã¦ã‚‚ä½•ã‚‰ã‹ã®æ–¹æ³•ã§å‡¦ç†ã‚’é€²ã‚ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

ãã®ã‚ˆã†ãªå•é¡Œã®ç®¡ç†ã‚’çµ‚äº†ãƒãƒ³ãƒ‰ãƒ©ï¼ˆé•åãƒãƒ³ãƒ‰ãƒ©ï¼‰ã«æŠ¼ã—ä»˜ã‘ã¦ã—ã¾ã†ã¨ã€çµ‚äº†ãƒãƒ³ãƒ‰ãƒ©ãŒæ§˜ã€…ãªç¨®é¡ã®çµ‚äº†ã‚’å‡¦ç†ã™ã‚‹ã“ã¨ã«ãªã‚Šã€çµ‚äº†ãƒãƒ³ãƒ‰ãƒ©ã«å¿…è¦ãªã‚·ãƒ³ãƒ—ãƒ«ã•ãŒæãªã‚ã‚Œã¾ã™ã€‚

P2521R2ã®è¨­è¨ˆã¯æœ€å°ã®å®Ÿè¡Œå¯èƒ½ï¼ˆ*minimally viable*ï¼‰ã‚’è¬³ã‚ã‚Œã¦ã„ã¾ã™ãŒã€ãã®æœ€å°ã«ã¯ã“ã®ã‚ˆã†ãªé‡è¦ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚P2521R2ã¯æœ€å°ã®ã‚‚ã®ã§ã‚ã‚Šè­°è«–ãŒå¿…è¦ãªã‚‚ã®ã«ã¤ã„ã¦ã¯å¾Œã‹ã‚‰è¿½åŠ ã§ãã‚‹ã€ã¨ã—ã¦ã„ã¾ã™ãŒãã‚Œã¯ç¾å®Ÿçš„ã§ã¯ãªãã€å®Ÿéš›ã«ã¯æ”¹å–„ã®å‹•æ©ŸãŒå°‘ãªããªã‚Šæ‹¡å¼µã‚’è©¦ã¿ã‚‹ææ¡ˆãŒå¤±æ•—ã™ã‚‹ã‹ã€ä½•å¹´ã‚‚è«–äº‰ãŒç¶šãå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

å¥‘ç´„é•åå¾Œã«ã™ãã«çµ‚äº†ã—ãªã„ãŸã‚ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¯ã€æœ€ä½é™è¨±å®¹ã•ã‚Œã‚‹å¥‘ç´„è¨­è¨ˆã®ä¸€éƒ¨ã§ã™ã€‚

ã“ã‚Œã‚‰ã®æ‡¸å¿µã¨ä¸»å¼µã‹ã‚‰ã€ã“ã®ææ¡ˆã§ã¯å¥‘ç´„é•åãŒèµ·ããŸéš›ã«ã™ãçµ‚äº†ã›ãšã«ä½•ã‚‰ã‹ã®ä½œæ¥­ã‚’è¡Œã†ãŸã‚ã«ã€3ã¤ç›®ã®å‹•ä½œãƒ¢ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

- Eval_and_throw : å¥‘ç´„æ¡ä»¶ã¯å®Ÿè¡Œæ™‚ã«ãƒã‚§ãƒƒã‚¯ã•ã‚Œã€ç ´ã‚‰ã‚ŒãŸã‚‰ï¼ˆ`false`ã‚’è¿”ã—ãŸã‚‰ï¼‰ä¾‹å¤–ã‚’æŠ•ã’ã‚‹

ã“ã‚Œã¯ã€é•åãŒèµ·ããŸå¾Œã«å…ƒã®å‡¦ç†ã‚’ç¶™ç¶šã—ãŸã„ã¨è¨€ã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªãã€ãã®è­°è«–ã‚’è’¸ã—è¿”ã™ã‚‚ã®ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€å®Ÿè¡Œæ™‚ã«å¥‘ç´„é•åã‚’å‡¦ç†ã™ã‚‹æ–¹æ³•ã‚’å¤‰æ›´ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚

- [P2521R2 Contract support - Working Paper - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/04/02/175835#P2521R2-Contract-support---Working-Paper)
- [P2698 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1388)

### [P2700R0 Questions on P2680 â€œContracts for C++: Prioritizing Safetyâ€](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2700r0.pdf)

P2680R0ã§æå”±ã•ã‚Œã¦ã„ã‚‹å¥‘ç´„æ¡ä»¶ã®å‰¯ä½œç”¨ã®æ‰±ã„ã«ã¤ã„ã¦ã€å¹¾ã¤ã‹ã®ç–‘å•ç‚¹ã‚’æå‡ºã™ã‚‹æ–‡æ›¸ã€‚

P2680R0ã«ã¤ã„ã¦ã¯ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§ã€‚

- [P2680R0 Contracts for C++: Prioritizing Safety - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/11/13/233529#P2680R0-Contracts-for-C-Prioritizing-Safety)

P2680R0ã§ã¯ã€C++å¥‘ç´„æ©Ÿèƒ½ã¯å®‰å…¨æ€§ã‚’ç¬¬ä¸€ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã‚‹ã¹ãã¨ã„ã†æ–¹é‡ã‚’è¡¨æ˜ã™ã‚‹ã¨ã¨ã‚‚ã«ã€ãã®ãŸã‚ã®æ–½ç­–ã®ä¸€ç’°ã¨ã—ã¦å¥‘ç´„æ¡ä»¶ã«ãŠã‘ã‚‹å‰¯ä½œç”¨ã®æŒ¯ã‚‹èˆã„ãƒ¢ãƒ‡ãƒ«ã‚’å®šæ•°å¼ã«ãŠã‘ã‚‹é–¢æ•°å®Ÿè¡Œã¨åŒã˜ã«ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚ã™ãªã‚ã¡ã€å¥‘ç´„æ¡ä»¶å¼ã®å‡¦ç†å†…ã®å‰¯ä½œç”¨ã¯ãã®æ¡ä»¶å¼ã®å®Ÿè¡Œå†…éƒ¨ã«ç•™ã¾ã£ã¦ã„ã‚‹é™ã‚Šè¨±å¯ã•ã‚Œã¾ã™ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã®å¤‰æ›´ã¯è¨±å¯ã•ã‚Œãªã„ï¼‰ã€‚

ã•ã‚‰ã«ã¯ã€SG21ï¼ˆå¥‘ç´„ã«é–¢ã™ã‚‹Study Groupï¼‰ã®ä¼šåˆã§P2680R0ã®è‘—è€…ã®æ–¹ã¯å¥‘ç´„æ©Ÿèƒ½ã¯UBãƒ•ãƒªãƒ¼ï¼ˆæœªå®šç¾©å‹•ä½œã¨ç„¡ç¸ï¼‰ã§ã‚ã‚‹ã¹ãã€ã¨ã„ã†ä¸»å¼µã‚‚ã—ãŸã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€æ›´ãªã‚‹è­°è«–ã®ä¿ƒé€²ã®ãŸã‚ã«ã€P2680R0ã«é–¢ã—ã¦SG21ãƒ¡ãƒ³ãƒãƒ¼ãŒæŒã£ã¦ã„ã‚‹ç–‘å•ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚æ„å›³ã¨ã—ã¦ã¯P2680R0ã®æœ‰ç”¨æ€§ã‚„å®Ÿç¾å¯èƒ½æ€§ã‚’æ˜ç¢ºã«ã™ã‚‹ã¨ã¨ã‚‚ã«ã€æœ€çµ‚çš„ãªå¥‘ç´„æ¡ä»¶ã«ãŠã‘ã‚‹å‰¯ä½œç”¨ã®æ‰±ã„ã®æ±ºå®šã«è³‡ã™ã‚‹ã‚‚ã®ã«ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«ã—ã¦ã„ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€P2680R0ã‚’å¦å®šã—ãŸã‚Šç½®ãæ›ãˆãŸã‚Šã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ç–‘å•ã¯å¤§ããæ¬¡ã®5ã¤ã®ãƒˆãƒ”ãƒƒã‚¯ã‹ã‚‰ãªã‚Šã¾ã™

1. å¥‘ç´„æ¡ä»¶å†…ã§ã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã®ä½¿ç”¨ã«ã¤ã„ã¦
      1. å¥‘ç´„æ¡ä»¶å†…ã§ä½¿ç”¨ã§ãã‚‹æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã¯ã©ã‚Œã‹ï¼Ÿï¼ˆå†èµ·çš„ãªå¥‘ç´„ã‚’è€ƒæ…®ã—ãªã„ã¨ã—ã¦ï¼‰æ¬¡ã®ä¾‹ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã‚‹ã‹ï¼Ÿ
          - `void test(const std::vector<int> &v) [[ pre : v.begin() < v.end() ]];`
      2. 1ã®ä¾‹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŸã‚ã«ã€`std::vector`ã®è¦å®šã‚’ã©ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚Œã°ã‚ˆã„ã‹ï¼Ÿ
      3. 1ã®ä¾‹ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã‚‹å ´åˆã€`std::vector::begin()`ãŒãƒ¡ãƒ¢ãƒªå‰²ã‚Šå½“ã¦ã‚’å¼•ãèµ·ã“ã™ã“ã¨ãŒã‚ã‹ã£ã¦ã„ã‚‹MSVC STLã®ãƒ‡ãƒãƒƒã‚°ç‰ˆã§ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã‚‹ã‹ï¼Ÿ
          - P2680ã®æ çµ„ã¿ã®å…ƒã§ã¯ãƒ¡ãƒ¢ãƒªç¢ºä¿ã¯å¥‘ç´„æ¡ä»¶å†…ã§ã¯è¨±å¯ã•ã‚Œãªã„ã®ã§ã€ã“ã®å‘¼ã³å‡ºã—ã¯ã©ã®ã‚ˆã†ãªãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã§è¨±å¯ã•ã‚Œã‚‹ã®ã‹ï¼Ÿ
      4. 1ã®ä¾‹ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œãªã„å ´åˆã€å¥‘ç´„æ¡ä»¶ã®ä¸€éƒ¨ã¨ã—ã¦ãƒ¡ãƒ¢ãƒªã‚’å‰²ã‚Šå½“ã¦ãŸã‚Šå‰¯ä½œç”¨ã‚’å¼•ãèµ·ã“ã™`std::vector`ï¼ˆä»Šæ—¥ã®MSVC STLã®ã‚ˆã†ãªï¼‰ã‚’ä½œæˆã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹ï¼Ÿ
          - åˆ¥ã®ãƒ“ãƒ«ãƒ‰ãƒ¢ãƒ¼ãƒ‰ãŒå¿…è¦ãªå ´åˆã€ãã®ã‚ˆã†ãªãƒ¢ãƒ¼ãƒ‰ã¯ææ¡ˆã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
      5. æ¬¡ã®ä¾‹ã¯è¨±å¯ã•ã‚Œã‚‹ã‹ï¼Ÿï¼ˆSTLã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æä¾›ã®é–¢æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®é–“æ¥å‚ç…§ã‚’å«ã‚“ã§ã„ã‚‹ï¼‰
          - `void test(auto begin, auto end) [[ pre: std::all_of(begin, end, is_cute{}) ]];`
2. ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã‚’å¥‘ç´„æ¡ä»¶å†…ã§ä½¿ç”¨ã—ãŸå ´åˆã®å•é¡Œç‚¹
      1. Q1.1ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¯èƒ½ã§ã‚ã‚‹ã¨ä»®å®šã—ãŸæ™‚ã€åŒæ§˜ã®å‹•ä½œã‚’ã™ã‚‹ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹ï¼Ÿ
      2. ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå†…ã®é–¢æ•°ã§ãƒ­ã‚°å‡ºåŠ›ã‚’ã™ã‚‹å ´åˆã«ã€ãã®é–¢æ•°ã¯å¥‘ç´„æ¡ä»¶ã«ä½¿ç”¨ã§ãã‚‹ã‹ï¼Ÿ
          - ã§ããªã„å ´åˆã€ã‚¨ãƒ©ãƒ¼ã¯ã©ã®ã‚ˆã†ã«å ±å‘Šã•ã‚Œã‚‹ã‹ï¼Ÿ
          - ã¾ãŸã€ã©ã†ã™ã‚Œã°ãã‚ŒãŒå¯èƒ½ã«ãªã‚‹ã‹ï¼Ÿè¿½åŠ ã®æ³¨é‡ˆãŒå¿…è¦ãªã®ã‹ï¼Ÿãã®ã‚ˆã†ãªæ³¨é‡ˆã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ã§ã©ã®ã‚ˆã†ã«æ©Ÿèƒ½ã™ã‚‹ã‹ï¼Ÿ
      3. é–¢æ•°ã®å®šç¾©ãŒä»–ã®ç¿»è¨³å˜ä½ã«ã‚ã‚‹å ´åˆã€ãã®é–¢æ•°ã‚’å¥‘ç´„æ¡ä»¶ã«ä½¿ç”¨ã§ãã‚‹ã‹ï¼Ÿ
          - ã§ããªã„å ´åˆã€ã‚¨ãƒ©ãƒ¼ã¯ã©ã®ã‚ˆã†ã«å ±å‘Šã•ã‚Œã‚‹ã‹ï¼Ÿ
          - ã¾ãŸã€ã©ã†ã™ã‚Œã°ãã‚ŒãŒå¯èƒ½ã«ãªã‚‹ã‹ï¼Ÿè¿½åŠ ã®æ³¨é‡ˆãŒå¿…è¦ãªã®ã‹ï¼Ÿãã®ã‚ˆã†ãªæ³¨é‡ˆã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ã§ã©ã®ã‚ˆã†ã«æ©Ÿèƒ½ã™ã‚‹ã‹ï¼Ÿ
      4. é–¢æ•°ã®å®šç¾©ãŒå‹•çš„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ã‚‹å ´åˆã€ãã®é–¢æ•°ã‚’å¥‘ç´„æ¡ä»¶ã«ä½¿ç”¨ã§ãã‚‹ã‹ï¼Ÿ
          - ã§ããªã„å ´åˆã€ã‚¨ãƒ©ãƒ¼ã¯ã©ã®ã‚ˆã†ã«å ±å‘Šã•ã‚Œã‚‹ã‹ï¼Ÿ
          - ã¾ãŸã€ã©ã†ã™ã‚Œã°ãã‚ŒãŒå¯èƒ½ã«ãªã‚‹ã‹ï¼Ÿè¿½åŠ ã®æ³¨é‡ˆãŒå¿…è¦ãªã®ã‹ï¼Ÿãã®ã‚ˆã†ãªæ³¨é‡ˆã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ã§ã©ã®ã‚ˆã†ã«æ©Ÿèƒ½ã™ã‚‹ã‹ï¼Ÿ
      5. å¥‘ç´„æ¡ä»¶ã§ã€æ—¢å­˜ã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæä¾›ã™ã‚‹çŠ¶æ…‹æ¤œè¨¼é–¢æ•°ï¼ˆã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒãªã„ã‹ã€ç•°ãªã‚‹è¨€èªã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ï¼‰ã‚’ã©ã®ã‚ˆã†ã«åˆ©ç”¨ã§ãã‚‹ã‹ï¼Ÿ
3. ç¾åœ¨ã®å¼ã®è©•ä¾¡ãƒ«ãƒ¼ãƒ«ã¨ã€å¥‘ç´„æ¡ä»¶ã«ãŠã‘ã‚‹å®‰å…¨ãªè©•ä¾¡ã®ãŸã‚ã«ææ¡ˆã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒ«ã¨ã®é•ã„ã«ã¤ã„ã¦
      1. ç¬¦å·ä»˜ãæ•´æ•°æ¼”ç®—ã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚‹UBã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã€è¨€èªã®ä»–ã®éƒ¨åˆ†ã¨ã¯ç•°ãªã‚‹å‹•ä½œã‚’ã™ã‚‹ã®ã‹ï¼Ÿ
          - ã‚‚ã—ãã†ãªã‚‰ã€ã©ã®ã‚ˆã†ã«ï¼Ÿ
      2. 1ã®å›ç­”ãŒyesã®å ´åˆã€åŒã˜å¼ãŒå¥‘ç´„æ¡ä»¶å†…ã¨ãã®å¥‘ç´„ãŒãªã•ã‚Œã¦ã„ã‚‹é–¢æ•°å†…ã§ç•°ãªã£ã¦è©•ä¾¡ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚
          - ãã®ã‚ˆã†ãªçŸ›ç›¾ãŒç™ºç”Ÿã™ã‚‹ã¨è€ƒãˆã‚‹ã®ã¯æ­£ã—ã„ã‹ï¼Ÿæ­£ã—ããªã„å ´åˆã€ãªãœã‹ï¼Ÿ
          - ã“ã®ç¨®é¡ã®å¼ã®è§£é‡ˆã®é•ã„ã¯ãã‚Œè‡ªä½“ãŒåˆ¥ã®å±é™ºæ€§ã®åŸå› ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ï¼Ÿãã†ã§ã¯ãªã„å ´åˆã€ãªãœã‹ï¼Ÿ
      3. P2680ã®æ çµ„ã¿ã®ã‚‚ã¨ã§UBã‹ã‚‰well-definedã«å¤‰æ›´ã•ã‚Œã‚‹å‹•ä½œã¯ä½•ã‹ï¼Ÿãã®ç†ç”±ã¯ï¼Ÿ
          - ãã®ã‚ˆã†ãªã‚‚ã®ãã‚Œãã‚Œã«ã¤ã„ã¦ã€ã©ã®ã‚ˆã†ãªæŒ¯ã‚‹èˆã„ãŒè¦å®šã•ã‚Œã€ãã‚Œã¯ãªãœã‹ï¼Ÿ
      4. å¥‘ç´„æ¡ä»¶å†…ã®æµ®å‹•å°æ•°ç‚¹ç’°å¢ƒã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä»–ã®éƒ¨åˆ†ã¨åŒã˜ã‹ï¼Ÿ
      5. å¥‘ç´„æ¡ä»¶å†…ã®æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã¯ã€æµ®å‹•å°æ•°ç‚¹ä¾‹å¤–ã‚’ç™ºç”Ÿã•ã›ãŸã‚Š`errno`ã‚’è¨­å®šã—ãŸã‚Šã§ãã‚‹ã‹ï¼Ÿ
      6. 5ã®ç­”ãˆãŒyesã®å ´åˆã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã‚‹ã‹ï¼Ÿ
          - `void foo(double x) [[ pre: x/3.0 < 1.0 ]] {...}`
      7. 6ã®ç­”ãˆãŒyesã®å ´åˆã€æµ®å‹•å°æ•°ç‚¹ç’°å¢ƒã¨`x`ã®çµ„ã¿åˆã‚ã›ã«ã‚ˆã£ã¦`FE_INEXACT`ãŒç™ºç”Ÿã™ã‚‹å ´åˆã€å®Ÿè¡Œæ™‚ã«ä½•ãŒèµ·ã“ã‚‹ã‹ï¼Ÿ
4. å¥‘ç´„æ¡ä»¶å†…ã«å­˜åœ¨ã—ã†ã‚‹UBã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚æ¤œå‡ºã«é–¢ã™ã‚‹è©³ç´°
5. ä¸€èˆ¬çš„ãªè¨­è¨ˆç›®æ¨™ã¨ãã®æ„å‘³

ï¼ˆåŠ›å°½ããŸã®ã§4ä»¥é™ã®è©³ç´°ã¯çœç•¥ï¼‰

ã±ã£ã¨è¦‹ãŸã ã‘ã§ã‚‚ã‹ãªã‚Šå³ã—ã„ï¼ˆãŒå½“ç„¶ã®ï¼‰ç–‘å•ãŒä¸¦ã‚“ã§ã„ã‚‹ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚

- [P2698 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1389)

### [P2701R0 Translating Linker Input Files to Module Metadata Files](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2701r0.pdf)

ãƒªãƒ³ã‚«ã¸ã®å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã¸å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºç«‹ã—ã‚ˆã†ã¨ã™ã‚‹ææ¡ˆã€‚

ã“ã®ææ¡ˆã¯ã€[P2577R2](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2577r2.pdf)ã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹æ‰‹é †ã®ä¸­ã§ã€ãƒªãƒ³ã‚«ã¸ã®å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã©ã®ã‚ˆã†ã«å¤‰æ›ã™ã‚‹ã‹ã€ã¨è¨€ã†éƒ¨åˆ†ã®è©³ç´°ã‚’è¨˜è¿°ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

P2577ã®æ¦‚è¦ã«ã¤ã„ã¦ã¯ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2577R0 C++ Modules Discovery in Prebuilt Library Releases - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/05/08/195618#P2577R0-C-Modules-Discovery-in-Prebuilt-Library-Releases)

ææ¡ˆã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒ«ã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ã§ã™

1. ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è§£æ±ºã—ãªã„
    - ãƒªãƒ³ã‚«ã¸ã®å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãã®åå‰ã‚’ä½¿ç”¨ã™ã‚‹
    - ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã™å‰ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿãƒ‘ã‚¹ã‚’è§£æ±ºã—ã‚ˆã†ã¨ã™ã‚‹ã¹ãã§ã¯ãªã„
2. åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    - ãƒªãƒ³ã‚«ã¸ã®å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢é€£ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã¯åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ç•°ãªã‚‹ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã«ãªã‚Šã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¨ãƒ³ãƒˆãƒªã®åå‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åï¼‰ã®ã¿ãŒç•°ãªã‚‹ã“ã¨ãŒç¢ºç«‹ã•ã‚Œã‚‹
3. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¨ãƒ³ãƒˆãƒªã®åå‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åï¼‰ã®å¤‰æ›
    1. æ‹¡å¼µå­ã®åˆ†é›¢ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«åã®å…ˆé ­ã®å–å¾—ï¼‰
        - ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒé™çš„ãƒªãƒ³ã‚¯ã•ã‚Œã‚‹ã‹å‹•çš„ãƒªãƒ³ã‚¯ã•ã‚Œã‚‹ã‹ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ–¹æ³•ãŒç•°ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆã€åŒã˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç•°ãªã‚‹ãƒ“ãƒ«ãƒ‰ã«å¯¾ã—ã¦å€‹åˆ¥ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¨±å¯ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
            - ãã®ã‚ˆã†ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆWindowsï¼‰ã§ã¯ã€ãƒªãƒ³ã‚«ãƒ¼å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Œå…¨ãªãƒ•ã‚¡ã‚¤ãƒ«åã‚’ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹
            - ãã†ã§ãªã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆGNU/Linuxï¼‰ã§ã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã‚’é™¤ã„ãŸæ®‹ã‚Šã®éƒ¨åˆ†ã‚’ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹
    2. ISAã®æ¤œç´¢ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«åæœ«å°¾ã®å–å¾—ï¼‰
        - ä¸€éƒ¨ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å†…ã«è¤‡æ•°ã®ISAã®ãƒ“ãƒ«ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚ã“ã®ã‚ˆã†ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã¯å®Ÿè£…å›ºæœ‰ã®ISAã‚³ãƒ¼ãƒ‰ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚’é–‹å§‹ã—ã€ãã®æ¬¡ã«ISAã‚³ãƒ¼ãƒ‰ã®ãªã„åå‰ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹
        - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«åã«ISAã‚³ãƒ¼ãƒ‰ã‚’ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã«ã¯ã€`.`ã«ç¶šã„ã¦å®Ÿè£…å›ºæœ‰ã®ISAã‚³ãƒ¼ãƒ‰ã‚’ä»˜åŠ ã™ã‚‹
        - ãƒªãƒ³ã‚«å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã«å¸¸ã«ä¸€ã¤ã®ISAã—ã‹å«ã¾ã‚Œãªã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆGNU/Linuxï¼‰ã§ã¯ã“ã®æ¤œç´¢ã¯å®Ÿè¡Œã•ã‚Œãªã„
    3. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«åã®æ‹¡å¼µå­ã®å–å¾—ï¼‰
        - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­ã¨ã—ã¦ã€`.module-metadata`ã‚’ä½¿ç”¨ã™ã‚‹

ãã—ã¦ã€3ã®çµæœã¨ã—ã¦å–å¾—ã•ã‚ŒãŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«åã®é›†åˆã‚’é †ç•ªï¼ˆISAç¨®åˆ¥ãªã©ã«ã‚ˆã‚‹ï¼‰ã«æ¢ç´¢ã™ã‚‹ã“ã¨ã§ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç™ºè¦‹ã—ã¾ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã•ã‚‰ã«ã€æ—¢å­˜ã®ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ãŒã“ã®å¤‰æ›ã‚’å€‹åˆ¥ã«å®Ÿè£…ã—ãªãã¦ã‚‚è‰¯ã„ã‚ˆã†ã«ã€C++ã®ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³å®Ÿè£…ã®1ã¤ã¨ã—ã¦æ¬¡ã®ã‚‚ã®ã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™

- ãƒªãƒ³ã‚«å¼•æ•°è¾ºã‚’å®Ÿè£…ã®ä½¿ç”¨ã«å¿œã˜ã¦é–¢é€£ã™ã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã¸å¤‰æ›ã™ã‚‹ï¼ˆä¸Šè¨˜ã®æ‰‹é †ã‚’å®Ÿè¡Œã™ã‚‹ï¼‰ãƒ„ãƒ¼ãƒ«
- ç”Ÿæˆã•ã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å®Ÿè£…å®šç¾©ã®ç‰¹æ€§ã‚’è€ƒæ…®ã—ã¦ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’è¨˜è¿°ã™ã‚‹ï¼ˆé…ç½®ã™ã¹ããƒ‘ã‚¹ã‚’å‡ºåŠ›ã™ã‚‹ï¼‰ãƒ„ãƒ¼ãƒ«

ãƒ„ãƒ¼ãƒ«ã®æä¾›ã«é–¢ã—ã¦ã¯ææ¡ˆã§ã¯ãªãæ¨å¥¨ãªã®ã§ã€ãã‚Œã»ã©å¼·ã„è¦æ±‚ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

- [P2701 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1390)

### [P2702R0 Specifying Importable Headers](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2702r0.pdf)

ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã¨ã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ãªãƒ˜ãƒƒãƒ€ã‚’è­˜åˆ¥ã™ã‚‹ä»•çµ„ã¿ã«ã¤ã„ã¦ã®ææ¡ˆã€‚

C++20ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä»•æ§˜ã§ã¯ã€å¾“æ¥ã®ãƒ˜ãƒƒãƒ€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¸€å½¢æ…‹ã¨ã—ã¦`import`ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€ã©ã®ãƒ˜ãƒƒãƒ€ãŒã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ãªã®ã‹ã«ã¤ã„ã¦ã¯å®Ÿè£…å®šç¾©ã¨ã•ã‚Œã¦ãŠã‚Šã€ç¾åœ¨ã®å®Ÿè£…ã§ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã©ã§æ˜ç¤ºçš„ã«æŒ‡å®šã—ãŸã‚‚ã®ã®ã¿ãŒã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ã¨ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ã“ã‚Œã¯å¿…ãšã—ã‚‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ±ºå®šã§ãã‚‹ã“ã¨ã§ã‚‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæ±ºå®šã§ãã‚‹ã‚‚ã®ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šã—ãŸã‚‚ã®ãŒãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã¨ã—ã¦ä½¿ç”¨ã§ãã‚‹ã‹ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©æ¬¡ç¬¬ã ã—ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã¨ã—ã¦ä½¿ç”¨å¯èƒ½ã¨ã—ã¦èªè­˜ã—ãŸã‚‚ã®ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šã§ãã‚‹ã‚ã‘ã§ã‚‚ãªã„ï¼‰ã€‚

ã“ã®ææ¡ˆã¯ä¸»ã«ã€ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®é–“ã§ã©ã®ãƒ˜ãƒƒãƒ€ãŒã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ãªã®ã‹ã®æƒ…å ±ã‚’ä¼é”ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€ã„ãã¤ã‹ã®æ¨å¥¨äº‹é …ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

- `import`ã¨`#include`é–“ã®å¯¾ç§°æ€§
    - ã‚ã‚‹ãƒ˜ãƒƒãƒ€ãŒ`import`ã¨`#include`ã®ä¸¡æ–¹ã§ä½¿ç”¨ã•ã‚Œã‚‹æ™‚ã€åŒã˜ãƒ˜ãƒƒãƒ€ã¸æ„å‘³çš„ã«ãƒãƒƒãƒ—ã™ã‚‹ã“ã¨ã‚’å®Ÿè£…ãŒä¿è¨¼ã™ã‚‹
- åŒã˜ãƒ˜ãƒƒãƒ€ã‚’ç¤ºã™ä»£æ›¿ãƒˆãƒ¼ã‚¯ãƒ³
    - ãƒ˜ãƒƒãƒ€ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã¨ãã«ã©ã®ãƒ˜ãƒƒãƒ€åï¼ˆãƒ‘ã‚¹ã‚’å«ã‚€ï¼‰ã‚’ä½¿ç”¨ã™ã¹ãã‹ã¨ã„ã†å³å¯†ãªå®šç¾©ã‚’æä¾›ã™ã‚‹
    - ãƒˆãƒ¼ã‚¯ãƒ³ã¨ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®é †åºã«åŸºã¥ã„ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒç™ºè¦‹ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã«å¿œã˜ã¦ã€ãƒ˜ãƒƒãƒ€ãŒã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ã‹ã©ã†ã‹ã®åˆ¤æ–­ã‚’å»¶æœŸã™ã‚‹
- ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé †åºã®è„†å¼±æ€§
    - ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®é †åºã‚’å¤‰æ›´ã™ã‚‹ã¨ã€ãƒ˜ãƒƒãƒ€åã®ã‚·ãƒ£ãƒ‰ãƒ¼ã‚¤ãƒ³ã‚°ãŒç™ºç”Ÿã—ã€æ„å›³ã—ãªã„ãƒ˜ãƒƒãƒ€ã‚’èª­ã‚“ã ã‚Šã€èª­ã¿ãŸã„ãƒ˜ãƒƒãƒ€ã‚’èª­ã¾ãªã‹ã£ãŸã‚Šã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚
    - ãƒ˜ãƒƒãƒ€åãŒã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ã¨ã—ã¦ãƒªã‚¹ãƒˆåŒ–ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®é †åºã«åŸºã¥ã„ãŸæ¢ç´¢ã‚’å®Ÿè¡Œã›ãšã€æ˜ç¤ºçš„ã«å®šæ„ç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆ/BMIã‚’ä½¿ç”¨ã™ã‚‹
- è¤‡æ•°ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’1å›ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«çµ±åˆã™ã‚‹
    - ã‚ã‚‹ãƒ˜ãƒƒãƒ€åãŒ`#include`ã•ã‚Œã‚‹ã¨ãã€ãã®ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ãŒåˆ¥ã®ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã¾ãŸã¯åå‰ä»˜ããƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®`import`ã«ã‚ˆã£ã¦ç½®ãæ›ãˆã‚‰ã‚Œã‚‹ã“ã¨ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã‚’æä¾›ã™ã‚‹
- åˆ¥ã®ç¿»è¨³å˜ä½å†…ã®ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆ
    - ã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã§ã€ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«ãŠã„ã¦ã¯ä¸€å›ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸä¸Šã§ã€ãã®çµæœã‚’ä½¿ã„å›ã™
    - `#include`ã‹ã‚‰`import`ã¸ã®å¤‰æ›´ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã—ã€ç‰¹å®šã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å®šç¾©ã«ä¾å­˜ã™ã‚‹ãƒ˜ãƒƒãƒ€ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ãªãƒ˜ãƒƒãƒ€ã¨ã™ã¹ãã§ã¯ãªã„ã“ã¨ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹
    - ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ãƒ˜ãƒƒãƒ€ã®å®šç¾©ã‚’æ¬¡ã®ã‚ˆã†ã«ã™ã‚‹
        - `#include`æ™‚ç‚¹ã§ã®ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µã®çŠ¶æ…‹ãŒã€ãƒ˜ãƒƒãƒ€ãŒã©ã®ã‚ˆã†ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã¹ãã‹ã‚’æ„å‘³çš„ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã‚’æ„å›³ã—ã¦ãŠã‚‰ãšã€ãã®çŠ¶æ…‹ã‹ã‚‰ã®åˆ†é›¢ãŒæœ›ã¾ã—ã„ãƒ˜ãƒƒãƒ€
- ä¾å­˜é–¢ä¿‚ã‚¹ã‚­ãƒ£ãƒ³å‰ã®ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®è­˜åˆ¥
    - `#include`ã‹ã‚‰`import`ã¸ã®å¤‰æ›´ã«ã‚ˆã£ã¦ç¿»è¨³å˜ä½ã®ä¾å­˜é–¢ä¿‚ãŒå¤‰æ›´ã•ã‚Œã†ã‚‹ãŸã‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ä¾å­˜é–¢ä¿‚ã®ã‚¹ã‚­ãƒ£ãƒ³ã®å‰ã«ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®ãƒªã‚¹ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ãŸã ã—ã€ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®BMIã¸ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯ä¸è¦ãªä½œæ¥­ã¨ãªã‚Šã†ã‚‹ã€‚ãã‚Œã‚’å›é¿ã™ã‚‹ãŸã‚ã«
    - å®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®ã¿ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã€ä¾å­˜é–¢ä¿‚ã‚¹ã‚­ãƒ£ãƒ³å®Ÿè¡Œå‰ã«ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®BMIã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãªããƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®ãƒªã‚¹ãƒˆã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã‚’æä¾›ã™ã‚‹
    - ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ä¾å­˜é–¢ä¿‚ã‚¹ã‚­ãƒ£ãƒ³æ™‚ã«å…¨ã¦ã®ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®ç¿»è¨³ãƒ•ã‚§ãƒ¼ã‚º4ã¾ã§ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µå¼•æ•°ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ä¼é”ã™ã‚‹
        - ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¯å¾Œç¶šã®ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µã«å½±éŸ¿ã‚’ä¸ãˆã†ã‚‹ãŒã€ãƒ˜ãƒƒãƒ€ã®çµ‚ç«¯ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒã‚¯ãƒ­ã‚’è­˜åˆ¥ã™ã‚‹ã ã‘ã§ã“ã‚Œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã§ãã‚‹ã€‚ãã—ã¦ã€ãã®ãŸã‚ã«ã¯ãƒ˜ãƒƒãƒ€ãƒ¦ãƒ‹ãƒƒãƒˆã«ä¸ãˆã‚‰ã‚Œã‚‹ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µå¼•æ•°ãŒå¿…è¦ã¨ãªã‚‹ãŸã‚ã€‚

ã“ã‚Œã‚‰ã®ã“ã¨ã¯å…¨ã¦æ¨å¥¨äº‹é …ã§ã‚ã‚‹ãŸã‚ã€C++æ¨™æº–ã«å°å…¥ã•ã‚Œã‚‹ã‹ã¯åˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚ã‚‚ã—ã‹ã—ãŸã‚‰ã€ãƒ„ãƒ¼ãƒ«ç’°å¢ƒã®æ¨™æº–åŒ–ã®æ–¹ã§è¦å®šã•ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

- [P2701 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1390)

### [P2703R0 C++ Standard Library Ready Issues to be moved in Kona, Nov. 2022](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2703r0.html)

11æœˆã«è¡Œã‚ã‚ŒãŸkonaä¼šè­°ã§WDã«é©ç”¨ã•ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã™ã‚‹Issueå ±å‘Šã®ä¸€è¦§

- [3118. fpos equality comparison unspecified](https://cplusplus.github.io/LWG/issue3118)
- [3594. `inout_ptr` â€” inconsistent `release()` in destructor](https://cplusplus.github.io/LWG/issue3594)
- [3636. `formatter<T>::format` should be const-qualified](https://cplusplus.github.io/LWG/issue3636)
- [3754. Class template `expected` synopsis contains declarations that do not match the detailed description](https://cplusplus.github.io/LWG/issue3754)
- [3028. Container requirements tables should distinguish const and non-const variables](https://cplusplus.github.io/LWG/issue3028)
- [3177. Limit permission to specialize variable templates to program-defined types](https://cplusplus.github.io/LWG/issue3177)
- [3545. `std::pointer_traits` should be SFINAE-friendly](https://cplusplus.github.io/LWG/issue3545)
- [3597. Unsigned integer types don't model *advanceable*](https://cplusplus.github.io/LWG/issue3597)
- [3600. Making `istream_iterator` copy constructor trivial is an ABI break](https://cplusplus.github.io/LWG/issue3600)
- [3629. `make_error_code` and `make_error_condition` are customization points](https://cplusplus.github.io/LWG/issue3629)
- [3646. `std::ranges::view_interface::size` returns a signed type](https://cplusplus.github.io/LWG/issue3646)
- [3677. Is a cv-qualified pair specially handled in uses-allocator construction?](https://cplusplus.github.io/LWG/issue3677)
- [3732. `prepend_range` and `append_range` can't be amortized constant time](https://cplusplus.github.io/LWG/issue3732)
- [3736. `move_iterator` missing `disable_sized_sentinel_for` specialization](https://cplusplus.github.io/LWG/issue3736)
- [3738. Missing preconditions for `take_view` constructor](https://cplusplus.github.io/LWG/issue3738)
- [3743. `ranges::to`'s reserve may be ill-formed](https://cplusplus.github.io/LWG/issue3743)
- [3745. `std::atomic_wait` and its friends lack `noexcept`](https://cplusplus.github.io/LWG/issue3745)
- [3746. `optional`'s spaceship with `U` with a type derived from `optional` causes infinite constraint meta-recursion](https://cplusplus.github.io/LWG/issue3746)
- [3747. `ranges::uninitialized_copy_n`, `ranges::uninitialized_move_n`, and `ranges::destroy_n` should use `std::move`](https://cplusplus.github.io/LWG/issue3747)
- [3750. Too many papers bump `__cpp_lib_format`](https://cplusplus.github.io/LWG/issue3750)
- [3751. Missing feature macro for `flat_set`](https://cplusplus.github.io/LWG/issue3751)
- [3755. tuple-for-each can call user-defined `operator,`](https://cplusplus.github.io/LWG/issue3755)
- [3757. What's the effect of `std::forward_like<void>(x)`?](https://cplusplus.github.io/LWG/issue3757)
- [3759. `ranges::rotate_copy` should use `std::move`](https://cplusplus.github.io/LWG/issue3759)
- [3760. `cartesian_product_view::iterator`'s `parent_` is never valid](https://cplusplus.github.io/LWG/issue3760)
- [3761. `cartesian_product_view::iterator::operator-` should pass by reference](https://cplusplus.github.io/LWG/issue3761)
- [3762. `generator::iterator::operator==` should pass by reference](https://cplusplus.github.io/LWG/issue3762)
- [3764. `reference_wrapper::operator()` should propagate `noexcept`](https://cplusplus.github.io/LWG/issue3764)
- [3765. `const_sentinel` should be constrained](https://cplusplus.github.io/LWG/issue3765)
- [3770. `const_sentinel_t` is missing](https://cplusplus.github.io/LWG/issue3770)
- [3773. `views::zip_transform` still requires F to be `copy_constructible` when empty pack](https://cplusplus.github.io/LWG/issue3773)
- [3774. `<flat_set>` should include `<compare>`](https://cplusplus.github.io/LWG/issue3774)
- [3775. Broken dependencies in the *Cpp17Allocator* requirements](https://cplusplus.github.io/LWG/issue3775)
- [3778. `vector<bool>` missing exception specifications](https://cplusplus.github.io/LWG/issue3778)
- [3781. The exposition-only alias templates cont-key-type and cont-mapped-type should be removed](https://cplusplus.github.io/LWG/issue3781)
- [3782. Should `<math.h>` declare `::lerp`?](https://cplusplus.github.io/LWG/issue3782)
- [3784. `std.compat` should not provide `::byte` and its friends](https://cplusplus.github.io/LWG/issue3784)
- [3785. `ranges::to` is over-constrained on the destination type being a range](https://cplusplus.github.io/LWG/issue3785)
- [3788. `jthread::operator=(jthread&&)` postconditions are unimplementable under self-assignment](https://cplusplus.github.io/LWG/issue3788)
- [3792. `__cpp_lib_constexpr_algorithms` should also be defined in `<utility>`](https://cplusplus.github.io/LWG/issue3792)
- [3795. Self-move-assignment of `std::future` and `std::shared_future` have unimplementable postconditions](https://cplusplus.github.io/LWG/issue3795)
- [3796. movable-box as member should use default-initialization instead of copy-initialization](https://cplusplus.github.io/LWG/issue3796)
- [3798. Rvalue reference and `iterator_category`](https://cplusplus.github.io/LWG/issue3798)
- [3801. cartesian_product_view::iterator::distance-from ignores the size of last underlying range](https://cplusplus.github.io/LWG/issue3801)

### [P2704R0 C++ Standard Library Immediate Issues to be moved in Kona, Nov. 2022](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2704r0.html)

11æœˆã«è¡Œã‚ã‚ŒãŸkonaä¼šè­°ã§WDã«é©ç”¨ã•ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã™ã‚‹Issueå ±å‘Šã®ä¸€è¦§ã€‚ã“ã¡ã‚‰ã¯C++23ã§æ–°è¦è¿½åŠ ã•ã‚ŒãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã«å¯¾ã™ã‚‹ã‚‚ã®ã‹ã€NBã‚³ãƒ¡ãƒ³ãƒˆã‚’å—ã‘ã¦ã®Issueå ±å‘Šã§ã™ã€‚

- [3515. Â§[stacktrace.basic.nonmem]: `operator<<` should be less templatized](https://cplusplus.github.io/LWG/issue3515)
- [3569. `join_view` fails to support ranges of ranges with non-default_initializable iterators](https://cplusplus.github.io/LWG/issue3569)
- [3717. `common_view::end` should improve `random_access_range` case](https://cplusplus.github.io/LWG/issue3717)
- [3737. `take_view::sentinel` should provide `operator-`](https://cplusplus.github.io/LWG/issue3737)
- [3753. Clarify entity vs. freestanding entity](https://cplusplus.github.io/LWG/issue3753)
- [3766. `view_interface::cbegin` is underconstrained](https://cplusplus.github.io/LWG/issue3766)
- [3814. Add freestanding items requested by NB comments](https://cplusplus.github.io/LWG/issue3814)
- [3816. `flat_map` and `flat_multimap` should impose sequence container requirements](https://cplusplus.github.io/LWG/issue3816)
- [3817. Missing preconditions on `forward_list` modifiers](https://cplusplus.github.io/LWG/issue3817)
- [3818. Exposition-only concepts are not described in library intro](https://cplusplus.github.io/LWG/issue3818)
- [3822. Avoiding normalization in `filesystem::weakly_canonical`](https://cplusplus.github.io/LWG/issue3822)
- [3823. Unnecessary precondition for `is_aggregate`](https://cplusplus.github.io/LWG/issue3823)
- [3824. Number of bind placeholders is underspecified](https://cplusplus.github.io/LWG/issue3824)
- [3826. Redundant specification [for overload of yield_value]](https://cplusplus.github.io/LWG/issue3826)

### [P2705R0 C++ Library Fundamentals TS Issues to be moved in Kona, Nov. 2022](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2705r0.html)

Library Fundamentals TS v2ã«å¯¾ã™ã‚‹è§£æ±ºã•ã‚ŒãŸIssueå ±å‘Šã®ä¸€è¦§

- [3136. [fund.ts.v3] LFTSv3 awkward wording in propagate_const requirements](https://cplusplus.github.io/LWG/issue3136)
- [3411. [fund.ts.v3] Contradictory namespace rules in the Library Fundamentals TS](https://cplusplus.github.io/LWG/issue3411)
- [3771. [fund.ts.v3] remove binders typedefs from function](https://cplusplus.github.io/LWG/issue3771)

### [P2706R0 Drafting for US 26-061: Redundant specification for defaulted functions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2706r0.html)

ã‚¯ãƒ©ã‚¹ã®ç‰¹æ®Šãƒ¡ãƒ³ãƒé–¢æ•°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ãŒã„ã¤å®šç¾©ã•ã‚Œã‚‹ã‹ã«ã¤ã„ã¦ã®è¦å‰‡ã®æ”¹å–„ã€‚

ã‚¯ãƒ©ã‚¹ã®ç‰¹æ®Šãƒ¡ãƒ³ãƒé–¢æ•°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ï¼ˆæ˜ç¤ºçš„ãª`default`å®£è¨€ã€ã‚‚ã—ãã¯æš—é»™å®£è¨€ï¼‰ã¯odr-usedã•ã‚ŒãŸæ™‚ã€ã‚‚ã—ãã¯å®šæ•°è©•ä¾¡ã«å¿…è¦ï¼ˆ*needed for constant evaluation*ï¼‰ã§ã‚ã‚‹ã¨ãã«å®šç¾©ã•ã‚Œã¾ã™ã€‚

è¦æ ¼æ›¸ä¸­ã§ã“ã®è¦å‰‡ã¯ç‰¹æ®Šãƒ¡ãƒ³ãƒé–¢æ•°ã®ãã‚Œãã‚Œã®è¦å®šæ¯ã«ç¾ã‚Œã¦ã„ã¾ã—ãŸãŒã€ã“ã®ææ¡ˆã§ã¯ãã‚Œã‚’ä¸€ç®‡æ‰€ã«ã¾ã¨ã‚ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯æŒ¯ã‚‹èˆã„ã‚’å¤‰åŒ–ã•ã›ã‚‹ã‚‚ã®ã§ã¯ãªãã€è¦æ ¼ã®è¨˜è¿°ã‚’å˜ç´”åŒ–ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

ã“ã‚Œã¯NBã‚³ãƒ¡ãƒ³ãƒˆã®è§£æ±ºã‹ã¤ã»ã¼ç·¨é›†ä¸Šã®ã‚‚ã®ã§ã‚ã‚‹ã®ã§ã€ã™ã§ã«C++23WDã«é©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [US 26-061 11.4.6p10 [class.copy.assign] Redundant specification for defaulted functions](https://github.com/cplusplus/nbballot/issues/498)
- [P2706 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1395)

### [P2708R0 No Future Fundamentals TSes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2708r0.html)

â†“

### [P2708R1 No Future Fundamentals TSes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2708r1.html)

Library Fundamentals TSã‚’ã“ã‚Œä»¥ä¸Šæ›´æ–°ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

Library Fundamentals TSãŒå¿…è¦ã¨ã•ã‚ŒãŸã®ã¯ã€C++11ã®ç­–å®šãŒ8å¹´é–“é…ã‚ŒãŸå¤±æ•—ã‚’è¸ã¾ãˆã¦ã®ã‚‚ã®ã§ã‚ã‚Šã€å°†æ¥ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã®è©•ä¾¡ãŒåŒã˜ã ã‘é…ã‚Œã‚‹ã“ã¨ã‚’å›é¿ã™ã‚‹ãŸã‚ã ã£ãŸã‚ˆã†ã§ã™ã€‚

ã—ã‹ã—ã€ç¾åœ¨ã¯3å¹´ã”ã¨ã®ãƒªãƒªãƒ¼ã‚¹ã‚µã‚¤ã‚¯ãƒ«ãŒå®šç€ã—ã€C++11ã®æ™‚ã»ã©é…å»¶ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ç„¡ããªã‚Šã¾ã—ãŸã€‚

ä¸€æ–¹ã§ã€Library Fundamentals TSã«æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã‚’ç›´æ¥æ¨™æº–ã¸å°å…¥ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã¨åŒã˜ã§ã‚ã‚Šã€ç¾åœ¨ã®Library Fundamentals TSã¸ã®æ©Ÿèƒ½è¿½åŠ ã¯ä¸€èˆ¬ã«æ¨™æº–ã«ç›´æ¥å°å…¥ã™ã‚‹ã®ã«æ¯”ã¹ã¦å„ªå…ˆåº¦ãŒä½ãè¦‹ã‚‰ã‚ŒãŒã¡ã§ã€ãã‚Œã«ã‚ˆã£ã¦Library Fundamentals TSã¯é…å»¶ã™ã‚‹ã“ã¨ãŒå¤šããªã£ã¦ã„ã¾ã™ã€‚

ã•ã‚‰ã«ã€å„SG->LEWG->LWG->æ¨™æº–ã€ã¨ã„ã†è­°è«–ã¨ãƒªãƒªãƒ¼ã‚¹ã®æ‰‹é †ã«ã‚‚æ…£ã‚Œã¦ããŸç¾åœ¨ã§ã¯ã€æ–°è¦ææ¡ˆã‚’ç›´æ¥æ¨™æº–ã¸å°å…¥ã™ã‚‹ã“ã¨ã‚’ã‚ˆã‚Šè‡ªä¿¡ã‚’æŒã£ã¦è¡Œãˆã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯C++11å½“æ™‚ã®å§”å“¡ä¼šã¨ã¯ç•°ãªã‚‹æ–‡åŒ–ã§ã™ã€‚ãã—ã¦ã€LEWGã®ç·æ„ã¨ã—ã¦ã¯ä»Šå¾Œã¯Library Fundamentals TSã«æ©Ÿèƒ½ã‚’é€ã‚‰ãšã«ç›´æ¥æ¨™æº–ã«å°å…¥ã™ã‚‹ã“ã¨ã«ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€ã“ã‚Œã‚‰ã®ç’°å¢ƒã®å¤‰åŒ–ã‚’åæ˜ ã—ã€ã“ã‚Œä»¥ä¸Šã®Library Fundamentals TSã‚’è¨ˆç”»ã—ãªã„ã¨ã„ã†æ„å›³ã‚’æ˜ç¢ºã«ã™ã‚‹ãŸã‚ã«ã€ç¾åœ¨ã®Library Fundamentals TS v3ã«ãã®æ„å›³ã‚’è¨˜è¼‰ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€ã™ã§ã«LEWGã®æŠ•ç¥¨ã‚’åå¯¾ãŒã»ã¼ãªãé€šéã—ã€11æœˆã®konaä¼šè­°ã§å…¨ä½“æ‰¿èªã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€Library Fundamentals TSã¯v3ãŒæœ€å¾Œã¨ãªã‚Šã€ä»Šå¾Œã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã¯ç›´æ¥æ¨™æº–å…¥ã‚Šã‚’ç›®æŒ‡ã™ã“ã¨ãŒåŸºæœ¬ã¨ãªã‚Šã¾ã™ã€‚

- [P2708 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1359)

### [P2709R0 Core Language Working Group â€œreadyâ€ Issues for the November, 2022 meeting](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2709r0.html)

11æœˆã«è¡Œã‚ã‚ŒãŸkonaä¼šè­°ã§WDã«é©ç”¨ã•ã‚ŒãŸã‚³ã‚¢è¨€èªã«å¯¾ã™ã‚‹Issueå ±å‘Šã®ä¸€è¦§ã€‚

- [2392. new-expression size check and constant evaluation](https://cplusplus.github.io/CWG/issues/2392.html)
- [2407. Missing entry in Annex C for defaulted comparison operators](https://cplusplus.github.io/CWG/issues/2407.html)
- [2410. Implicit calls of immediate functions](https://cplusplus.github.io/CWG/issues/2410.html)
- [2428. Deprecating a concept](https://cplusplus.github.io/CWG/issues/2428.html)
- [2440. Allocation in core constant expressions](https://cplusplus.github.io/CWG/issues/2440.html)
- [2451. promise.unhandled_exception() and final suspend point](https://cplusplus.github.io/CWG/issues/2451.html)
- [2508. Restrictions on uses of template parameter names](https://cplusplus.github.io/CWG/issues/2508.html)
- [2583. Common initial sequence should consider over-alignment](https://cplusplus.github.io/CWG/issues/2583.html)
- [2590. Underlying type should determine size and alignment requirements of an enum](https://cplusplus.github.io/CWG/issues/2590.html)
- [2598. Unions should not require a non-static data member of literal type](https://cplusplus.github.io/CWG/issues/2598.html)
- [2599. What does initializing a parameter include?](https://cplusplus.github.io/CWG/issues/2599.html)
- [2601. Tracking of created and destroyed subobjects](https://cplusplus.github.io/CWG/issues/2601.html)
- [2602. consteval defaulted functions](https://cplusplus.github.io/CWG/issues/2602.html)
- [2603. Holistic functional equivalence for function templates](https://cplusplus.github.io/CWG/issues/2603.html)
- [2604. Attributes for an explicit specialization](https://cplusplus.github.io/CWG/issues/2604.html)
- [2605. Implicit-lifetime aggregates](https://cplusplus.github.io/CWG/issues/2605.html)
- [2610. Indirect private base classes in aggregates](https://cplusplus.github.io/CWG/issues/2610.html)
- [2611. Missing parentheses in expansion of fold-expression could cause syntactic reinterpretation](https://cplusplus.github.io/CWG/issues/2611.html)
- [2612. Incorrect comment in example](https://cplusplus.github.io/CWG/issues/2612.html)
- [2613. Incomplete definition of resumer](https://cplusplus.github.io/CWG/issues/2613.html)
- [2614. Unspecified results for class member access](https://cplusplus.github.io/CWG/issues/2614.html)
- [2616. Imprecise restrictions on break and continue](https://cplusplus.github.io/CWG/issues/2616.html)
- [2618. Substitution during deduction should exclude exception specifications](https://cplusplus.github.io/CWG/issues/2618.html)
- [2619. Kind of initialization for a designated-initializer-list](https://cplusplus.github.io/CWG/issues/2619.html)
- [2620. Nonsensical disambiguation rule](https://cplusplus.github.io/CWG/issues/2620.html)
- [2622. Compounding types from function and pointer-to-member types](https://cplusplus.github.io/CWG/issues/2622.html)
- [2624. Array delete expression with no array cookie](https://cplusplus.github.io/CWG/issues/2624.html)
- [2625. Deletion of pointer to out-of-lifetime object](https://cplusplus.github.io/CWG/issues/2625.html)
- [2626. Rephrase ones' complement using base-2 representation](https://cplusplus.github.io/CWG/issues/2626.html)
- [2627. Bit-fields and narrowing conversions](https://cplusplus.github.io/CWG/issues/2627.html)
- [2629. Variables of floating-point type as switch conditions](https://cplusplus.github.io/CWG/issues/2629.html)
- [2630. Syntactic specification of class completeness](https://cplusplus.github.io/CWG/issues/2630.html)
- [2635. Constrained structured bindings](https://cplusplus.github.io/CWG/issues/2635.html)
- [2641. Redundant specification of value category of literals](https://cplusplus.github.io/CWG/issues/2641.html)

### [P2710R0 Core Language Working Group NB comment resolutions for the November, 2022 meeting](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2710r0.html)

11æœˆã«è¡Œã‚ã‚ŒãŸkonaä¼šè­°ã§WDã«é©ç”¨ã•ã‚ŒãŸã‚³ã‚¢è¨€èªã«å¯¾ã™ã‚‹NBã‚³ãƒ¡ãƒ³ãƒˆã«ä¼´ã†Issueå ±å‘Šã®ä¸€è¦§ã€‚

- [2242. ODR violation with constant initialization possibly omitted](https://cplusplus.github.io/CWG/issues/2242)
- [2538. Can standard attributes be syntactically ignored?](https://cplusplus.github.io/CWG/issues/2538)
- [2615. Missing __has_cpp_attribute(assume)](https://cplusplus.github.io/CWG/issues/2615)
- [2621. Kind of lookup for using enum declarations](https://cplusplus.github.io/CWG/issues/2621)
- [2631. Immediate function evaluations in default arguments](https://cplusplus.github.io/CWG/issues/2631)
- [2636. Update Annex E based on Unicode 15.0 UAX #31](https://cplusplus.github.io/CWG/issues/2636)
- [2639. new-lines after phase 1](https://cplusplus.github.io/CWG/issues/2639)
- [2640. Allow more characters in an n-char sequence](https://cplusplus.github.io/CWG/issues/2640)
- [2642. Inconsistent use of T and C](https://cplusplus.github.io/CWG/issues/2642)
- [2643. Completing a pointer to array of unknown bound](https://cplusplus.github.io/CWG/issues/2643)
- [2644. Incorrect comment in example](https://cplusplus.github.io/CWG/issues/2644)
- [2645. Unused term "default argument promotions"](https://cplusplus.github.io/CWG/issues/2645)
- [2646. Defaulted special member functions](https://cplusplus.github.io/CWG/issues/2646)
- [2647. Fix for "needed for constant evaluation"](https://cplusplus.github.io/CWG/issues/2647)
- [2648. Correspondence of surrogate call function and conversion function](https://cplusplus.github.io/CWG/issues/2648)
- [2649. Incorrect note about implicit conversion sequence](https://cplusplus.github.io/CWG/issues/2649)
- [2650. Incorrect example for ill-formed non-type template arguments](https://cplusplus.github.io/CWG/issues/2650)
- [2651. Conversion function templates and "noexcept"](https://cplusplus.github.io/CWG/issues/2651)
- [2652. Overbroad definition of __STDCPP_BFLOAT16_T__](https://cplusplus.github.io/CWG/issues/2652)
- [2653. Can an explicit object parameter have a default argument?](https://cplusplus.github.io/CWG/issues/2653)
- [2654. Un-deprecation of compound volatile assignments](https://cplusplus.github.io/CWG/issues/2654)

### [P2711R0 Making multi-param (and other converting) constructors of views explicit](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2711r0.html)

â†“

### [P2711R1 Making multi-param constructors of views explicit](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2711r1.html)

`<ranges>`ã®`view`ã®2å¼•æ•°ä»¥ä¸Šã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’`explicit`ã«ã™ã‚‹ã¹ãã‹ã©ã†ã‹ã‚’å•ã†ææ¡ˆã€‚

C++20ã§è¿½åŠ ã•ã‚ŒãŸ`view`ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯åŸºæœ¬çš„ã«1å¼•æ•°ã®ã‚‚ã®ã«ã ã‘`explicit`ãŒæŒ‡å®šã•ã‚Œã¦ãŠã‚Šã€ãã‚Œä»¥å¤–ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã¯æŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ä¸€æ–¹ã§ã€C++23ã§è¿½åŠ ã•ã‚ŒãŸ`view`ã§ã¯ã€2å¼•æ•°ä»¥ä¸Šã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«å¯¾ã—ã¦ã‚‚`explicit`ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‚Šã€ã“ã‚Œã«ã‚ˆã£ã¦ã‚³ãƒ”ãƒ¼ãƒªã‚¹ãƒˆåˆæœŸåŒ–ã¨ã„ã†å½¢æ…‹ã®åˆæœŸåŒ–ï¼ˆ`= {...};`ã«ã‚ˆã‚‹åˆæœŸåŒ–ï¼‰ãŒã§ããªããªã£ã¦ã„ã¾ã™ã€‚

```cpp
#include <ranges>
#include <vector>

int main() {
  std::vector v{42};

  // C++20æ™‚ç‚¹
  std::ranges::take_view r1 = {v, 1}; // âœ…
  std::ranges::filter_view r2 = {v, [](int) { return true; }};  // âœ…

  // C++23
  std::ranges::chunk_view r3 = {v, 1}; // âŒ
  std::ranges::chunk_by_view r4 = {v, [](int, int) { return true; }}; // âŒ
  
  std::ranges::chunk_view r5{v, 1}; // âœ…
  std::ranges::chunk_by_view r6{v, [](int, int) { return true; }}; // âœ…
}
```

ã—ã‹ã—ã€ã‚³ãƒ”ãƒ¼ãƒªã‚¹ãƒˆåˆæœŸåŒ–ãŒç¦æ­¢ã•ã‚Œã¦ã„ã‚‹ã ã‘ãªã‚‰ã°ãã‚Œã»ã©æœ‰å®³ã§ã¯ãªãã€`=`ã‚’ãªãã™ã ã‘ã§åˆæœŸåŒ–ã‚’è¡Œã†ã“ã¨ã¯ã§ãã¾ã™ã€‚ã‚ã‚‹ã„ã¯ã€`view`ã¯ã»ã¨ã‚“ã©ã®å ´åˆ`std::views::filter`ãªã©ã®Rangeã‚¢ãƒ€ãƒ—ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”¨ã„ã¦åˆæœŸåŒ–ã•ã‚Œã‚‹ã‚‚ã®ã§ã‚ã‚Šã€ã“ã®ã‚ˆã†ã«ç›´æ¥æ§‹ç¯‰ã•ã‚Œã‚‹ã“ã¨ã¯ç¨€ãªã¯ãšã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€ã“ã®ç‚¹ã‚’æŒ‡æ‘˜ã™ã‚‹LWG Issue 3714ã‚’å—ã‘ã¦æå‡ºã•ã‚ŒãŸã‚‚ã®ã§ã™ã€‚ã“ã®å•é¡Œã¯ç¢ºã‹ã«ä¸€è²«æ€§ã‚’æ¬ ã„ã¦ã„ã‚‹ã®ã§ã™ãŒã€ã©ã¡ã‚‰ã«å€’ã—ã¦ã‚‚ï¼ˆ`explicit`ã‚’ä»˜ã‘ã¦ã‚‚å¤–ã—ã¦ã‚‚ï¼‰ãã‚Œã»ã©æœ‰ç”¨æ€§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

- `explicit`ã‚’ä»˜åŠ ã—ãªã„å ´åˆ : æ¨å¥¨ã•ã‚Œãªã„åˆæœŸåŒ–ã®æ›¸ãæ–¹ï¼ˆã‚³ãƒ”ãƒ¼ãƒªã‚¹ãƒˆåˆæœŸåŒ–ï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã¨ã¿ãªã™ã“ã¨ãŒã§ãã‚‹
- `explicit`ã‚’ä»˜åŠ ã™ã‚‹å ´åˆ : èª°ã§ã‚‚æ›¸ã‘ã‚‹ã‚³ãƒ¼ãƒ‰ã«ä½•ã‹æ„å‘³ã®ã‚ã‚‹ä¿è­·ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã‚‚ãªã„ï¼ˆã‚³ãƒ”ãƒ¼ãƒªã‚¹ãƒˆåˆæœŸåŒ–ã‚’ç¦æ­¢ã™ã‚‹åŠ¹æœã—ã‹ãªã„ï¼‰

ã¨ã¯ã„ãˆä¸€è²«æ€§ã‚’æ¬ ã„ã¦ãŠã‚Šãã‚Œã«æ˜ç¢ºãªç†ç”±ã‚„æœ‰ç”¨æ€§ãŒãªã„ã®ã¯äº‹å®Ÿãªã®ã§ã€ã©ã¡ã‚‰ã‚’é¸ã¶ã‹ã‚’æ±ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ææ¡ˆã¯ãã®æ±ºå®šã‚’ä¿ƒã™ãŸã‚ã«æå‡ºã•ã‚ŒãŸã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã®R0ã‚’å—ã‘ã¦ã®LEWGã®æŠ•ç¥¨ã¯ã©ã¡ã‚‰ã«ã‚‚æ˜ç¢ºãªã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ãŒå¾—ã‚‰ã‚Œãªã„å¾®å¦™ãªçµæœã§ã—ãŸãŒã€æœ€çµ‚çš„ã«ã¯`view`ã®2å¼•æ•°ä»¥ä¸Šã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯`explicit`ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã™ã‚‹ã“ã¨ã§åˆæ„ã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚

R1ã§ã¯ãã®ãŸã‚ã«C++20ã®`view`ã«å¯¾ã™ã‚‹å¤‰æ›´ã‚’ææ¡ˆã™ã‚‹æ–‡è¨€ã‚’å«ã‚“ã§ãŠã‚Šã€ã“ã‚Œã¯C++20ã«å¯¾ã™ã‚‹ç ´å£Šçš„å¤‰æ›´ã¨ãªã‚Šã¾ã™ï¼ˆä»Šã®ã¨ã“ã‚DRã§ã¯ãªã„ã‚ˆã†ã§ã™ãŒï¼‰ã€‚

- [LWG Issue 3714. Non-single-argument constructors for range adaptors should not be explicit](https://cplusplus.github.io/LWG/issue3714)
- [P2711 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1360)

### [P2712R0 Classification of Contract-Checking Predicates](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2712r0.pdf)

å¥‘ç´„æ¡ä»¶å†…ã§ã®å‰¯ä½œç”¨ã‚’ç¦æ­¢ã™ã‚‹ãŸã‚ã«ã€å¥‘ç´„æ¡ä»¶ã«ä½¿ç”¨å¯èƒ½ãªè¨€èªã®ã‚µãƒ–ã‚»ãƒƒãƒˆã‚’ä½œã‚‹ã“ã¨ã‚’é¿ã‘ã‚‹ã¹ãã¨ã„ã†ææ¡ˆã€‚

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«å¯¾ã™ã‚‹å¥‘ç´„ï¼ˆ*Contract*ï¼‰ã¯ã€è‡ªç„¶è¨€èªã§è¨˜è¿°ã•ã‚ŒãŸã‚‚ã®ã ã‘ã§ãªããƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚„æ³•çš„ãªã‚‚ã®ãªã©ã‚‚å«ã¿ã¾ã™ãŒã€C++å¥‘ç´„æ©Ÿèƒ½ã«ã‚ˆã‚‹å¥‘ç´„æ¡ä»¶ã®å®Ÿè¡Œæ™‚ãƒã‚§ãƒƒã‚¯ã§æ¤œè¨¼å¯èƒ½ãªå¥‘ç´„ã¨ã¯ãã®ã†ã¡ã®ã”ãä¸€éƒ¨ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸­ã®å€‹åˆ¥ã®é–¢æ•°ã®å€‹åˆ¥ã®ä¸å¤‰æ¡ä»¶ã‚„æœŸå¾…ã™ã‚‹çŠ¶æ…‹ã®è¦æ±‚ãªã©ã®ã¿ã§ã™ã€‚

ãã®ã‚ˆã†ãªã€C++å¥‘ç´„æ©Ÿèƒ½ã§æ¤œè¨¼å¯èƒ½ãªå¥‘ç´„ã®ä¸­ã«ã‚‚ã€ã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚æ¡ä»¶ã¨ã—ã¦æ›¸ãä¸‹ã™ã“ã¨ãŒã§ããªã„ã‚‚ã®ãŒã‚ã‚Šã€ã‚ã‚‹ã„ã¯å¥‘ç´„æ¡ä»¶ã®å®Ÿè¡Œãã®ã‚‚ã®ãŒå¥‘ç´„ã‚’ç ´ã‚‹ã‚ˆã†ãªå ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ã‚ã‚‹é–¢æ•°ã«å¯¾ã—ã¦ã¯å®‰å…¨ã§æœ‰åŠ¹ãªå¥‘ç´„æ¡ä»¶ãŒåˆ¥ã®é–¢æ•°ã§ä½¿ç”¨ã•ã‚ŒãŸã¨ãã¯æœªå®šç¾©å‹•ä½œã‚’å¼•ãèµ·ã“ã™ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚çµæœçš„ã«ã€å¥‘ç´„æ¡ä»¶ã¨ã—ã¦æœ‰ç”¨ãªã‚ã‚‰ã‚†ã‚‹å¥‘ç´„æ¡ä»¶å¼ã¯ã€æ½œåœ¨çš„ã«ã“ã‚Œã‚‰ã®å•é¡Œã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ã‚’æŠ±ãˆã¦ã„ã¾ã™ã€‚

ãã®å®‰å…¨æ€§ã®åº¦åˆã„ã¯ãã®å¥‘ç´„æ¡ä»¶å¼ã®æŒã¤å‰¯ä½œç”¨ã®ç¨‹åº¦ã«ã‚ˆã£ã¦æ±ºã¾ã‚Šã€å‰¯ä½œç”¨ã¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ã‚ˆã£ã¦å¤‰åŒ–ã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚ã‚‹å¥‘ç´„æ¡ä»¶å¼ãŒå®‰å…¨ã§ã‚ã‚‹ã‹ã©ã†ã‹ã€ã„ã¤å®‰å…¨ãªã®ã‹ã‚’æ±ºå®šå¯èƒ½ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ã“ã‚Œã‚‰ã®ã“ã¨ã‹ã‚‰ã€å¥‘ç´„æ¡ä»¶ã«å‰¯ä½œç”¨ãŒãªã„ã“ã¨ã¯ã€å¥‘ç´„æ¡ä»¶ã®å®‰å…¨æ€§ã‚„ä½¿ç”¨å¯èƒ½æ€§ã‚’åˆ¤æ–­ã™ã‚‹æ ¹æ‹ ã¨ã—ã¦ã¯ä¸ååˆ†ã§ã€ä¸å¿…è¦ã§ã™ã€‚ä¸€æ–¹ã§ã€ã“ã®å®¢è¦³çš„ãªåˆ¤æ–­ã¯ã‚ã‚‹ç¨‹åº¦å¯èƒ½ã§ã‚ã‚Šã€ãã‚Œã¯å®Ÿéš›ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ãã®ãƒ‡ãƒãƒƒã‚°ãªã©ã®å®Ÿè·µã‚’é€šã—ã¦åŸ¹ã‚ã‚Œã‚‹æŠ€è¡“ã§ã™ã€‚

ã“ã®ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ã€å¥‘ç´„ã®å®Ÿè¡Œæ™‚ãƒã‚§ãƒƒã‚¯ã‚’å¯èƒ½ã«ã™ã‚‹ã¨ãã®ä¸»ãŸã‚‹é–¢å¿ƒã”ã¨ã¯ã€ã‚ã‚‹å¥‘ç´„æ¡ä»¶ãŒä¸ãˆã‚‰ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§å®‰å…¨ã‹ã©ã†ã‹ã€ã©ã®ç¨‹åº¦å®‰å…¨ã‹ã‚’ç†è§£ã™ã‚‹ã“ã¨ã§ã™ã€‚å‰è¿°ã®ã‚ˆã†ã«ã€ã“ã‚Œã¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ã‚ˆã£ã¦å¤‰åŒ–ã™ã‚‹ãŸã‚ã€è¨€èªã®ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã£ã¦å¥‘ç´„æ¡ä»¶ã®å®‰å…¨æ€§ã‚’è¦å®šã™ã‚‹ã“ã¨ã¯å®Ÿè³ªä¸å¯èƒ½ã§ã—ã‚‡ã†ãƒ»

ã“ã®ã‚ˆã†ãªç†ç”±ã«ã‚ˆã‚Šã“ã®ææ¡ˆã§ã¯ã€å®‰å…¨ãªå¥‘ç´„æ¡ä»¶å¼ã®è¨˜è¿°ã ã‘ã‚’è¨±ã™ã‚ˆã†ã«è¦‹ãˆã‚‹ï¼ˆç‰¹ã«ã€å‰¯ä½œç”¨ã‚’ç¦æ­¢ã™ã‚‹ã ã‘ã®æ–¹å‘æ€§ã®ï¼‰è¨€èªã®ã‚µãƒ–ã‚»ãƒƒãƒˆã‚’è¦å®šã™ã‚‹ã‚ˆã‚Šã‚‚ã€å¥‘ç´„æ¡ä»¶å†…ã§è¡Œã‚ã‚Œã‚‹ã“ã¨ãŒå®‰å…¨ã§ã‚ã‚‹ã¨æ€ã‚ã‚Œã‚‹ã“ã¨ã‚’è©•ä¾¡ã™ã‚‹æ–¹æ³•ã®åŸºæœ¬çš„ç†è§£ã‚’æ•™è‚²ã™ã‚‹ã“ã¨ã‚’å¥¨åŠ±ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€å¥‘ç´„æ¡ä»¶å¼å†…ã§ã®ã¿ä½¿ç”¨å¯èƒ½ãªå®‰å…¨ï¼ˆã«æ€ãˆã‚‹ãŒå®ŸåŠ¹æ€§ã®ä½ã„ï¼‰è¨€èªã®ã‚µãƒ–ã‚»ãƒƒãƒˆã‚’å®šç¾©ãƒ»æ¨™æº–åŒ–ã—ã€æ•™è‚²ã™ã‚‹ã“ã¨ã‚’é¿ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- [P2712 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1398)

### [P2718R0 Wording for P2644R1 Fix for Range-based for Loop](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2718r0.html)
### [P2722R0 Slides: Beyond operator() (P2511R2 presentation)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2722r0.pdf)
### [P2723R0 Zero-initialize objects of automatic storage duration](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2723r0.html)

è‡ªå‹•è¨˜æ†¶åŸŸæœŸé–“ã®å¤‰æ•°ãŒåˆæœŸåŒ–ã•ã‚Œãªã„å ´åˆã«å¸¸ã«ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

ç¾åœ¨ã®C++ã§ã¯è‡ªå‹•è¨˜æ†¶åŸŸæœŸé–“ã€ã™ãªã‚ã¡é–¢æ•°ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã®å¤‰æ•°ã®åˆæœŸåŒ–ãŒå¿…ãšè¡Œã‚ã‚Œã‚‹ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚çµ„ã¿è¾¼ã¿å‹ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹[ãƒˆãƒªãƒ“ã‚¢ãƒ«ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ§‹ç¯‰å¯èƒ½](https://cpprefjp.github.io/reference/type_traits/is_trivially_default_constructible.html)ãªå‹ã§ã¯åˆæœŸåŒ–å­ãŒæä¾›ã•ã‚Œãªã„å ´åˆã«ãã®å€¤ã¯ä¸å®šã¨ãªã‚Šã¾ã™ã€‚åˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„ï¼ˆä¸å®šã®ï¼‰å€¤ã‚’èª­ã¿ã ã™ã“ã¨ã¯æœªå®šç¾©å‹•ä½œã§ã™ã€‚

```cpp
int main() {
  int n;  // okã€æœªåˆæœŸåŒ–

  int m = n;  // UBã€æœªåˆæœŸåŒ–é ˜åŸŸã®èª­ã¿å‡ºã—ã¯æœªå®šç¾©å‹•ä½œ

  n = 0;      // ok

  int l = n;  // ok
}
````

ã“ã®ã‚ˆã†ãªæœªåˆæœŸåŒ–é ˜åŸŸã®èª­ã¿å–ã‚Šã¯ã€æ—¢çŸ¥ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œã®åŸå› ã¨ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ææ¡ˆã¯ã€ã“ã®ã‚ˆã†ãªãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ãŒåˆæœŸåŒ–ã•ã‚Œãªã„å ´åˆã«å¸¸ã«ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œã‚‹ã“ã¨ã‚’è¦å®šã™ã‚‹ã“ã¨ã§ã€æœªå®šç¾©å‹•ä½œã‚’è¦å®šã•ã‚ŒãŸæŒ¯ã‚‹èˆã„ã«å¤‰æ›´ã™ã‚‹äº‹ã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ãŒä½æ¸›ã•ã‚Œã€C++ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ˆã‚Šå®‰å…¨ãªè¨€èªã«é€²æ­©ã•ã›ã¾ã™ã€‚

```cpp
static char global[128];            // ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œã‚‹
thread_local int thread_state;      // ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œã‚‹

int main() {
  char buffer[128];                 // ç¾åœ¨ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œãªã„ã€ã“ã®ææ¡ˆã®é©ç”¨å¾Œã¯ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œã‚‹
  
  struct {
    char type;
    int payload;
  } padded;                         // ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãƒ“ãƒƒãƒˆã¯ã“ã®ææ¡ˆã®é©ç”¨å¾Œã¯ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œã‚‹

  union {
    char small;
    int big;
  } lopsided = '?';                 // ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãƒ“ãƒƒãƒˆã¯ã“ã®ææ¡ˆã®é©ç”¨å¾Œã¯ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œã‚‹

  int size = getSize();
  char vla[size];                   // Cã®VLAã ãŒã€å®Ÿè£…ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã“ã®ææ¡ˆã®é©ç”¨å¾Œã¯ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œã‚‹
  
  char *allocated = malloc(128);    // ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œãªã„ï¼ˆå¤‰æ›´ãªã—ï¼‰
  int *new_int = new int;           // ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œãªã„ï¼ˆå¤‰æ›´ãªã—ï¼‰
  char *new_arr = new char[128];    // ã‚¼ãƒ­åˆæœŸåŒ–ã•ã‚Œãªã„ï¼ˆå¤‰æ›´ãªã—ï¼‰
}
```

æœ€å¾Œã®3ã¤ã®ä¾‹ã®ã‚ˆã†ã«ã€ã“ã®ææ¡ˆã¯ã‚ãã¾ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã®æœªåˆæœŸåŒ–å¤‰æ•°ã ã‘ã‚’å¯¾è±¡ã¨ã—ã¦ã„ã¾ã™ã€‚

ææ¡ˆã«ã‚ˆã‚Œã°ã€ã“ã®å¤‰æ›´ã«ã‚ˆã£ã¦æ—¢çŸ¥ã®ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã®10%ã‚’è»½æ¸›ã¾ãŸã¯è§£æ¶ˆã§ãã‚‹ã€ã¨ã—ã¦ã„ã¾ã™ã€‚

ã“ã®ææ¡ˆã®å†…å®¹ã¯æ—¢ã«ä¸»è¦ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ï¼ˆclang, GCC, MSVCï¼‰ã«ãŠã„ã¦ã‚ªãƒ—ãƒˆã‚¤ãƒ³ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ•ãƒ©ã‚°ã«ã‚ˆã£ã¦å®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€Windowsã‚„Androidç­‰ã®OSã€Chromeç­‰Webãƒ–ãƒ©ã‚¦ã‚¶ç­‰ã§æœ‰åŠ¹ã«ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã®å½±éŸ¿ã¨ã—ã¦æœ€ã‚‚æ°—ã«ãªã‚‹ã®ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ã§ã™ã€‚ã“ã®ææ¡ˆã®æ„å‘³ã™ã‚‹ã¨ã“ã‚ã¯åˆæœŸåŒ–ã•ã‚Œãªã„ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã¯å¸¸ã«ã‚¼ãƒ­ãƒ•ã‚£ãƒ«ã•ã‚Œã‚‹ã¨ã„ã†äº‹ã§ã‚ã‚Šã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ã¯ä¸å¯é¿ã§ã™ã€‚

ã“ã®ææ¡ˆã«ã‚ˆã‚Œã°ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ã¯ã”ãã‚ãšã‹ï¼ˆ0.5%æœªæº€ã®ä½ä¸‹ã€ä¸€éƒ¨ã¯1%ã®é«˜é€ŸåŒ–ï¼‰ã§ã‚ã‚Šã€ã‚³ãƒ¼ãƒ‰ã‚µã‚¤ã‚ºã¸ã®å½±éŸ¿ã‚‚ç„¡è¦–ã§ãã‚‹ãƒ¬ãƒ™ãƒ«ï¼ˆ0.5%æœªæº€ï¼‰ã¨ã®ã“ã¨ã§ã™ã€‚ãŸã ã—ã€ã“ã‚Œã¯ã‚¼ãƒ­åˆæœŸåŒ–ã‚’æœ€é©åŒ–ã™ã‚‹ãŸã‚ã®å®Ÿè£…ã‚’è¡Œã£ãŸLLVMã«ã‚ˆã‚‹è¨ˆæ¸¬ã§ã‚ã‚Šã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æœ€é©åŒ–ã‚’å‰æã¨ã—ãŸæ•°å­—ã§ã™ï¼ˆæœ€é©åŒ–ãŒä¸ååˆ†ã ã£ãŸéå»ã®å ´åˆã¯ã€2.7~5.4%ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹ãŒè¨ˆæ¸¬ã•ã‚ŒãŸã‚ˆã†ã§ã™ï¼‰ã€‚

ã¾ãŸã€GCCã¯ä¸æ˜ã§ã™ãŒã€MSVCã¯åŒç¨®ã®ã‚¼ãƒ­åˆæœŸåŒ–é–¢é€£ã®æœ€é©åŒ–ã‚’æ—¢ã«å®Ÿè£…æ¸ˆã¿ã®ã‚ˆã†ã§ã™ã€‚

ãŸã ã€ãã‚Œã§ã‚‚ã•ã™ãŒã«ãƒ­ãƒ¼ã‚«ãƒ«ã«å¤§ããªé…åˆ—ãŒã‚ã‚‹ã‚±ãƒ¼ã‚¹ãªã©ã§ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ãŒç„¡è¦–ã§ããªã„ã‚ˆã†ã§ã€ã“ã®å¤‰æ›´ã‚’ã‚ªãƒ—ãƒˆã‚¢ã‚¦ãƒˆã™ã‚‹ãŸã‚ã®å±æ€§`[[uninitialized]]`ã‚‚åŒæ™‚ã«ææ¡ˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯å¤‰æ•°å®£è¨€ã«å¯¾ã—ã¦æŒ‡å®šã™ã‚‹å±æ€§ã§ã€æ˜ç¤ºçš„ã«ä»˜åŠ ã•ã›ã‚‹ã“ã¨ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒä½•ãŒèµ·ãã‚‹ã‹ã‚’æ„å›³ã—ãŸã†ãˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’è¡¨æ˜ã—ã¾ã™ã€‚

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã®ä¾‹

ææ¡ˆã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹æœªåˆæœŸåŒ–ãƒ¡ãƒ¢ãƒªã®èª­ã¿å‡ºã—ã«ã‚ˆã‚‹ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆã®ä¾‹ï¼ˆã©ã¡ã‚‰ã‚‚Cè¨€èªã‹ã¤Linuxã«ãŠã‘ã‚‹ã‚‚ã®ï¼‰ã‚’ã‚³ãƒ”ãƒšã—ã¦ãŠãã¾ã™

```cpp
int get_hw_address(struct device *dev, struct user *usr) {
  unsigned char addr[MAX_ADDR_LEN];         // æœªåˆæœŸåŒ–ã€å€¤ã‚’èª­ã¿ã ã™ã“ã¨ã§ãƒ¡ãƒ¢ãƒªã®å†…å®¹ãŒãƒªãƒ¼ã‚¯ã—ã†ã‚‹
  
  if (!dev->has_address)
    return -EOPNOTSUPP;
    
  dev->get_hw_address(addr);                // addrã®å…¨éƒ¨ã‚’ä½•ã‹ã—ã‚‰ã®å€¤ã§åŸ‹ã‚ãªã„
  return copy_out(usr, addr, sizeof(addr)); // addrã®å…¨è¦ç´ ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹
}
```

ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ãŒæœªåˆæœŸåŒ–ã®å ´åˆã€ãã®é ˜åŸŸã«ã¯ä»¥å‰ã«ã‚¹ã‚¿ãƒƒã‚¯ä¸Šã«é…ç½®ã•ã‚Œã¦ã„ãŸä½•ã‚‰ã‹ã®å€¤ãŒãã®ã¾ã¾ã«ãªã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ASLRã®æƒ…å ±ãŒæ¼ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã¨Return-oriented programming(ROP)ã‚’æœ‰åŠ¹åŒ–ã—ãŸã‚Šã€åˆ¥ã®æƒ…å ±ãŒã©ã“ã«ã‚ã‚‹ã‹ã‚’æŠŠæ¡ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```cpp
int queue_manage() {
  struct async_request *backlog;              // ãƒã‚¤ãƒ³ã‚¿å€¤ã¯æœªåˆæœŸåŒ–ï¼ˆéã‚¼ãƒ­ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

  if (engine->state == IDLE)                  // å¤§æŠµã¯trueã«ãªã‚‹æ¡ä»¶
    backlog = get_backlog(&engine->queue);    // backlogãŒåˆæœŸåŒ–ã•ã‚Œã‚‹

  if (backlog)
    backlog->complete(backlog, -EINPROGRESS); // backlogã®åˆæœŸåŒ–æœ‰ç„¡ã«ã‹ã‹ã‚ã‚‰ãšã“ã“ã«æ¥ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

  return 0;
}
```

æ”»æ’ƒè€…ã¯ã€ä»¥å‰ã®é–¢æ•°å‘¼ã³å‡ºã—ã‚’è¡Œã„åŒã˜ã‚¹ã‚¿ãƒƒã‚¯ã‚¹ãƒ­ãƒƒãƒˆãŒå†åˆ©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€`backlog`ã®å€¤ã‚’åˆ¶å¾¡ã§ãã‚‹ã€‚

ã“ã‚Œãã®ã‚‚ã®åŠã³ä¼¼ãŸã‚ˆã†ãªå•é¡Œã¯C++ã§ã‚‚èµ·ã“ã‚Šãˆã‚‹ã“ã¨ã§ã€ç¾åœ¨ã®è¨€èªä»•æ§˜ã§ã¯ãã‚Œã‚’ã©ã†ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã›ã‚“ã€‚

- [Automatic variable initialization](https://reviews.llvm.org/D54604)
- [[RFC][patch for gcc12][version 1] add -ftrivial-auto-var-init and variable attribute "uninitialized" to gcc](https://gcc.gnu.org/pipermail/gcc-patches/2021-February/565514.html)
- [Join the Windows kernel in wishing farewell to uninitialized plain-old-data structs on the stack](https://twitter.com/JosephBialek/status/1062774315098112001)
- [Solving Uninitialized Stack Memory on Windows - Microsoft Security Response Center](https://msrc-blog.microsoft.com/2020/05/13/solving-uninitialized-stack-memory-on-windows/)
- [P2723 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1401)

### [P2725R0 std::integral_constant Literals](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2725r0.html)

`std::integral_constant`ã®å€¤ã‚’ç”Ÿæˆã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ãƒªãƒ†ãƒ©ãƒ«ã®ææ¡ˆã€‚


`std::integral_constant`ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚æ•´æ•°å€¤ã‚’é€šå¸¸ã®å¼•æ•°ã¨åŒã˜çµŒè·¯ã§æ¸¡ã™ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ãŸã ã—ã€å‹åãŒé•·ã„ãŸã‚è¡¨è¨˜ãŒå†—é•·ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚

```cpp
// submdpsnã®strideæŒ‡å®šã«ä½¿ç”¨ã™ã‚‹ä¾‹
// å®Ÿè¡Œæ™‚ã®å€¤ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®å€¤ã‚’åŒã˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§åŒæ™‚ã«æ¸¡ã™ã“ã¨ãŒã§ãã‚‹

auto const sir1 =
  strided_index_range{integral_constant<size_t, 0>{},
                      integral_constant<size_t, 10>{},
                      3};
auto y1 = submdspan(x, sir1);

auto const sir2 =
  compute_index_range(integral_constant<size_t, 0>{},
                      integral_constant<size_t, 3>{},
                      integral_constant<size_t, 8>{},
                      integral_constant<size_t, 5>{},
                      integral_constant<size_t, 2>{},
                      integral_constant<size_t, 10>{});
auto y2 = submdspan(x, sir2);
```

`std::mdspan/std::submdspan`ã§ã¯ãã®æ¬¡å…ƒã¨è¦ç´ æ•°ã‚„strideã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã«ä¼¼ãŸã‚ˆã†ãªæŒ‡å®šã‚’è¡Œã†ãŸã‚ã€C++23ä»¥é™ã¯ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒã‚ˆã‚Šç›®ç«‹ã¤ã“ã¨ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

ã“ã®ææ¡ˆã¯ã“ã®ã‚ˆã†ãªæ§‹æ–‡ä¸Šã®å†—é•·æ€§ãƒ»ãƒã‚¤ã‚ºã‚’å–ã‚Šé™¤ããŸã‚ã«ã€`std::integral_constant`ã®å€¤ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’ç”Ÿæˆã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ãƒªãƒ†ãƒ©ãƒ«ï¼ˆUDLï¼‰æ¼”ç®—å­ã‚’æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«è¿½åŠ ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã«ã‚ˆã£ã¦ã€å…ˆç¨‹ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«æ”¹å–„ã•ã‚Œã¾ã™

```cpp
// UDLã‚’æœ‰åŠ¹åŒ–
using namespace std::literals::integal_constant_literals;

// strided_index_rangeã®æ”¹å–„
auto y = submdspan(x, strided_index_range{0uzic, 10uzic, 3});

// compute_index_rangeã®æ”¹å–„
auto const sir =
  compute_index_range(0ic, 3ic, 8ic, 5ic, 2ic, 10ic);
auto y = submdspan(x, sir);
```

ã“ã®`uzic, ic`ãŒã“ã®ææ¡ˆã«ã‚ˆã‚‹UDLã§ã€ãã‚Œãã‚Œ`std::integral_constant<std::size_t, N>`ã¨`std::integral_constant<int, N>`ã‚’è¿”ã—ã€`N`ã«ã¯ãƒªãƒ†ãƒ©ãƒ«ãŒæ·»ä»˜ã•ã‚ŒãŸæ•´æ•°å€¤ãŒå…¥ã‚Œã‚‰ã‚Œã¾ã™ã€‚

ææ¡ˆã•ã‚Œã¦ã„ã‚‹UDLã¯ã€çµ„ã¿è¾¼ã¿ã®æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼ˆ`u U l L z Z`ã¨ãã®çµ„ã¿åˆã‚ã›ï¼‰+`ic`ã®å½¢ã§ã€å…¨éƒ¨ã§33å€‹ã‚ã‚Šã¾ã™ã€‚

ã¾ãŸã€ã“ã®ææ¡ˆã¯ä»–ã®ã‚³ãƒ¼ãƒ‰ã®æ”¹å–„ã®æ©Ÿä¼šã¨ãªã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€`std::tuple`ã«`[]`ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“

```cpp
using namespace std::literals::integal_constant_literals;

// tupleã«æ·»å­—æ¼”ç®—å­ã‚’è¿½åŠ ã§ãã‚‹
auto t = std::tuple<int, std::string>(0, "some text");
t[1ic] = "some different text";

// getã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŒ‡å®šã‚’å¼•æ•°ã§è¡Œã†
auto t = std::tuple<int, std::string>(0, "some text");
std::get(t, 1ic) = "some different text";
```

ã¾ãŸã€UDLã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯å¯¾è±¡æ•°å€¤ã®ç¬¦å·`-`ãŒUDLå†…éƒ¨ã‹ã‚‰ã¯è¦‹ãˆãªã„ãŸã‚ã€ãã‚Œã‚’åæ˜ ã•ã›ã‚‹ãŸã‚ã«`std::integral_constant`ã«å˜é …`operator-()`ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

- [C++11 ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ãƒªãƒ†ãƒ©ãƒ« - cpprefjp](https://cpprefjp.github.io/lang/cpp11/user_defined_literals.html)
- [P2725 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1402)

### [P2726R0 Better std::tuple Indexing](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2726r0.html)

`std::integral_constant`ã¨ãã®UDLã‚’åˆ©ç”¨ã—ãŸã€`std::tuple`ã®æ·»å­—æ¼”ç®—å­ï¼ˆ`[]`ï¼‰ã®ææ¡ˆã€‚

ã“ã‚Œã¯ã€1ã¤å‰ã®P2725R0ã®æœ€å¾Œã§ç´¹ä»‹ã—ã¦ã„ãŸã€`std::tuple`ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã‚’`ic`ãƒªãƒ†ãƒ©ãƒ«ã«ã‚ˆã£ã¦è¡Œã†ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

<table>
<tr>
<th>ç¾åœ¨</th>
<th>ææ¡ˆ</th>
</tr>
<tr>
<td valign="top">

```cpp
auto t = std::tuple<int, std::string>{42, "how many ..."};

assert(std::get<0>(t) == 42);
assert(std::get<1>(t) == "how many...");
```

</td>
<td valign="top">

```cpp
auto t = std::tuple<int, std::string>{42, "how many ..."};
using namespace std::literals;
assert(t[0ic] == 42);                       // Option 1.
assert(std::get(t, 1ic) == "how many...");  // Option 2.
```

</td>
</tr>
</table>

ã“ã®ææ¡ˆã§ã¯ã€æ·»å­—æ¼”ç®—å­ã‚’å°å…¥ã™ã‚‹ï¼ˆOption1ï¼‰ã‹æ—¢å­˜ã®`get`ã‚’æ‹¡å¼µã™ã‚‹ï¼ˆOption2ï¼‰ã‹ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã„ã¾ã™ã€‚

ã©ã¡ã‚‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ãŠã„ã¦ã‚‚ã€ãƒã‚¹ãƒˆã—ãŸ`std::tuple`ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹é †åºãŒãã®é †ç•ªé€šã‚Šã«ãªã‚‹ã¨ã„ã†åˆ©ç‚¹ã‚‚å¾—ã‚‰ã‚Œã¾ã™ã€‚

```cpp
int main() {
  std::tuple<int, std::tuple<double, bool, int>> t;

  // ç¾åœ¨
  std::get<2>(std::get<1>(t)) = 42;

  // Option1
  t[1ic][2ic] = 42;

  // Option2
  std::get(std::get(t, 1ic), 2ic) = 42;
}
```

Option1ã®å®Ÿè£…ã¯Boost.Hanaã§å®Ÿè£…ã•ã‚Œæ•°å¹´ã®å®Ÿè£…çµŒé¨“ãŒã‚ã‚‹ã‚ˆã†ã§ã€P2725R0ã‚’å‰æã¨ã™ã‚Œã°ã€ã©ã¡ã‚‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã—ã¦ã‚‚å®Ÿè£…ã¯ã‹ãªã‚Šç°¡å˜ãªã¯ãšã§ã™ã€‚

- [P2726 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1403)

### [P2727R0 std::iterator_interface](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2727r0.html)

ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ç°¡å˜ã«æ›¸ããŸã‚ã®ãƒ˜ãƒ«ãƒ‘ã‚¯ãƒ©ã‚¹ã®ææ¡ˆã€‚

STLã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’æ›¸ãã®ã¯é›£ã—ãã€å†—é•·ãªã‚³ãƒ¼ãƒ‰ãŒå¤§é‡ã«å¿…è¦ã¨ã•ã‚Œã¾ã™ã€‚

ãŸã¨ãˆã°ã€æŒ‡å®šã•ã‚ŒãŸæ–‡å­—åˆ—å†…ã®æ–‡å­—ã‚’ç¹°ã‚Šè¿”ã™ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’æ›¸ãã¨ã™ã‚‹ã¨

```cpp
repeated_chars_iterator first("foo", 3, 0); // 3 is the length of "foo", 0 is this iterator's position.
repeated_chars_iterator last("foo", 3, 7);  // Same as above, but now the iterator's position is 7.
std::string result;
std::copy(first, last, std::back_inserter(result));
assert(result == "foofoof");
```

æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™

```cpp
struct repeated_chars_iterator
{
    using value_type = char;
    using difference_type = std::ptrdiff_t;
    using pointer = char const *;
    using reference = char const;
    using iterator_category =
        std::random_access_iterator_tag;

    constexpr repeated_chars_iterator() :
        first_(nullptr),
        size_(0),
        n_(0)
    {}
    constexpr repeated_chars_iterator(
        char const * first,
        difference_type size,
        difference_type n) :
        first_(first),
        size_(size),
        n_(n)
    {}

    constexpr reference operator*() const
    {
        return first_[n_ % size_];
    }

    constexpr value_type operator[](
        difference_type n) const
    {
        return first_[(n_ + n) % size_];
    }

    constexpr repeated_chars_iterator & operator++()
    {
        ++n_;
        return *this;
    }
    constexpr repeated_chars_iterator
    operator++(int)noexcept
    {
        repeated_chars_iterator retval = *this;
        ++*this;
        return retval;
    }
    constexpr repeated_chars_iterator &
    operator+=(difference_type n)
    {
        n_ += n;
        return *this;
    }

    constexpr repeated_chars_iterator & operator--()
    {
        --n_;
        return *this;
    }
    constexpr repeated_chars_iterator
    operator--(int)noexcept
    {
        repeated_chars_iterator retval = *this;
        --*this;
        return retval;
    }
    constexpr repeated_chars_iterator &
    operator-=(difference_type n)
    {
        n_ -= n;
        return *this;
    }

    friend constexpr bool operator==(
        repeated_chars_iterator lhs,
        repeated_chars_iterator rhs)
    {
        return lhs.first_ == rhs.first_ &&
            lhs.n_ == rhs.n_;
    }
    friend constexpr bool operator!=(
        repeated_chars_iterator lhs,
        repeated_chars_iterator rhs)
    {
        return !(lhs == rhs);
    }
    friend constexpr bool operator<(
        repeated_chars_iterator lhs,
        repeated_chars_iterator rhs)
    {
        return lhs.first_ == rhs.first_ &&
            lhs.n_ < rhs.n_;
    }
    friend constexpr bool operator<=(
        repeated_chars_iterator lhs,
        repeated_chars_iterator rhs)
    {
        return lhs == rhs || lhs < rhs;
    }
    friend constexpr bool operator>(
        repeated_chars_iterator lhs,
        repeated_chars_iterator rhs)
    {
        return rhs < lhs;
    }
    friend constexpr bool operator>=(
        repeated_chars_iterator lhs,
        repeated_chars_iterator rhs)
    {
        return lhs <= rhs;
    }

    friend constexpr repeated_chars_iterator
    operator+(repeated_chars_iterator lhs,
              difference_type rhs)
    {
        return lhs += rhs;
    }
    friend constexpr repeated_chars_iterator
    operator+(difference_type lhs,
              repeated_chars_iterator rhs)
    {
        return rhs += lhs;
    }
    friend constexpr repeated_chars_iterator
    operator-(repeated_chars_iterator lhs,
              difference_type rhs)
    {
        return lhs -= rhs;
    }
    friend constexpr difference_type operator-(
        repeated_chars_iterator lhs,
        repeated_chars_iterator rhs)
    {
        return lhs.n_ - rhs.n_;
    }

private:
    char const * first_;
    difference_type size_;
    difference_type n_;
};
```

ã“ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã§ã‚ã‚Šã€ãã®æ€§è³ªã‚’æº€ãŸã™ãŸã‚ã«å¿…è¦ã¨ã™ã‚‹æ“ä½œã‚’å…¨ã¦è¨˜è¿°ã™ã‚‹ã¨ã“ã®ã‚ˆã†ã«é•·å¤§ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒã»ã¨ã‚“ã©é¿ã‘ã‚‰ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã‚‰ã®æ“ä½œã¯å®Ÿéš›ã«ã¯4ã¤ã®æ“ä½œã‹ã‚‰åˆæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ã“ã®ã‚ˆã†ã«ä¼¼ãŸã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒç”»é¢ã‚’åŸ‹ã‚å°½ãã—ãƒã‚°ãŒæ··å…¥ã—ã¦ã‚‚ç™ºè¦‹ã™ã‚‹ã®ã‚’é›£ã—ãã—ã¦ã„ã¾ã™ï¼ˆå®Ÿéš›ã«ã€ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã«ã¯1ç®‡æ‰€æ„å›³çš„ã«ãƒã‚°ãŒæ··å…¥ã•ã‚Œã¦ã„ã¾ã™ï¼‰ã€‚

å®Ÿéš›ã«ã€ã“ã®ææ¡ˆã®ãƒ™ãƒ¼ã‚¹ã¨ãªã£ã¦ã„ã‚‹Boostãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆBoost.STLInterfacesï¼‰ã§ã¯ä¸Šè¨˜ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’ä¾‹ã¨ã—ã¦ä½¿ç”¨ã—ã¦ã„ãŸã¨ã“ã‚ã€æ”¹å–„å‰ã®ã‚³ãƒ¼ãƒ‰ã«ãƒã‚°ãŒã‚ã‚‹ã“ã¨ãŒæŒ‡æ‘˜ã•ã‚Œã¾ã—ãŸã€‚ã—ã‹ã—ã€ãã‚Œä»¥å‰ã‹ã‚‰åˆ¥ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ãã®ä¾‹ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’å¤šç”¨ã—ã¦ã„ãŸã«ã‚‚é–¢ã‚ã‚‰ãšã€ãã®ãƒã‚°ãŒå®Ÿéš›ã«å•é¡Œã¨ãªã‚‹ã“ã¨ã¯ãªã‹ã£ãŸã‚ˆã†ã§ã™ã€‚ã“ã®ã“ã¨ã¯ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®ã‚ˆã†ã«éå¸¸ã«å¤§ããªAPIã§ã¯ã‚³ãƒ”ãƒšãŒå¤šç”¨ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ã„ä¸€æ–¹ã§ã€APIã®å€‹åˆ¥è¦ç´ ãŒå®Œå…¨ã«ãƒ†ã‚¹ãƒˆã•ã‚Œã‚‹å¯èƒ½æ€§ã¯ä½ã„ã“ã¨ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚

ã¾ãŸã€STLã®è¦ä»¶ï¼ˆã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼‰ã«æº–æ‹ ã™ã‚‹ã“ã¨ãŒé›£ã—ã„ã“ã¨ã‹ã‚‰ã€ç°¡å˜ãªã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã§ã‚ã£ã¦ã‚‚æ‰‹æ›¸ãã™ã‚‹ã“ã¨ã¯é€šå¸¸é¿ã‘ã‚‰ã‚Œã¾ã™ã€‚ãã‚Œã«ã‚ˆã£ã¦ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦è¡¨ç¾ã§ããŸã¯ãšã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ãã‚Œã‚’ä½¿ç”¨ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã¨æ··åœ¨ã—ã¦ç›´æ¥æ›¸ã‹ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã€è¤‡é›‘åŒ–ã™ã‚‹ã¨ã¨ã‚‚ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã‚„ã™ããªã‚Šã¾ã™ã€‚ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’æ›¸ããŸã‚ã®ã‚³ã‚¹ãƒˆãŒä½ã‘ã‚Œã°ã€ã‚ˆã‚Šå¤šãã®å ´æ‰€ã§ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«ã‚ˆã£ã¦è§£æ±ºã§ãã‚‹å•é¡ŒãŒã‚ã‚‹ã“ã¨ã«æ°—ã¥ã‘ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã®ææ¡ˆã¯ã€[`std::ranges::view_interface`](https://cpprefjp.github.io/reference/ranges/view_interface.html)ãŒ`view`ã®ä½œæˆã‚’è£œåŠ©ã™ã‚‹ã‚ˆã†ã«ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«å¯¾ã™ã‚‹åŒæ§˜ã®è£œåŠ©ã‚’æä¾›ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚¯ãƒ©ã‚¹ã‚’æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å°å…¥ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã®æ©Ÿèƒ½ã«ã‚ˆã£ã¦ã€ä¸Šè¨˜ã®ä¾‹ã¯æ¬¡ã®ã‚ˆã†ã«æ”¹å–„ã•ã‚Œã¾ã™ã€‚

```cpp
struct repeated_chars_iterator :
    std::iterator_interface<
        repeated_chars_iterator,
        std::random_access_iterator_tag,
        char,
        char>
{
    constexpr repeated_chars_iterator() :
        first_(nullptr),
        size_(0),
        n_(0)
    {}
    constexpr repeated_chars_iterator(char const * first,
                                      difference_type size,
                                      difference_type n) :
        first_(first),
        size_(size),
        n_(n)
    {}

    constexpr char operator*() const
    {
        return first_[n_ % size_];
    }
    constexpr repeated_chars_iterator &
    operator+=(std::ptrdiff_t i)
    {
        n_ += i;
        return *this;
    }
    constexpr auto operator-(
        repeated_chars_iterator other) const
    {
        return n_ - other.n_;
    }

private:
    char const * first_;
    difference_type size_;
    difference_type n_;
};
```

ã“ã®ææ¡ˆã§ã¯ã€`std::iterator_interface`ã¨ã„ã†CRTPã«ã‚ˆã£ã¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ³¨å…¥ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’å°å…¥ã—ã¦ã€ãã‚Œã‚’ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿å®Ÿè£…ã‚¯ãƒ©ã‚¹ã§ç¶™æ‰¿ã—ã¦ä½¿ã†ã“ã¨ã§å¤šãã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã‚’è‡ªå‹•åŒ–ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’æ›¸ãéš›ã«å¿…è¦ã¨ãªã‚‹ã®ã¯`* += -`ï¼ˆã¨å¿…è¦ãªã‚‰`==`ï¼‰ã ã‘ã§æ¸ˆã‚€ã‚ˆã†ã«ãªã‚Šã€ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ãŒã‹ãªã‚Šå‰Šæ¸›ã•ã‚Œã¾ã™ã€‚ãã—ã¦ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’æ›¸ãéš›ã«ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®æº–æ‹ ã®ãŸã‚ã®å®Ÿè£…ãŒç°¡ç•¥åŒ–ã•ã‚Œã‚‹ã“ã¨ã§ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã§è¡¨ç¾ã—ãŸã„ã“ã¨ï¼ˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼‰ã®å®Ÿè£…ã«é›†ä¸­ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- [C++20ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿äº‹æƒ… - Qiita](https://qiita.com/tomolatoon/items/3e14a3172261230ebe83)
- [boostorg/stl_interfaces: A C++14 and later CRTP template for defining iterators](https://github.com/boostorg/stl_interfaces)
- [P2727 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1404)
