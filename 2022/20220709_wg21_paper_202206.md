# ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´05æœˆï¼‰

æ–‡æ›¸ã®ä¸€è¦§

- [JTC1/SC22/WG21 - Papers 2022 mailing2022-06](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/#mailing2022-06)

å…¨éƒ¨ã§46æœ¬ã‚ã‚Šã¾ã™ã€‚

[:contents]


### [P0009R17 MDSPAN](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0009r17.html)

å¤šæ¬¡å…ƒé…åˆ—ã«å¯¾ã™ã‚‹`std::span`ã§ã‚ã‚‹ã€`mdspan`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0009R12 MDSPAN - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/06/13/165215#P0009R12-MDSPAN)
- [P0009R13 MDSPAN - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/11/13/193322#P0009R13-MDSPAN)
- [P0009R14 MDSPAN - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/12/11/220126#P0009R14-MDSPAN)
- [P0009R15 MDSPAN - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P0009R15-MDSPAN)
- [P0009R16 MDSPAN - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/04/02/175835#P0009R16-MDSPAN)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€LWGã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ã‘ã¦ã®æ–‡è¨€ã®ä¿®æ­£ã€P2553ã¨P2554ã®å¤‰æ›´ã‚’ãƒãƒ¼ã‚¸ã—ãŸã“ã¨ã€`submdspan`ã‚’åˆ¥ã®ææ¡ˆã«åˆ†é›¢ã—ãŸã“ã¨ãªã©ã§ã™ã€‚

- [P2553R1 Make mdspan `size_type` controllable - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/04/02/175835#P2553R1-Make-mdspan-size_type-controllable)
- [P2554R0 C-Array Interoperability of MDSpan - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P2554R0-C-Array-Interoperability-of-MDSpan)
- [P0009 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/96)

### [P0429R9 A Standard `flat_map`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0429r9.pdf)

ã‚­ãƒ¼ã®æ¤œç´¢ã‚’`std::map`æ¯”ã§é«˜é€Ÿã«è¡Œãˆã‚‹é€£æƒ³ã‚³ãƒ³ãƒ†ãƒŠã€`flat_map`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0429R8 A Standard `flat_map` - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/05/08/195618#P0429R8-A-Standard-flat_map)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã‚ˆãã‚ã‹ã‚Šã¾ã›ã‚“ï¼ˆãŠãã‚‰ãæ–‡è¨€ã®ä¿®æ­£ã®ã¿ï¼‰ã€‚

ã“ã®ææ¡ˆã¯ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã‚’æŒã£ã¦LWGã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çµ‚ãˆã¦ãŠã‚Šã€æ¬¡ã®å…¨ä½“ä¼šè­°ã§æŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã‚‹äºˆå®šã§ã™ã€‚

- [P2569 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/101)

### [P0447R20 Introduction of `std::hive` to the standard library](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0447r20.html)

è¦ç´ ãŒå‰Šé™¤ã•ã‚Œãªã„é™ã‚Šãã®ãƒ¡ãƒ¢ãƒªä½ç½®ãŒå®‰å®šãªã‚³ãƒ³ãƒ†ãƒŠã§ã‚ã‚‹`std::hive`ï¼ˆæ—§å`std::colony`ï¼‰ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0447R11 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P0447R11-Introduction-of-stdcolony-to-the-standard-library)
- [P0447R12 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P0447R12-Introduction-of-stdcolony-to-the-standard-library)
- [P0447R13 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/05/14/214016#P0447R13-Introduction-of-stdcolony-to-the-standard-library)
- [P0447R14 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/06/13/165215#P0447R14-Introduction-of-stdcolony-to-the-standard-library)
- [P0447R15 Introduction of std::hive to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´06æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/07/12/182757#P0447R15-Introduction-of-stdhive-to-the-standard-library)
- [P0447R16 Introduction of std::hive to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´09æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/10/03/193523#P0447R16-Introduction-of-stdhive-to-the-standard-library)
- [P0447R17 Introduction of std::hive to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/12/11/220126#P0447R17-Introduction-of-stdhive-to-the-standard-library)
- [P0447R18 Introduction of std::hive to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/02/19/181101#P0447R18-Introduction-of-stdhive-to-the-standard-library)
- [P0447R19 Introduction of std::hive to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P0447R19-Introduction-of-stdhive-to-the-standard-library)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€

- ã‚³ãƒ³ãƒ†ãƒŠã®`== != <=>`æ¼”ç®—å­å‰Šé™¤
- å‚ç…§å®Ÿè£…ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹äº’æ›æ€§ã«ã¤ã„ã¦è¿½è¨˜
- `sort()`ã®è¨ˆç®—é‡ã®è¦å®šã‚’å‰Šé™¤
- `range`ã‚’å—ã‘å–ã‚‹ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã®è¿½åŠ 
- `block_capacity_hard_limits()`ã®è¿½åŠ 
- FAQã®æ‹¡å……
- `memory()`ã®å‰Šé™¤
- `trim()`ã‚’`trim_capacity()`ã¸å¤‰æ›´
- ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºåˆ¶é™ã‚’å—ã‘å–ã‚‹é–¢æ•°ãŒãã®åˆ¶é™ã‚’æº€ãŸã›ãªã„å ´åˆã€ä¾‹å¤–ã‚¹ãƒ­ãƒ¼ã—ã¦ã„ãŸã®ã‚’æœªå®šç¾©å‹•ä½œã¸å¤‰æ›´
- `unique()`ã®è¿½åŠ 
- `erase()`ã«ã‚ˆã£ã¦ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹æ¡ä»¶ã®æ˜ç¢ºåŒ–
- `get_iterator()`ãŒ`const`ãƒã‚¤ãƒ³ã‚¿ã‚’å–ã‚‹ã‚ˆã†ã«å¤‰æ›´
- `advance/distance/next/prev`ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚’å‰Šé™¤
- `hive_limits`ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’`constexpr`åŒ–
- `is_activeï¼ˆconst_iterator`
- æ™‚é–“è¨ˆç®—é‡ã®ä¿®æ­£
- `trim_capacity(n)`ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã®è¿½åŠ 
- `hive_limit`ã‚’å–ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã§ã¯ãªãå€‹åˆ¥ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«åˆ†é›¢
- ã„ãã¤ã‹ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«ã‚ˆã‚‹æ–‡è¨€ä¿®æ­£

ãªã©ã§ã™ã€‚

- [P0447 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/328)

### [P0792R10 function_ref: a non-owning reference to a Callable](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0792r10.html)
### [P0957R8 Proxy: A Polymorphic Programming Library](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p0957r8.pdf)
### [P1018R16 C++ Language Evolution status - pandemic edition â€“ 2022/02-2022/06](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1018r16.html)
### [P1144R6 Object relocation in terms of move plus destroy](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1144r6.html)

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å†é…ç½®ï¼ˆ*relocation*ï¼‰ã¨ã„ã†æ“ä½œã‚’å®šç¾©ã—ã€ãã‚Œã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’æ•´ãˆã‚‹ææ¡ˆã€‚

å†é…ç½®ï¼ˆ*relocation*ï¼‰ã¨ã¯ã€ãƒ ãƒ¼ãƒ–ã¨ç ´æ£„ã®è¤‡åˆæ“ä½œã®ã“ã¨ã§ã™ã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹`T`ã¨ãƒã‚¤ãƒ³ã‚¿`src`ã¨`dst`ãŒã‚ã‚‹æ™‚ã€ã€Œ`T`ã‚’`src`ã‹ã‚‰`dst`ã¸å†é…ç½®ã™ã‚‹ã€ã¨ã¯`src`ã‹ã‚‰`dst`ã¸ãƒ ãƒ¼ãƒ–æ§‹ç¯‰ã—ãŸå¾Œã§`src`ã‚’ç ´æ£„ã™ã‚‹ã¨ã„ã†æ„å‘³ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€ã“ã®å†é…ç½®ï¼ˆ*relocation*ï¼‰ã¨ã„ã†æ“ä½œã‚’ãƒ ãƒ¼ãƒ–ãƒ»ã‚³ãƒ”ãƒ¼ãƒ»ç ´æ£„ãƒ»swapãªã©ã®åŸºæœ¬æ“ä½œã®ãƒªã‚¹ãƒˆã«è¿½åŠ ã™ã‚‹ã¨ã¨ã‚‚ã«ã€å†é…ç½®ã®`noexcept`ã‚„ãƒˆãƒªãƒ“ã‚¢ãƒ«æ€§ã®æ¤œå‡ºã‚’è¡Œã†ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãªã©ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€å†é…ç½®æ“ä½œã‚’C++ã®åŸºæœ¬æ“ä½œã¨ã—ã¦å…¨é¢ã‚µãƒãƒ¼ãƒˆã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

å†é…ç½®æ“ä½œã«ãŠã„ã¦é‡è¦–ã•ã‚Œã¦ã„ã‚‹ã®ã¯ã€*trivially relocatable*ã¨ã„ã†æ€§è³ªã§ã€ã“ã‚Œã¯å†é…ç½®ã®æ“ä½œãŒ`memcpy`ã¨åŒç­‰ã§ã‚ã‚‹ã“ã¨ã‚’è¨€ã£ã¦ã„ã¾ã™ã€‚ã»ã¨ã‚“ã©ã®å ´åˆå†é…ç½®å¯èƒ½ãªå‹ã¯*trivially relocatable*ã§ã‚ã‚Šã€ãã®ã‚ˆã†ãªå‹ã«ã¯ä¾‹ãˆã°ã€`std::unique_ptr<int>, std::vector<int>, std::string`ãªã©ãŒã‚ã‚Šã¾ã™ã€‚ä¸€æ–¹ã§ã€`std::list<int>`ã®ã‚ˆã†ã«å†é…ç½®å¯èƒ½ã§ã¯ç„¡ã„å‹ã‚‚ã‚ã‚Šã¾ã™ã€‚å†é…ç½®ä¸å¯èƒ½ãªå‹ã¨ã¯ã€ãã®å®Ÿè£…ãŒè‡ªèº«ã®ãƒã‚¤ãƒ³ã‚¿ï¼ˆ`this`ï¼‰ã«ä¾å­˜ã‚ã‚‹ã„ã¯ãã®ä¸å¤‰æ€§ã‚’ä»®å®šã—ã¦ã„ã‚‹ã‚ˆã†ãªå‹ã§ã™ã€‚

ã‚³ãƒ”ãƒ¼ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¾ã‚’ãã®æ„å‘³è«–ã¨ç„¡é–¢ä¿‚ã«ã‚³ãƒ”ãƒ¼ã—ã€æ‰€æœ‰æ¨©ã‚’ç§»å‹•ã—ã¾ã›ã‚“ã€‚ãƒ ãƒ¼ãƒ–ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ”ãƒ¼ã«ãŠã„ã¦æ‰€æœ‰æ¨©ã‚’ç§»å‹•ã—ãªãŒã‚‰ã‚³ãƒ”ãƒ¼ã‚’è¡Œã„ã¾ã™ãŒã€ãƒ ãƒ¼ãƒ–å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’ã‚±ã‚¢ã—ã¾ã›ã‚“ï¼ˆç„¡åŠ¹ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æ‰±ã†ï¼‰ã€‚å†é…ç½®ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¾ã®ã‚³ãƒ”ãƒ¼ã‚’è¡Œã†ã¨å…±ã«å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç ´æ£„ã—ã€ãã®æ“ä½œãŒè¤‡åˆã—ã¦ã„ã‚‹ã“ã¨ã§æ‰€æœ‰æ¨©ç§»å‹•ã®å•é¡Œã¨ãƒ ãƒ¼ãƒ–å…ƒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å•é¡Œã‚’å›é¿ã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€`memcpy`ã§æ‰€æœ‰æ¨©ã®ç§»å‹•ã¾ã§è¡Œã†ã“ã¨ãŒã§ãã€å†é…ç½®ã¨ã¯è¨€ã†ãªã‚Œã°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ãƒ¬ãƒãƒ¼ãƒˆã§ã™ã€‚

ã‚ã‚‹å‹ãŒ*trivially relocatable*ã§ã‚ã‚‹ã“ã¨ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒèªè­˜ã™ã‚‹ã“ã¨ã§ã€å†é…ç½®ãŒå¿…è¦ã¨ãªã‚‹å ´åˆã«ãƒ ãƒ¼ãƒ–ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¨ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å®Ÿè¡Œã‚’å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Šã«ã¤ãªãŒã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ãƒ ãƒ¼ãƒ–ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿åŠã³ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãŒè¤‡é›‘ã§ã‚ã‚‹ã»ã©åŠ¹æœãŒã‚ã‚Šã€ã“ã®ææ¡ˆã®å†…å®¹ã‚’clangã«å®Ÿè£…ã—ãŸã¨ã“ã‚`std::vecttor`ã®ä¸€éƒ¨ã®æ“ä½œãªã©ã§3å€ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸ŠãŒé”æˆã•ã‚ŒãŸã¨ã®ã“ã¨ã§ã™ã€‚

ã“ã®ææ¡ˆã§æ¨™æº–ã«è¿½åŠ ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã‚‚ã®ã¯ä»¥ä¸‹ã®ã‚‚ã®ã§ã™

- å†é…ç½®ï¼ˆ*relocation*ï¼‰ã¨ã„ã†æ“ä½œã®å®šç¾©
- `std::relocate(), std::relocate_at()`
    - å†é…ç½®æ“ä½œã‚’è¡Œã†é–¢æ•°
- `uninitialized_relocate(), uninitialized_relocate_n()`
    - æœªåˆæœŸåŒ–é ˜åŸŸã«å¯¾ã™ã‚‹å†é…ç½®æ“ä½œ
- *trivially relocatable*ã®å®šç¾©
- `[[trivially_relocatable]]`å±æ€§
    - å‹ã«ä»˜åŠ ã—ã¦ã€ãã®å‹ãŒ*trivially relocatable*ã§ã‚ã‚‹ã“ã¨ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ä¼ãˆã‚‹
    - `[[trivially_relocatable(expr)]]`ã®ã‚ˆã†ã«ã—ã¦ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ–‡è„ˆã§åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã‚‚å¯èƒ½ï¼ˆ`expr`ã¯`bool`å‹ã®å®šæ•°å¼ï¼‰
- å‹ç‰¹æ€§`std::is_relocatable, std::is_nothrow_relocatable, std::is_trivially_relocatable`
    - å†é…ç½®å¯èƒ½æ€§ã€ãã®`noexcept`/ãƒˆãƒªãƒ“ã‚¢ãƒ«æ€§ã®æ¤œå‡º
- `relocatable`ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
    - å†é…ç½®å¯èƒ½ãªå‹ã®å®šç¾©

å†é…ç½®ã¨åŒç­‰ã®æ“ä½œã¯æ—¢ã«æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ãã“ãã“è¦³æ¸¬ã§ãã€ãã“ã§ã¯UBã‚’å›é¿ã™ã‚‹ãŸã‚ã«è¤‡é›‘ãªå®Ÿè£…ã‚’é¸æŠã—ã¦ã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚’æã­ã¦ã„ã¾ã™ã€‚ã“ã®ææ¡ˆã«ã‚ˆã£ã¦ã€ãã‚Œã‚‰ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ã¯å®Ÿè£…ã®ç°¡ç•¥åŒ–ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹å‘ä¸Šã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚ã¾ãŸã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®Ÿè£…ã«ãŠã„ã¦ã‚‚ã€å®Ÿè£…è€…ã«å†é…ç½®ã‚’æ´»ç”¨ã—ã¦å®Ÿè£…ã‚’æœ€é©åŒ–ã™ã‚‹ã¨ã„ã†é¸æŠè‚¢ã‚’ä¸ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- [Announcing "trivially relocatable](https://quuxplusone.github.io/blog/2018/07/18/announcing-trivially-relocatable/)
- [Object Relocation - facebook/folly](https://github.com/facebook/folly/blob/main/folly/docs/FBVector.md#object-relocation)
- [P1144 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/43)

### [P1222R4 A Standard flat_set](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1222r4.pdf)
### [P1223R5 find_last](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1223r5.pdf)
### [P1642R10 Freestanding Library: Easy [utilities], [ranges], and [iterators]](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1642r10.html)
### [P1673R9 A free function linear algebra interface based on the BLAS](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1673r9.html)
### [P1689R5 Format for describing dependencies of source files](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1689r5.html)
### [P1774R8 Portable assumptions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1774r8.pdf)
### [P1839R5 Accessing object representations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1839r5.pdf)
### [P1967R7 #embed - a simple, scannable preprocessor-based resource acquisition method](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p1967r7.html)
### [P2167R2 Improved Proposed Wording for LWG 2114 (contextually convertible to bool)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2167r2.html)
### [P2278R4 cbegin should always return a constant iterator](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2278r4.html)
### [P2490R3 Zero-overhead exception stacktraces](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2490r3.html)
### [P2502R2 std::generator: Synchronous Coroutine Generator for Ranges](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2502r2.pdf)
### [P2505R3 Monadic Functions for std::expected](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2505r3.html)
### [P2505R4 Monadic Functions for std::expected](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2505r4.html)
### [P2513R3 char8_t Compatibility and Portability Fix](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2513r3.html)
### [P2551R2 Clarify intent of P1841 numeric traits](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2551r2.pdf)
### [P2562R1 constexpr Stable Sorting](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2562r1.pdf)
### [P2570R0 On side effects in contract annotations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2570r0.html)

ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ³¨é‡ˆã«æŒ‡å®šã•ã‚ŒãŸæ¡ä»¶å¼ãŒå‰¯ä½œç”¨ã‚’æŒã¤å ´åˆã«ã©ã†ã™ã‚‹ã‹ã«ã¤ã„ã¦ã€è­°è«–ã‚’ã¾ã¨ã‚ãŸæ–‡æ›¸ã€‚

ã“ã®æ–‡æ›¸ã¯[P2182](https://wg21.link/p2182)ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹MVPã¨å‘¼ã°ã‚Œã‚‹ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®æœ€å°ã‚»ãƒƒãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ³¨é‡ˆã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹æ¡ä»¶å¼ãŒå‰¯ä½œç”¨ã‚’æŒã¤å ´åˆã«æ¨™æº–ã¨ã—ã¦ã©ã†è¦å®šã™ã‚‹ã‹ã®ç¾åœ¨ã®è­°è«–ã‚„æ–¹å‘æ€§ã«ã¤ã„ã¦ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚

ã“ã®æ–‡æ›¸ã§æç¤ºã•ã‚Œã¦ã„ã‚‹å‰¯ä½œç”¨ã«å¯¾ã™ã‚‹é¸æŠè‚¢ã¯ä»¥ä¸‹ã®3ã¤ã§ã™

- æ¡ä»¶å¼ãŒå‰¯ä½œç”¨ã‚’æŒãŸãªã„ã“ã¨ã‚’è¨¼æ˜ã§ããªã„å ´åˆã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨ã™ã‚‹
- Cã®`assert`ãƒã‚¯ãƒ­ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹
    - ä¸€æ–¹ã®ãƒ¢ãƒ¼ãƒ‰ï¼ˆ*Eval and abort*ï¼‰ã§ã¯å‰¯ä½œç”¨ã‚’è©•ä¾¡ã—ã€ä¸€æ–¹ã®ãƒ¢ãƒ¼ãƒ‰ï¼ˆ*No eval*ï¼‰ã§ã¯è©•ä¾¡ã—ãªã„
- *Eval and abort*ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€æ¡ä»¶å¼ã‚’è¤‡æ•°å›è©•ä¾¡ã™ã‚‹ã“ã¨ã‚’è¨±å¯ã™ã‚‹
    - å‰¯ä½œç”¨ã®ä¿¡é ¼æ€§ã‚’ä½ä¸‹ã•ã›ã‚‹

*Eval and abort*ãƒ¢ãƒ¼ãƒ‰ã¯ã€å¥‘ç´„æ¡ä»¶ã‚’è©•ä¾¡ã—ç ´ã‚‰ã‚ŒãŸï¼ˆ`false`ã¨ãªã£ãŸï¼‰å ´åˆã«ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚äº†ã•ã›ã‚‹å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ã§ã€*No eval*ãƒ¢ãƒ¼ãƒ‰ã¯å…¨ã¦ã®å¥‘ç´„æ¡ä»¶ã‚’ç„¡è¦–ã™ã‚‹å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ã§ã™ã€‚å¥‘ç´„é•åãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚„å¥‘ç´„é•åå¾Œã®ç¶šè¡Œãƒ¢ãƒ¼ãƒ‰ã¯ã€C++20ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®éš›ã«ç‚ä¸Šã—ãŸéƒ¨åˆ†ã§ã‚ã‚‹ã®ã§ã€MVPã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

ç¾åœ¨ã®SG21ã®æ–¹å‘æ€§ã¨ã—ã¦ã¯ã€MVPã‚’ã¾ãšæ¨™æº–ã«å°å…¥ã—ã¦ã‹ã‚‰ãã“ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ãã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹ãŸã‚ã€MVPã®éƒ¨åˆ†ï¼ˆã“ã®æ–‡æ›¸ã®ç¯„å›²ã‚‚å«ã‚ã¦ï¼‰ã¯å°†æ¥ã®æ‹¡å¼µã«ã¤ã„ã¦é–‹ã„ã¦ã„ã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€æ¬¡ã®ã‚ˆã†ãªæŒ‡é‡ãŒã‚ã‚Šã¾ã™

- ç‰©è­°ã‚’ã‹ã‚‚ã—ã¦ã„ã‚‹éƒ¨åˆ†ï¼ˆæ©Ÿèƒ½ï¼‰ã«ã¤ã„ã¦ä½•ã‚‰ã‹ã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã¯é¿ã‘ã‚ˆã†ã¨ã—ã¦ã„ã‚‹
    - 2ã¤ã®å¯èƒ½ãªå°†æ¥ã®æ–¹å‘æ€§ãŒã‚ã‚‹å ´åˆã€ã©ã¡ã‚‰ã«å¯¾ã—ã¦ã‚‚ã‚ªãƒ¼ãƒ—ãƒ³ã§ã‚ã‚‹äº‹ã‚’ç›®æŒ‡ã™
- å®šç¾©ã—ãŸããªã„éƒ¨åˆ†ã«ã¤ã„ã¦ã¯ã€UB/IF-NDRã‚ˆã‚Šã‚‚ill-formedã«ã™ã‚‹
    - ãƒ—ãƒ­ã‚°ãƒ©ãƒã«å®Ÿè¡Œæ™‚ã®é©šãã‚’ä¸ãˆã‚‹ã“ã¨ã‚’å›é¿ã—ã€æ§‹æ–‡ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç¯€ç´„ã™ã‚‹
- æœªè¦å®šã‚„å®Ÿè£…å®šç¾©ã¨ã—ã¦æŒ‡å®šã™ã‚‹ã‚ˆã‚Šã‚‚ã€UBã¨ã—ã¦å®šç¾©ã™ã‚‹
    - å°†æ¥çš„ã«ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é–“ã§çµ±ä¸€ã•ã‚ŒãŸã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‚’æä¾›ã—ã€ãã®éƒ¨åˆ†ã‚’ill-formedã«ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠã

ãã—ã¦SG21ã¯ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¯å®‰å…¨æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã‚ã‚‹ã¨ã—ã¦æ©Ÿèƒ½ãã®ã‚‚ã®ã‚‚ã‚ˆã‚Šå®‰å…¨ãªã‚‚ã®ã«ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚ã¨ã¯ã„ãˆã€ã“ã®æ–‡æ›¸ã§æ‰±ã‚ã‚Œã¦ã„ã‚‹å‰¯ä½œç”¨ã‚’ã¯ã˜ã‚ã¨ã—ã¦C++ã®å±é™ºãªå´é¢ã‚’å¤šãå«ã‚“ã§ã„ã‚‹ãŸã‚ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ã¤ã„ã¦ã¯ä»–ã®C++ã®éƒ¨åˆ†ã¨ã¯ç•°ãªã‚‹åŠ¹ç‡æ€§ã¨å®‰å…¨æ€§ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’å–ã‚‰ã–ã‚‹ã‚’å¾—ãªã„éƒ¨åˆ†ãŒã‚ã‚Šã¾ã™ã€‚ãã®å ´åˆã§ã‚‚ã€å¥‘ç´„æ¡ä»¶ã«ã¤ã„ã¦C++ã®ä»–ã®ã¨ã“ã‚ã¨åŒæ§˜ã«æ‰±ã†ã€ãªã©ã®çµ±ä¸€æ€§ã®è¦æ±‚ã‚’é‡è¦–ã—ãªã„æ–¹é‡ã§ã™ã€‚

- [P2182R0 : Contract Support: Defining the Minimum Viable Feature Set - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´6æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/07/05/003248#P2182R0--Contract-Support-Defining-the-Minimum-Viable-Feature-Set)

### [P2572R0 `std::format()` fill character allowances](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2572r0.html)

`std::format`ã«ãŠã„ã¦ã€æ–‡å­—åˆ—ã®ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆï¼ˆå·¦å¯„ã›ã€ä¸­å¤®å¯„ã›ã€å³å¯„ã›ï¼‰ã®éš›ã«ç©ºç™½ã‚’åŸ‹ã‚ã‚‹æ–‡å­—ã¨ã—ã¦ä½¿ç”¨å¯èƒ½ãªæ–‡å­—ã‚’åˆ¶é™ã™ã‚‹ææ¡ˆã€‚

`std::format`ã§ã¯ã€`> < ^`ã¨ãã®å¾Œã«æŒ‡å®šã™ã‚‹æ•´æ•°å€¤ã«ã‚ˆã£ã¦æ–‡å­—åˆ—ã®å¹…ã¨é…ç½®ã‚’èª¿æ•´ã§ãã¾ã™ã€‚

```cpp
#include <format>
#include <iostream>

int main() {
  std::cout << std::format("|{:>6}|\n", 23);  // å³å¯„ã›
  std::cout << std::format("|{:<6}|\n", 23);  // å·¦å¯„ã›
  std::cout << std::format("|{:^6}|\n", 23);  // ä¸­å¤®å¯„ã›
}
```
å‡ºåŠ›ä¾‹
```
|    23|
|23    |
|  23  |
```

ãã®éš›ã€ç©ºç™½ï¼ˆå³å¯„ã›ã®æ™‚ã®å·¦å´ãªã©ï¼‰ã‚’åŸ‹ã‚ã‚‹æ–‡å­—ã¨ã—ã¦ã¯ãƒ›ãƒ¯ã‚¤ãƒˆã‚¹ãƒšãƒ¼ã‚¹ãŒä½¿ç”¨ã•ã‚Œã¾ã™ãŒã€ãã®æ–‡å­—ï¼ˆä»¥é™ã€ã“ã‚Œã‚’ç©´åŸ‹ã‚æ–‡å­—ã¨å‘¼ã³ã¾ã™ï¼‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚å¤‰æ›´ã™ã‚‹ã«ã¯ã€å¯„ã›ã®æŒ‡å®šã®å‰ã«ä½¿ç”¨ã—ãŸã„æ–‡å­—ã‚’æŒ‡å®šã—ã¾ã™ã€‚

```cpp
#include <format>
#include <iostream>

int main() {
  // ç©´åŸ‹ã‚ã¯*ã§è¡Œã†
  std::cout << std::format("|{:*>6}|\n", 23);  // å³å¯„ã›
  std::cout << std::format("|{:*<6}|\n", 23);  // å·¦å¯„ã›
  std::cout << std::format("|{:*^6}|\n", 23);  // ä¸­å¤®å¯„ã›
}
```
```
|****23|
|23****|
|**23**|
```

ã“ã®ç©´åŸ‹ã‚ã«ä½¿ç”¨å¯èƒ½ãªæ–‡å­—ã¨ã—ã¦ã¯`{`ã¨`}`ä»¥å¤–ã®ä»»æ„ã®æ–‡å­—ãŒæŒ‡å®šå¯èƒ½ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

```cpp
#include <format>
#include <iostream>

int main() {
  // ä¾‹ãˆã°çµµæ–‡å­—
  std::cout << std::format("|{:ğŸ¤”>6}|\n", 23);  // å³å¯„ã›
  std::cout << std::format("|{:ğŸ¤”<6}|\n", 23);  // å·¦å¯„ã›
  std::cout << std::format("|{:ğŸ¤”^6}|\n", 23);  // ä¸­å¤®å¯„ã›
}
```
```
|ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”23|
|23ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”|
|ğŸ¤”ğŸ¤”23ğŸ¤”ğŸ¤”|
```

ç¾åœ¨ã®`std::format`ã¯ã€ç‰¹å®šã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¯„å›²ã®æ–‡å­—ã‚’å¹…2ã€ãã‚Œä»¥å¤–ã®æ–‡å­—ã‚’å¹…1ã¨ã—ã¦æ–‡å­—å¹…ã‚’æ¨å®šã—ã¦ã“ã®ã‚ˆã†ãªæ–‡å­—ã®é…ç½®ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ç©´åŸ‹ã‚æ–‡å­—ã«ä¾‹ãˆã°ã‚¼ãƒ­å¹…æ–‡å­—ã‚„è² ã®å¹…ã‚’æŒã¤æ–‡å­—ã€3ä»¥ä¸Šã®å¹…ã‚’æŒã¤æ–‡å­—ï¼ˆã‚¢ãƒ©ãƒ“ã‚¢æ–‡å­—ãªã©ï¼‰ãªã©ã‚’æŒ‡å®šã™ã‚‹ã¨æ­£ã—ãé…ç½®ã§ããªããªã‚Šã¾ã™ã€‚ã¾ãŸã€æ–‡å­—ã®å¹…ã¯æ–‡å­—ç¨®ã ã‘ã§ãªããƒ•ã‚©ãƒ³ãƒˆã«ã‚ˆã£ã¦ã‚‚å¤‰åŒ–ã™ã‚‹ãŸã‚ã€ã“ã‚Œã‚’å³å¯†ã«æ¨å®šã™ã‚‹ã“ã¨ã¯ãŠãã‚‰ãä¸å¯èƒ½ã§ã™ã€‚

ãƒãƒ¼ã‚¿ãƒ–ãƒ«ãªå®Ÿè£…ã®ãŸã‚ã«ã¯ã€`std::format`ã¯ç©´åŸ‹ã‚ã«ä½¿ç”¨å¯èƒ½ãªæ–‡å­—ã‚’åˆ¶é™ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã“ã®æ–‡æ›¸ã¯ãã‚Œã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

åˆ¶é™ã«å½“ãŸã£ã¦ã¯ã¾ãšã€ã©ã®ã‚ˆã†ãªæ–‡å­—ã‚’ä½¿ç”¨å¯èƒ½ã¨ã™ã‚‹ã‹ã‚’æ±ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ææ¡ˆã§ã¯æ¬¡ã®4ã¤ã‚’ä¸Šã’ã¦ã„ã¾ã™

1. ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ‹¡å¼µæ›¸è¨˜ç´ ã‚¯ãƒ©ã‚¹ã‚¿ï¼ˆextended grapheme cluster : EGCï¼‰ã®ä»»æ„ã®æ–‡å­—
2. [UAX15ã§å®šç¾©](https://unicode.org/reports/tr15/#Stream_Safe_Text_Format)ã•ã‚Œã¦ã„ã‚‹ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚»ãƒ¼ãƒ•ãªãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ‹¡å¼µæ›¸è¨˜ç´ ã‚¯ãƒ©ã‚¹ã‚¿ã®ä»»æ„ã®æ–‡å­—
3. ä»»æ„ã®å˜ä¸€ã®UCSã‚¹ã‚«ãƒ©ãƒ¼å€¤
4. å˜ä¸€ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¦ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸã€å˜ä¸€ã®UCSã‚¹ã‚«ãƒ©ãƒ¼å€¤

1ã¤ç›®ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯ã€ä»»æ„é•·ã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹æ–‡å­—ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®å®Ÿè£…ãŒå¿…è¦ã¨ãªã‚Šã€ã“ã‚Œã¯å‹•çš„ãƒ¡ãƒ¢ãƒªç¢ºä¿ï¼ˆç©´åŸ‹ã‚æ–‡å­—ã®ä¿å­˜ã®ãŸã‚ï¼‰ã¨EGCå¢ƒç•Œæ¤œå‡ºã®å®Ÿè£…ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚

2ã¤ç›®ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯ã€1æ–‡å­—ã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆé•·ãŒæœ€å¤§32ã«åˆ¶é™ã•ã‚Œã‚‹ãŸã‚ã€å‹•çš„ãƒ¡ãƒ¢ãƒªç¢ºä¿ã‚’å›é¿ã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œä»¥å¤–ã¯1ã¤ã‚ã¨åŒã˜ã§ã™ã€‚

3ã¤ç›®ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯ã€1ã¤ç›®ã¨2ã¤ç›®ã®ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’ã™ã¹ã¦å›é¿ã—ã€ç©´åŸ‹ã‚æ–‡å­—ã‚’å˜ä¸€ã®`char32_t`ã®å€¤ã«æ ¼ç´ã§ãã¾ã™ã€‚ã¤ã¾ã‚Šã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯ã€1æ–‡å­—ï¼ˆEGCã®ä»»æ„ã®1æ–‡å­—ï¼‰ãŒè¤‡æ•°ã®æ–‡å­—ï¼ˆã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹ã‚ˆã†ãªæ–‡å­—ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚

4ã¤ç›®ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯ã€ç©´åŸ‹ã‚æ–‡å­—ã®ä¿å­˜è¦ä»¶ã‚’å˜ä¸€ã®ã‚³ãƒ¼ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆï¼ˆ`cahr` or `wchar_t`ï¼‰ã«ã¾ã§æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã€ãã‚Œä»¥å¤–ã¯3ã¨åŒæ§˜ã«ãªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€å‰¯ä½œç”¨ã¨ã—ã¦è¨±å®¹ã•ã‚Œã‚‹ç©´åŸ‹ã‚æ–‡å­—ãŒã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦å¤‰åŒ–ã—ã¾ã™ï¼ˆä¾‹ãˆã°ã‚µãƒ­ã‚²ãƒ¼ãƒˆãºã‚¢ï¼‰ã€‚

æ¬¡ã«ã€ç©´åŸ‹ã‚æ–‡å­—ã«åˆ¶é™ç¯„å›²å¤–ã®æ–‡å­—ãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã®æŒ¯ã‚‹èˆã„ã‚’æ±ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ææ¡ˆã§ã¯

1. ç©´åŸ‹ã‚æ–‡å­—ã®å¹…ã‚’1ã¨ã—ã¦æ‰±ã£ã¦ç©´åŸ‹ã‚ã™ã‚‹
2. æŒ‡å®šã•ã‚ŒãŸå¹…ã‚’æº€ãŸã™ã‹ã¨è¶…ãˆã‚‹ã¾ã§ã€ç©´åŸ‹ã‚ã™ã‚‹ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒ«ï¼‰
3. æŒ‡å®šã•ã‚ŒãŸå¹…ã‚’è¶…ãˆãªã„ã‚ˆã†ã«ã€ç©´åŸ‹ã‚ã™ã‚‹ï¼ˆã‚¢ãƒ³ãƒ€ãƒ¼ãƒ•ã‚£ãƒ«ï¼‰
4. åˆ¥ã®ç©´åŸ‹ã‚æ–‡å­—ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹
     - æŒ‡å®šã•ã‚ŒãŸç©´åŸ‹ã‚æ–‡å­—ã‚’ä½¿ç”¨ã™ã‚‹ã¨æŒ‡å®šã•ã‚ŒãŸå¹…ã‚’è¶…ãˆã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹å ´åˆã«ã€åˆ¥ã®ç©´åŸ‹ã‚æ–‡å­—ã‚’ä½¿ç”¨ã™ã‚‹
5. æœªå®šç¾©ã€æœªè¦å®šã€å®Ÿè£…å®šç¾©
6. ã‚¨ãƒ©ãƒ¼
         - `format_error`ä¾‹å¤–ã‚’æŠ•ã’ã‚‹
7. æŒ‡å®šã•ã‚ŒãŸå¹…ã§é…ç½®ã§ããªã„å ´åˆã«ã®ã¿ã€ã‚¨ãƒ©ãƒ¼
         - `format_error`ä¾‹å¤–ã‚’æŠ•ã’ã‚‹

æ¬¡ã®è¡¨ã¯ã€ã“ã‚Œã‚‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã€`std::format(">{:ğŸ¤¡^4}<\n", 'X')`ãŒã©ã†ãªã‚‹ã‹ã‚’ç¤ºã—ãŸã‚‚ã®ã§ã™

|ã‚ªãƒ—ã‚·ãƒ§ãƒ³|çµæœ|
|---|---|
|å‚ç…§é…ç½®ï¼ˆ`-`ã‚’ä½¿ç”¨ï¼‰|`>-X--<`|
|æ–‡å­—å¹…1ã¨ã™ã‚‹|`>ğŸ¤¡XğŸ¤¡ğŸ¤¡<`|
|ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒ«|`>ğŸ¤¡XğŸ¤¡<`|
|ã‚¢ãƒ³ãƒ€ãƒ¼ãƒ•ã‚£ãƒ«|`>XğŸ¤¡<`|
|ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆãƒ›ãƒ¯ã‚¤ãƒˆã‚¹ãƒšãƒ¼ã‚¹ï¼‰|`> XğŸ¤¡<`|
|æœªå®šç¾©|???|
|ã‚¨ãƒ©ãƒ¼|N/A|

ã“ã‚Œã‚‰ã®ã“ã¨ã¨ã€æ—¢å­˜å®Ÿè£…ï¼ˆclang/gcc+{fmt}/MSVCï¼‰ã®æŒ¯ã‚‹èˆã„ã‚’å‚ç…§ã—ãŸã†ãˆã§ã€ã“ã®ææ¡ˆã§ã¯ã“ã®å•é¡Œã‚’æ¬¡ã®ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™

1. ç©´åŸ‹ã‚æ–‡å­—ã¯ã€å˜ä¸€ã®UCSã‚¹ã‚«ãƒ©ãƒ¼å€¤ã«åˆ¶é™ã™ã‚‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³3ï¼‰
      - åˆ¶é™ç¯„å›²å¤–ã®å€¤ãŒæŒ‡å®šã•ã‚ŒãŸå ´åˆã¯ã‚¨ãƒ©ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³6ï¼‰
      - ä»»æ„ã®EGCæ–‡å­—ã‚’ã‚µãƒãƒ¼ãƒˆã—ãŸããªã£ãŸå ´åˆã€ABIç ´å£ŠãŒç”Ÿã˜ã‚‹
2. ç©´åŸ‹ã‚æ–‡å­—ã®æ¨å®šå¹…ã¯ã€å¸¸ã«1ã¨ã™ã‚‹
      - æ—¢å­˜å®Ÿè£…ãŒå…¨ã¦ãã†ãªã£ã¦ã„ãŸãŸã‚
3. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¼•æ•°ï¼ˆnotç©´åŸ‹ã‚æ–‡å­—ï¼‰ã®å¹…ãŒãã‚‚ãã‚‚æŒ‡å®šå¹…ã‚’è¶…ãˆã‚‹å ´åˆã€ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã®æŒ‡å®šã¯ç„¡è¦–ã•ã‚Œã‚‹ã“ã¨ã‚’æ˜ç¢ºåŒ–
4. æŒ‡å®šã•ã‚ŒãŸã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã‚’é”æˆã™ã‚‹ãŸã‚ã«ã€ç©´åŸ‹ã‚æ–‡å­—ãŒã©ã®ã‚ˆã†ã«æŒ¿å…¥ã•ã‚Œã‚‹ã‹ã‚’æ˜ç¢ºåŒ–

ã“ã‚Œã¯ã€{fmt}ãŠã‚ˆã³MSVCã®å®Ÿè£…ã‚’æ¨™æº–åŒ–ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã¾ãŸã€ã“ã®ã‚¨ãƒ©ãƒ¼ã¯`std::format`ã®å ´åˆã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚

- [LWG Issue 3576. Clarifying fill character in `std::format`](https://cplusplus.github.io/LWG/issue3576)
- [LWG Issue 3639. Handling of fill character width is underspecified in `std::format`](https://cplusplus.github.io/LWG/issue3639)
- [ Unicodeã®grapheme cluster (æ›¸è¨˜ç´ ã‚¯ãƒ©ã‚¹ã‚¿) - hydroculã®ãƒ¡ãƒ¢](https://hydrocul.github.io/wiki/blog/2015/1025-unicode-grapheme-clusters.html)
- [UAX #15 : UNICODE NORMALIZATION FORMS](https://unicode.org/reports/tr15)
    - [Stream-Safe Text Format](https://unicode.org/reports/tr15/#Stream_Safe_Text_Format)
- [P2572 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1260)

### [P2575R0 2022-05 Library Evolution Poll Outcomes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2575r0.html)

2022å¹´ã®5æœˆã«è¡Œã‚ã‚ŒãŸã€LEWGã§ã®å…¨ä½“æŠ•ç¥¨ã®çµæœã€‚

æŠ•ç¥¨ã®å¯¾è±¡ã¨ãªã£ãŸææ¡ˆã¯ä»¥ä¸‹ã®ã‚‚ã®ã§ã€æŠ•ç¥¨ã«å½“ãŸã£ã¦å¯„ã›ã‚‰ã‚ŒãŸè³›å¦ã®ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P1885R10 Naming Text Encodings to Demystify Them](https://wg21.link/P1885R10)
- [P0792R8 function_ref](https://wg21.link/P0792R8)
- [P1223R3 find_last](https://wg21.link/P1223R3)
- [P1169R3 Static operator()](https://wg21.link/P1169R3)
- [P2553R1 Make mdspan size_type Controllable](https://wg21.link/P2553R1)
- [P2554R0 C-Array Interoperability Of mdspan](https://wg21.link/P2554R0)
- [P2540R0 Empty Product For Certain Views](https://wg21.link/P2540R0)
- [P2538R0 ADL-Proof projected](https://wg21.link/P2538R0)
- [P2520R0 move_iterator Should Be A Random Access Iterator](https://wg21.link/P2520R0)
- [P2499R0 string_view Range Constructor Should Be Explicit](https://wg21.link/P2499R0)
- [P2549R0 unexpected Should Have error As Member Accessor](https://wg21.link/P2549R0)
- [P2517R0 Add A Conditional noexcept Specification To apply](https://wg21.link/P2517R0)
- [P2300R5 std::execution](https://wg21.link/P2300R5)
    - C++26å‘ã‘
- [P1083R5 resource_adaptor](https://wg21.link/P1083R5)
    - C++26å‘ã‘
- [P1202R4 Asymmetric Fences](https://wg21.link/P1202R4)
    - Concurency TS v2å‘ã‘

çµæœçš„ã«ã€P1083R5ä»¥å¤–ã¯LWGã«è»¢é€ã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚

### [P2582R1 Wording for class template argument deduction from inherited constructors](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2582r1.pdf)
### [P2590R1 Explicit lifetime management](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2590r1.pdf)
### [P2591R1 Concatenation of strings and string views](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2591r1.html)
### [P2594R0 Slides: Allow programmer to control and detect coroutine elision (P2477R2 Presentation))](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2594r0.pdf)

P2477ã®è§£èª¬ã‚¹ãƒ©ã‚¤ãƒ‰

P2477ã«é–¢ã—ã¦ã¯ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§ã€‚

- [P2477R0 Allow programmer to control and detect coroutine elision by static constexpr bool should_elide() and - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/11/13/193322#P2477R0-Allow-programmer-to-control-and-detect-coroutine-elision-by-static-constexpr-bool-should_elide-and)
- [P2477R2 Allow programmer to control and detect coroutine elision - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/12/11/220126#P2477R2-Allow-programmer-to-control-and-detect-coroutine-elision)


ã“ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã¯ã€P2477ã®å†…å®¹ã‚’LEWGã®ãƒ¡ãƒ³ãƒã«ãƒ—ãƒ¬ã‚¼ãƒ³ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã€P2477ã®å‹•æ©Ÿã‚„ç›®çš„ã€ç¾çŠ¶åˆ†ã‹ã£ã¦ã„ã‚‹æ‡¸å¿µäº‹é …ãªã©ãŒã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

### [P2596R0 Improve `std::hive::reshape`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2596r0.html)

`std::hive`ã®å®¹é‡ãƒ¢ãƒ‡ãƒ«ã‚’å˜ç´”åŒ–ã™ã‚‹ææ¡ˆã€‚

`std::hive`ï¼ˆå…ƒ`std::colony`ï¼‰ã¯å¯å¤‰ã‚µã‚¤ã‚ºãƒ–ãƒ­ãƒƒã‚¯ã®é€£çµãƒªã‚¹ãƒˆã§ã™ã€‚è¦ç´ ã¯ãƒ–ãƒ­ãƒƒã‚¯å†…ã®ç©ºãã‚¹ãƒšãƒ¼ã‚¹ã«æŒ¿å…¥ã•ã‚Œã€è¦ç´ ã‚’å‰Šé™¤ã—ã¦ã‚‚ãƒ–ãƒ­ãƒƒã‚¯ã¯è§£æ”¾ã•ã‚Œãšãã®ã‚¹ãƒšãƒ¼ã‚¹ã¯å†åˆ©ç”¨ã•ã‚Œã¾ã™ã€‚ãƒ–ãƒ­ãƒƒã‚¯å†…ã«ç©ºãã‚¹ãƒšãƒ¼ã‚¹ãŒãªããªã‚‹ã¨æ–°ã—ã„ãƒ–ãƒ­ãƒƒã‚¯ã‚’ç¢ºä¿ã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚ã“ã®ãƒ–ãƒ­ãƒƒã‚¯ã¨ã„ã†ã®ã¯1ã¤ã®é…åˆ—ã®ã‚ˆã†ãªã‚‚ã®ã§ã€ãã®ã‚µã‚¤ã‚ºã¯å›ºå®šé•·ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒä¸€åº¦ç¢ºä¿ã•ã‚ŒãŸå¾Œã«ã‚µã‚¤ã‚ºãŒå¤‰æ›´ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã®æ€§è³ªã«ã‚ˆã£ã¦ã€`std::hive`ã¯ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ã‚’å¢—å¤§ã•ã›ãŸæ™‚ã§ã‚‚æ—¢å­˜è¦ç´ ã®ãƒ¡ãƒ¢ãƒªä½ç½®ã¯å®‰å®šã—ã¦ãŠã‚Šã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãŒç„¡åŠ¹ã«ãªã£ãŸã‚Šã—ã¾ã›ã‚“ã€‚

ç¾åœ¨ã®`std::hive`ã§ã¯ã€`std::hive_limits`ã¨ã„ã†ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ ä½“ã«ã‚ˆã£ã¦`std::hive`ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã®ä¸‹é™ã¨ä¸Šé™ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```cpp
// ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã‚’[4, 5]ã§æŒ‡å®šã—ã¦æ§‹ç¯‰
std::hive<int> h({1,2,3,4,5,6}, std::hive_limits(4, 5));
               // [1 2 3 4 5] [6 _ _ _]
h.reserve(10); // [1 2 3 4 5] [6 _ _ _] [_ _ _ _]
```

ã“ã“ã®ã‚³ãƒ¡ãƒ³ãƒˆã®`[...]`ã¯`std::hive`ã®ãƒ–ãƒ­ãƒƒã‚¯ã¨è¦ç´ ãŒã©ã†ãªã£ã¦ã„ã‚‹ã‹ã‚’è¡¨ã—ãŸã‚‚ã®ã§ã€`_`ã¯æœªä½¿ç”¨é ˜åŸŸã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚

ã•ã‚‰ã«ã€ã“ã®ã‚ˆã†ã«æ§‹ç¯‰ã—ãŸå¾Œã§`std::hive_limits`ã«ã‚ˆã£ã¦ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã‚’èª¿æ•´ï¼ˆ*reshape*ï¼‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™

```cpp
// ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã‚’[4, 5]ã§æŒ‡å®šã—ã¦æ§‹ç¯‰
std::hive<int> h({1,2,3,4,5,6}, std::hive_limits(4, 5));
               // [1 2 3 4 5] [6 _ _ _]
h.reserve(10); // [1 2 3 4 5] [6 _ _ _] [_ _ _ _]

// ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã‚’[3, 4]ã¸èª¿æ•´
h.reshape(std::hive_limits(3, 4));
               // [6 1 2 3] [4 5 _ _]
```

ã“ã®æ™‚ã€æœ€åˆã«æŒ‡å®šã—ãŸãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºãŒ`.reshape()`å¾Œã«ä¸æ­£ï¼ˆæŒ‡å®šã•ã‚ŒãŸæœ€å°å€¤ã¨æœ€å¤§å€¤ã®ç¯„å›²å¤–ï¼‰ã«ãªã‚‹å ´åˆã€ãƒ–ãƒ­ãƒƒã‚¯ã¯ç¢ºä¿ã—ãªãŠã•ã‚Œè¦ç´ ã®å†é…ç½®ãŒè¡Œã‚ã‚Œã¾ã™ã€‚ã¾ãŸã€`.reserve()`ã—ãŸé ˜åŸŸã‚‚è§£æ”¾ã•ã‚Œã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ãŸã‚ã€é€šå¸¸ã¯`.reshape()`ã—ã¦ã‹ã‚‰`.reserve()`ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã€‚

ã“ã®`std::hive`ã®å®¹é‡ãƒ¢ãƒ‡ãƒ«ã«é–¢ã—ã¦ã€æ¬¡ã®ã‚ˆã†ãªå•é¡ŒãŒã‚ã‚Šã¾ã™

- ãƒ–ãƒ­ãƒƒã‚¯æœ€å¤§ã‚µã‚¤ã‚ºã¯å®Ÿéš›ã«ã¯æœ‰ç”¨ã§ã¯ãªã„
    - æœ€å°ã‚’æ°—ã«ã™ã‚‹ã“ã¨ã¯å¤šã„ãŒã€æœ€å¤§ã¯æ°—ã«ã—ãªã„
    - çµ„ã¿è¾¼ã¿ç’°å¢ƒãªã©ã§æœ€å¤§å®¹é‡ã‚’åˆ¶é™ã—ãŸã„å ´åˆã§ã‚‚ã€`std::hive_limits`ã®æŒ‡å®šã¯è¦ç´ æ•°ã§ã‚ã£ã¦ãƒã‚¤ãƒˆæ•°ã§ã¯ãªã„
        - ã¾ãŸã€ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã‚’`n`ã¨ã—ãŸæ™‚ã€1ã¤ã®ãƒ–ãƒ­ãƒƒã‚¯ã®ãŸã‚ã«ç¢ºä¿ã™ã‚‹å®¹é‡ã¯`n * sizeof(T)`ã‚ˆã‚Šã‚‚å¤šããªã‚‹ã€‚ãã®ãŸã‚ã€æœ€å¤§å®¹é‡ã®åˆ¶é™ã«ã¯é©ã›ãªã„
- æœ€å¤§ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã¯`O(n)`å‹•ä½œã®åŸå› ã¨ãªã‚‹
    - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ–ãƒ­ãƒƒã‚¯ã¯å…ˆé ­ã‹ã‚‰é †ã«ãƒŠãƒ³ãƒãƒªãƒ³ã‚°ã•ã‚Œã¦ãŠã‚Šã€å‰Šé™¤ã‚„è¿½åŠ ã®éš›ã«ã¯ç•ªå·ã‚’ä»˜ã‘ç›´ã™å¿…è¦ãŒã‚ã‚‹ã€‚ã“ã‚Œã«ï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ–ãƒ­ãƒƒã‚¯æ•°ã‚’`n`ã¨ã—ã¦ï¼‰`O(n)`ã®æ™‚é–“ãŒã‹ã‹ã‚‹
    - ãã®ã‚ˆã†ãªæ“ä½œãŒãƒ«ãƒ¼ãƒ—å†…ã§è¡Œã‚ã‚Œã‚‹ã¨ã€ç›®ã«è¦‹ãˆãªã„`O(n^2)`ã®è¨ˆç®—é‡ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ã«ãªã‚‹
- ãƒ ãƒ¼ãƒ–æ™‚ã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã¯ã€ã»ã¼é–“é•ã„ãªãç›´æ„Ÿçš„ã§ã¯ãªã„
    - `std::hive_limits`ã«ã‚ˆã‚‹ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºåˆ¶é™ã¯ãƒ ãƒ¼ãƒ–ã‚„ã‚³ãƒ”ãƒ¼ã«ã‚ˆã£ã¦ä¼æ’­ã™ã‚‹
    - ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºåˆ¶é™ã¯`std::hive`ã®å€¤ã®ä¸€éƒ¨ã§ã¯ãªã„ã¯ãš
- `.splice()`ãŒ`O(n)`ã¨ãªã‚Šã€ä¾‹å¤–ã‚’æŠ•ã’ã†ã‚‹
    - `h.splice(h2)`ã§ã¯`h`ã®åˆ¶é™ãŒå¤‰æ›´ã•ã‚Œãªã„ãŒã€`h2`ã«`h`ã®æœ€å¤§ã‚µã‚¤ã‚ºã‚ˆã‚Šã‚‚å¤§ããªãƒ–ãƒ­ãƒƒã‚¯ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã«å¤±æ•—ã—ä¾‹å¤–ã‚’æŠ•ã’ã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹
- `std::hive_limits`ã‚’å—ã‘å–ã‚‹ãŸã‚ã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®æ•°ã‚’å¢—å¤§ã•ã›ã¦ã„ã‚‹
    - ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã¨`std::hive_limits`ã‚’å—ã‘å–ã‚‹å—ã‘å–ã‚‰ãªã„ã«ã‚ˆã£ã¦ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®æ•°ãŒ4å€ã«ãªã‚‹
    - ç¾åœ¨ã®ææ¡ˆã§ã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯18å€‹ã‚ã‚Šã€ã“ã®ææ¡ˆã«ã‚ˆã£ã¦7å€‹æ¸›ã‚‰ã›ã‚‹
- `std::hive_limits`ã¯ä¸å¿…è¦ãªæœªå®šç¾©å‹•ä½œã‚’å°å…¥ã™ã‚‹
    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã£ã¦æŒ‡å®šã•ã‚ŒãŸåˆ¶é™ãŒã€å®Ÿè£…å®šç¾©ã®ãƒãƒ¼ãƒ‰ãƒªãƒŸãƒƒãƒˆã®ç¯„å›²å¤–ã«ã‚ã‚‹å ´åˆã¯æœªå®šç¾©å‹•ä½œã¨ã•ã‚Œã‚‹
    - ã“ã®ãƒãƒ¼ãƒ‰ãƒªãƒŸãƒƒãƒˆã¯é€šå¸¸ãã‚Œã»ã©å¤§ããªå€¤ã§ã¯ãªã„ãŸã‚ï¼ˆå‚ç…§å®Ÿè£…ã§ã¯255ï¼‰ã€ç”¨æ„ã«UBã‚’è¸ã¿ã†ã‚‹
    - ã¾ãŸã€`std::hive_limits`ã‚’å—ã‘å–ã‚‹APIã¯ã“ã‚Œã«è§¦ã‚Œã‚‹å ´åˆã«ä½•ãŒèµ·ã“ã‚‹ã‹ï¼ˆã‚ã‚‹ã„ã¯èµ·ã“ã‚‰ãªã„ã®ã‹ï¼‰ã‚’è¦å®šã—ãªã‘ã‚Œã°ãªã‚‰ãšã€ä»•æ§˜ã‚’è‚¥å¤§åŒ–ã•ã›ã‚‹

ã“ã®ææ¡ˆã¯ã€ã“ã‚Œã‚‰ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€`std::hive`ã‹ã‚‰ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºæŒ‡å®šã‚’å–ã‚Šé™¤ã„ã¦ã€åˆ¥ã®å®¹é‡ç®¡ç†ãƒ¢ãƒ‡ãƒ«ã‚’å°å…¥ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€`std::hive_limits`ã‚’ç„¡ãã—ã¦ã€ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºæŒ‡å®šãŒä¸€æ™‚çš„ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ãªã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã€`std::vector`ã‚„`std::deque`ã«ãŠã„ã¦ãã®ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ãŒä¸€æ™‚çš„ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã‚ã‚‹ã“ã¨ã¨åŒæ§˜ã§ã™ã€‚ä»–ã«ã€ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ã‚„ã‚½ãƒ¼ãƒˆã®æœ‰ç„¡ãŒ`std::hive`ã®ä¸€æ™‚çš„ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«è©²å½“ã—ã¦ã„ã¾ã™ã€‚

```cpp
std::hive<int> h = {1,2,3};
h.erase(h.begin());  // [_ 2 3]
h.sort();            // [_ 2 3]

// ã‚½ãƒ¼ãƒˆçŠ¶æ…‹ã¯ãã®å¾Œã®æ“ä½œã§ç¶­æŒã•ã‚Œãªã„
h.insert(4);         // [4 2 3], no longer sorted

h.reshape(4, 8);     // [4 2 3 _] [_ _ _ _]

// ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºåˆ¶é™ã¯ä¸€æ™‚çš„ï¼ˆã‚³ãƒ”ãƒ¼ã‚„ãƒ ãƒ¼ãƒ–ã§æ¨ç§»ã—ãªã„ï¼‰
auto h2 = h;         // [4 2 3], no longer capacious
```

ãã—ã¦ã€`.reshape()`ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯`bool reshape(size_t min, size_t n = 0)`ã®ã‚ˆã†ã«å¤‰æ›´ã•ã‚Œã¾ã™ã€‚`min`ã¯ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã®ä¸‹é™ã§ã‚ã‚Šã€`n`ã¯ã“ã®æ“ä½œã®å¾Œã§ãƒ¡ãƒ¢ãƒªã‚’ç¢ºä¿ã™ã‚‹ã“ã¨ãªãæŒ¿å…¥å¯èƒ½ãªæœ€ä½è¦ç´ æ•°ã§ã™ã€‚æˆ»ã‚Šå€¤ã¯ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãŒç„¡åŠ¹åŒ–ã•ã‚ŒãŸã‹å¦ã‹ã‚’ä¼ãˆã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

ã“ã®å¤‰æ›´ã«ã‚ˆã£ã¦ã€`std::hive`ã®æœ€å¤§ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚ºã®æŒ‡å®šã¯ç„¡ããªã‚Šã€å®Ÿè£…ãŒè¦ç´ ã®éš£æ¥æ€§ã‚’é«˜ã‚ã‚ˆã†ã¨ã™ã‚‹å ´åˆã«ãã‚Œã‚’åˆ¶é™ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ãŒã€éš ã‚ŒãŸ`O(n)`è¨ˆç®—é‡ã®å•é¡Œã‚’å›é¿ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- [P0447R11 Introduction of std::colony to the standard library - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2020å¹´11æœˆï¼‰](https://onihusube.hatenablog.com/entry/2020/12/06/015108#P0447R11-Introduction-of-stdcolony-to-the-standard-library)
- [P2596 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1256)

### [P2598R0 â€œChanging scope for lambda trailing-return-typeâ€ (P2036) should not be a DR](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2598r0.html)

[P2036](https://wg21.link/p2036)ã®å¤‰æ›´ã‚’DRã¨ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

P2036ã«ã¤ã„ã¦ã¯ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2036R1 Changing scope for lambda trailing-return-type - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2021å¹´1æœˆï¼‰](https://onihusube.hatenablog.com/entry/2021/02/11/153333#P2036R1-Changing-scope-for-lambda-trailing-return-type)

P2036ã®å†…å®¹ã¯æ¤œè¨æ®µéšã§ã¯å•é¡Œãªã„ã¨æ€ã‚ã‚Œã¦ã„ã¾ã—ãŸãŒã€å®Ÿéš›ã«clangã«ãŠã„ã¦å®Ÿè£…ã•ã‚ŒãŸã¨ã“ã‚æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å£Šã™ã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚ãã®å ±å‘Šã¨ã¨ã‚‚ã«ãã®ç·©å’Œç­–ã‚‚ææ¡ˆï¼ˆ[P2579](https://isocpp.org/files/papers/D2579R0.pdf)ï¼‰ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã¾ã æ¡æŠã•ã‚Œã¦ãŠã‚‰ãšã€é©ç”¨ã•ã‚ŒãŸã¨ã—ã¦ã‚‚æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ç ´å£Šã™ã‚‹å¯èƒ½æ€§ãŒã¾ã æ®‹ã£ã¦ã„ã¾ã™ã€‚

ãã‚Œã‚‰ã®å¤‰æ›´ã‚’DRã¨ã—ãŸå ´åˆã€å®Ÿè£…ã•ã‚ŒãŸã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã¯ç ´å£Šçš„å¤‰æ›´ãŒé™ã‹ã«å…¨ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆC++11ä»¥é™ï¼‰ã«å¯¾ã—ã¦é©ç”¨ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã‚ã‚‹ã„ã¯ã€å®Ÿè£…ã¯DRã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã¨ã—ãŸã‚Šå®Ÿè£…ã—ãªã„ã“ã¨ã‚’é¸æŠã™ã‚‹ã‹ã‚‚ã—ã‚Œãšã€ãã®å ´åˆã“ã®å¤‰æ›´ã¯C++ã‚³ãƒ¼ãƒ‰ã®ãƒãƒ¼ã‚¿ãƒ“ãƒªãƒ†ã‚£ã‚’æã­ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã§ã¯ã€ç ´å£Šçš„å¤‰æ›´ã‚’å›é¿ã—ãŸã„äººã‚‚æœ€æ–°ã®C++ã®å¤‰æ›´ã‚’ç©æ¥µåˆ©ç”¨ã—ãŸã„äººã®ã©ã¡ã‚‰ã‚‚å¹¸ã›ã«ãªã‚Šã¾ã›ã‚“ã€‚

ãã‚‚ãã‚‚ã€ã“ã®ã‚ˆã†ãªé™ã‹ãªæ„å‘³ã®å¤‰æ›´ã‚’è¡Œã†ã®ã¯è‰¯ã„ã“ã¨ã§ã¯ãªãã€ãã‚Œã‚’é¡åŠçš„ã«è¡Œã†ã‹ã‚‚ã—ã‚Œãªã„ã—ãã†ã§ãªã„ã‹ã‚‚ã—ã‚Œãªã„ã€ã¨ã™ã‚‹ã®ã¯ã•ã‚‰ã«æ‚ªã„ã“ã¨ã§ã™ã€‚ã“ã®å¤‰æ›´ã«ã¤ã„ã¦çŸ¥ã‚‰ãªã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ã‚ã‚‹æ—¥çªç„¶æœ‰åŠ¹ã ã¨æ€ã£ã¦ã„ãŸã‚³ãƒ¼ãƒ‰ãŒå£Šã‚Œã¦ã„ã‚‹ã“ã¨ã«æ°—ã¥ãã€ä¿®æ­£ã™ã‚‹å¿…è¦æ€§ã«è¿«ã‚‰ã‚Œã¾ã™ã€‚DRã¨ã—ãªã„ã“ã¨ã§ï¼ˆC++23ã®ç ´å£Šçš„å¤‰æ›´ã¨ã™ã‚‹ã“ã¨ã§ï¼‰ã€å°‘ãªãã¨ã‚‚å•é¡Œã®å›é¿ã®ãŸã‚ã«è¨€èªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ãªã„ã¨ã„ã†é¸æŠè‚¢ãŒä¸ãˆã‚‰ã‚Œã¾ã™ã€‚DRã®å ´åˆã¯ãã®ã‚ˆã†ãªé¸æŠè‚¢ã¯ãªãã€ã™ãã«è¡Œå‹•ã‚’èµ·ã“ã•ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

ã“ã‚Œã‚‰ã®ç†ç”±ã«ã‚ˆã‚Šã“ã®ææ¡ˆã§ã¯ã€P2036ï¼ˆã¨é–¢é€£ã™ã‚‹å¤‰æ›´ï¼‰ã‚’DRã¨ã›ãšã«C++23ä»¥é™ã®ç ´å£Šçš„å¤‰æ›´ã¨ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

- [P2579 Mitigation strategies for P2036 â€Changing scope for lambda trailing-return-typeâ€](https://isocpp.org/files/papers/D2579R0.pdf)
- [P2598 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1263)

### [P2599R0 `mdspan::size_type` should be `index_type`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2599r0.pdf)

â†“

### [P2599R1 `mdspan::size_type` should be `index_type`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2599r1.pdf)

â†“

### [P2599R2 `index_type` & `size_type` in `mdspan`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2599r2.pdf)

`std::mdspan`ã®ãƒ¡ãƒ³ãƒå‹`size_type`ã‚’`index_type`ã«å¤‰æ›´ã™ã‚‹ææ¡ˆã€‚

æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚³ãƒ³ãƒ†ãƒŠç­‰ã®`size_type`ã¯é€šå¸¸ç¬¦å·ãªã—æ•´æ•°å‹ï¼ˆ`std::size_t`ï¼‰ãŒä½¿ç”¨ã•ã‚Œã€ãã‚ŒãŒã»ã¼ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã«ãªã£ã¦ã„ã¾ã™ã€‚å½“åˆã®`std::mdspan`ã®`size_type`ã¯`std::size_t`ã§å›ºå®šã§ã‚ã£ãŸãŸã‚å•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€[P2553](https://wg21.link/p2553)ï¼ˆæœªæ¡æŠï¼‰ã«ã‚ˆã£ã¦`size_type`ã‚’åˆ¶å¾¡å¯èƒ½ã¨ã™ã‚‹ã¨ã¨ã‚‚ã«ä»»æ„ã®æ•´æ•°å‹ã‚’ä½¿ç”¨å¯èƒ½ã¨ãªã‚‹ã‚ˆã†ã«ãªã‚‹ã¨åå‰ã¨å®Ÿæ…‹ãŒæ—¢å­˜ã®æ…£è¡Œã¨ä¸€è‡´ã—ãªããªã‚Šã¾ã™ã€‚

ã“ã®ææ¡ˆã¯ã€ã“ã®ã‚ˆã†ãªç†ç”±ã‹ã‚‰`std::mdspan`ï¼ˆã¨`std::extents`ï¼‰ã®`size_type`ã®åå‰ã‚’`index_type`ã«å¤‰æ›´ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã•ã‚‰ã«ãã®ä¸Šã§ã€`std::mdspan::size_type`ã‚’`make_unsigned_t<index_type>`ã§å†å®šç¾©ã—ã€`std::mdspan::size()`ã¯ãã®å‹ã®å€¤ã‚’è¿”ã™ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã‚‚ææ¡ˆã—ã¦ã„ã¾ã™ï¼ˆã“ã‚Œã¯LEWGã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚ˆã†ã§ã™ï¼‰ã€‚

- [P2553R0 Make mdspan `size_type` controllable - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P2553R0-Make-mdspan-size_type-controllable)
- [P2553R1 Make mdspan `size_type` controllable - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/04/02/175835#P2553R1-Make-mdspan-size_type-controllable)
- [P2599 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1255)

### [P2600R0 A minimal ADL restriction to avoid ill-formed template instantiation](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2600r0.pdf)
### [P2601R0 To make redundant empty angle brackets optional for class template argument lists](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2601r0.html)
### [P2602R0 Poison Pills are Too Toxic](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2602r0.html)
### [P2603R0 member function pointer to function pointer](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2603r0.html)
### [P2604R0 MDSPAN: rename pointer and contiguous](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2604r0.html)
### [P2605R0 SG16: Unicode meeting summaries 2022-01-12 through 2022-06-08](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2605r0.html)
### [P2607R0 Let alignas specify minimum alignment](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2607r0.html)
### [P2608R0 Allow multiple init-statements](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2608r0.html)
### [P2609R0 Relaxing Ranges Just A Smidge](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2609r0.html)
### [P2613R0 Add the missing `empty` to `mdspan`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2613r0.html)