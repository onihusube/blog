# ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´09æœˆï¼‰

æ–‡æ›¸ã®ä¸€è¦§

- [JTC1/SC22/WG21 - Papers 2024 mailing2024-09](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/#mailing2024-09)

å…¨éƒ¨ã§51æœ¬ã‚ã‚Šã¾ã™ã€‚

ã‚‚ãã˜

[:contents]

### [N4990 Business Plan and Convener's Report](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/n4990.pdf)

ãƒ“ã‚¸ãƒã‚¹ãƒ¦ãƒ¼ã‚¶å‘ã‘ã®C++ãŠã‚ˆã³WG21ã®ç¾çŠ¶å ±å‘Šæ›¸ã€‚

### [P0472R2 Put `std::monostate` in `<utility>`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p0472r2.pdf)

`std::monostate`ã‚’`<utility>`ã‹ã‚‰ã‚‚åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [0472R1 Put `std::monostate` in `<utility>` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/01/13/204945#P0472R1-Put-stdmonostate-in-utility)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯ã€`std::nullptr_t`ã‚’ãã®ä»£æ›¿ã¨ã—ã¦ä½¿ç”¨ã—ãªã„ç†ç”±ã®èª¬æ˜ã¨ã€ææ¡ˆã™ã‚‹æ–‡è¨€ã®æ›¸ãç›´ã—ãªã©ã§ã™ã€‚

`std::nullptr_t`ã‚’ãã®ç”¨é€”ã«ä½¿ã‚ãªã„ç†ç”±ã¨ã—ã¦ã€`std::monostate`ã®æ–¹ãŒèª¤ç”¨ãŒå°‘ãªã„ã‹ã‚‰ã¨èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚`std::nullptr_t`ã¯ä»»æ„ã®ãƒã‚¤ãƒ³ã‚¿å‹ã«å¯¾ã—ã¦ã‚³ãƒ”ãƒ¼å¯èƒ½ã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ å‡ºåŠ›ï¼ˆC/C++åŒæ–¹ï¼‰ã‚‚å‹•ä½œã—ã¾ã™ã€‚`std::monostate`ã¯ã©ã®ã‚ˆã†ãªä»£å…¥ã‚„å¤‰æ›ã‚‚ä¸å¯èƒ½ã§ã‚ã‚‹ãŸã‚ã“ã®ã‚ˆã†ãªèª¤ç”¨ã®å¯èƒ½æ€§ãŒè‘—ã—ãä½ãã€ä½•ã‚‚ã§ããªã„ã“ã¨ã‚’è¡¨ã™å‹ã¨ã—ã¦é©ã—ã¦ã„ã¾ã™ï¼ˆCã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ã¯å‡ºåŠ›ã§ãã‚‹ã‚ˆã†ã§ã™ï¼‰ã€‚

- [P0472 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1993)

### [P1030R7 std::filesystem::path_view](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1030r7.pdf)
### [P1061R9 Structured Bindings can introduce a Pack](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1061r9.html)
### [P2019R7 Thread attributes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2019r7.pdf)
### [P2287R3 Designated-initializers for base classes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2287r3.html)
### [P2319R1 Prevent path presentation problems](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2319r1.html)
### [P2688R2 Pattern Matching: `match` Expression](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2688r2.html)
### [P2786R7 Trivial Relocatability For C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2786r7.pdf)
### [P2835R5 Expose std::atomic_ref's object address](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2835r5.html)
### [P2835R6 Expose std::atomic_ref's object address](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2835r6.html)
### [P2841R4 Concept and variable-template template-parameters](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2841r4.pdf)
### [P2846R3 reserve_hint: Eagerly reserving memory for not-quite-sized lazy ranges](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2846r3.pdf)
### [P2879R0 Proposal of `std::dump`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2879r0.pdf)

æŒ‡å®šã•ã‚ŒãŸä»»æ„å€‹æ•°ã®å¼•æ•°ã‚’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§å‡ºåŠ›ã™ã‚‹é–¢æ•°ã§ã‚ã‚‹`std::dump()`ã®ææ¡ˆã€‚

ã“ã“ã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹`std::dump()`ã¯`std::print()`ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã§ã‚ã‚Šã€`std::dump(arg1, arg2, ..., argn)`ã¯`std::println("{} {} ... {}", arg1, arg2, ..., argn)`ã¨ç­‰ä¾¡ã«ãªã‚Šã¾ã™ã€‚

```cpp
std::dump(â€œHello, World!â€); // output: Hello, World!
std::dump(2 + 2);           // output: 4
std::dump(1, 2, 3, 4, 5);   // output: 1 2 3 4 5

int x = 10, y = 20, z = 30;
std::dump(x, y, z);         // output: 10 20 30
```

ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã¯

- ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã®æ—¢å­˜ã®æ…£ç¿’ã¨ã™ã‚‹
    - Pythonã®`print(a, b, c)`ã¯`std::dump(a, b, c)`ã¨æ›¸ã‘ã‚‹
- ç°¡å˜ãªãƒ†ã‚¹ãƒˆã€ãƒ‡ãƒ¢ã€å®Ÿé¨“ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã®åˆ©ç”¨
    - çŸ­ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚„ä¸€æ™‚çš„ãªã‚³ãƒ¼ãƒ‰ã§ã€å¤‰æ•°ã®å€¤ã‚’æ‰‹è»½ã«å‡ºåŠ›ã™ã‚‹ã®ã«ä¾¿åˆ©
- ã‚³ãƒ¼ãƒ‰ä¾‹ã®ç°¡æ½”åŒ–
    -  `std::print({}, {}, {}, ...)`ã‚„`std::cout << ... << ...`ç­‰ã®ã‚ˆã†ã«ä½™è¨ˆãªæ–‡å­—åˆ—ã‚’çœã„ã¦ä¾‹ç¤ºã§ãã‚‹
- ãƒ‡ãƒãƒƒã‚°ã®è£œåŠ©
    - ãƒ‡ãƒãƒƒã‚¬ã‚’ä½¿ç”¨ã›ãšã«å®Ÿè¡Œæ™‚ã«å¤‰æ•°å€¤ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ç°¡å˜ãªã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ä½¿ç”¨å¯èƒ½
    - ãƒ‡ãƒãƒƒã‚¬ãŒä½¿ãˆãªã„ç’°å¢ƒã‚„ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¶ç´„ãŒã‚ã‚‹ç’°å¢ƒï¼ˆä¸€æ™‚åœæ­¢ã§å‹•ä½œãŒå¤‰ã‚ã‚‹ç’°å¢ƒï¼‰ã«ãŠã„ã¦ã€ä¸€æ™‚çš„ãªprintãƒ‡ãƒãƒƒã‚°ã®ãŸã‚ã«æ´»ç”¨ã§ãã‚‹
- ç§‘å­¦è¨ˆç®—ã§ã®åˆ©ç”¨
    - è¡ŒãŒæ”¹è¡Œã§åŒºåˆ‡ã‚‰ã‚Œã€æ•°å€¤ãŒã‚¹ãƒšãƒ¼ã‚¹ã§åŒºåˆ‡ã‚‰ã‚ŒãŸå½¢å¼ã¯ã€è¡Œåˆ—ã‚„è¡¨ã®ä¸€èˆ¬çš„ãªå½¢å¼ã§ã‚ã‚Šã€ç§‘å­¦è¨ˆç®—ã§ã®åˆ©ç”¨ã«é©ã—ã¦ã„ã‚‹
      - ã“ã‚Œã¯`std::dump()`ãŒç”Ÿæˆã™ã‚‹å½¢å¼
- Unixãƒ„ãƒ¼ãƒ«ã¨ã®é€£æº
    - UNIXç’°å¢ƒã§ä¸€èˆ¬çš„ãªãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹ã®CLIãƒ„ãƒ¼ãƒ«ã¯`std::dump()`ãŒç”Ÿæˆã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªå½¢å¼ã§å‹•ä½œã™ã‚‹

ãªã©ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

ã“ã®ææ¡ˆã¯LEWGIã«ãŠã„ã¦æ™‚é–“ã‚’ã‹ã‘ã‚‹ã“ã¨ã«åˆæ„ãŒå¾—ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚

- [ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚’print/formatã™ã‚‹ - åœ°é¢ã‚’è¦‹ä¸‹ã‚ã™å°‘å¹´ã®è¶³è¹´ã«ã•ã‚Œã‚‹ç§](https://onihusube.hatenablog.com/entry/2024/06/28/230207)
- [P2879 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2034)

### [P2945R1 Additional format specifiers for time_point](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2945r1.html)
### [P2988R7 std::optional<T&>](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2988r7.pdf)
### [P3016R4 Resolve inconsistencies in begin/end for valarray and braced initializer lists](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3016r4.html)
### [P3019R9 Vocabulary Types for Composite Class Design](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3019r9.html)
### [P3037R3 constexpr std::shared_ptr](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3037r3.pdf)
### [P3074R4 trivial unions (was std::uninitialized<T>)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3074r4.html)
### [P3096R3 Function Parameter Reflection in Reflection for C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3096r3.pdf)
### [P3128R1 Graph Library: Algorithms](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3128r1.pdf)
### [P3128R2 Graph Library: Algorithms](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3128r2.pdf)
### [P3210R2 A Postcondition *is* a Pattern Match](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3210r2.pdf)
### [P3245R2 Allow `[[nodiscard]]` in type alias declarations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3245r2.html)
### [P3248R2 Require [u]intptr_t](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3248r2.html)
### [P3290R2 Integrating Existing Assertions With Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3290r2.pdf)
### [P3295R1 Freestanding constexpr containers and constexpr exception types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3295r1.html)
### [P3299R1 Range constructors for std::simd](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3299r1.html)
### [P3309R2 constexpr atomic and atomic_ref](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3309r2.html)
### [P3335R1 Structured Core Options](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3335r1.html)
### [P3371R1 Fix C++26 by making the rank-1, rank-2, rank-k, and rank-2k updates consistent with the BLAS](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3371r1.html)
### [P3372R1 constexpr containers and adapters](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3372r1.html)
### [P3375R0 Reproducible floating-point results](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3375r0.html)

è¨ˆç®—çµæœã®å†ç¾æ€§ã®ä¿è¨¼ã•ã‚ŒãŸæµ®å‹•å°æ•°ç‚¹æ•°å‹ã®ææ¡ˆã€‚

C++æ¨™æº–ã§ã¯ã€æµ®å‹•å°æ•°ç‚¹æ•°ã®å‹•ä½œï¼ˆè¨ˆç®—ï¼‰ã®ã»ã¨ã‚“ã©ã®éƒ¨åˆ†ã¯å®Ÿè£…å®šç¾©ã¨ã•ã‚Œã¦ãŠã‚Šã€åŒã˜è¨ˆç®—å¼ãŒç•°ãªã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§åŒã˜çµæœã‚’ã‚‚ãŸã‚‰ã™ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚

ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¯å®Ÿè£…ã«ã‚ˆã£ã¦ç•°ãªã‚‹çµæœã‚’ç”Ÿæˆã—ã¾ã™ã€‚

```cpp
int main() {
	float line_0x(0.f);
	float line_0y(7.f);

	float normal_x(0.57f);
	float normal_y(0.8f);

	float px(10.f);
	float py(0.f);

	float v2p_x = px - line_0x;
	float v2p_y = py - line_0y;

	float distance = v2p_x * normal_x + v2p_y * normal_y;

	float direction_x = normal_x * distance;
	float direction_y = normal_y * distance;

	float proj_vector_x = px - direction_x;
	float proj_vector_y = py - direction_y;

	std::cout << "distance:      " << distance << std::endl;
	std::cout << "proj_vector_y: " << proj_vector_y << std::endl;
}
```

ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—ã§Nvidia C++ compiler 24.5ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨

```
distance:  	   0.0999997
proj_vector_y: -0.0799998
```

ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—ã§clang 18.1.0ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨

```
distance:  	   0.0999999
proj_vector_y: -0.0799999
```

`-march=skylake`ã‚’æŒ‡å®šã—ã¦clangã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨

```
distance:  	   0.1
proj_vector_y: -0.08
```

ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯å‡ºåŠ›ãŒç•°ãªã£ã¦ã„ã‚‹ã®ã§ã¯ãªãã€å®Ÿéš›ã«ãƒ“ãƒƒãƒˆãƒ¬ãƒ™ãƒ«ã§ç•°ãªã£ãŸçµæœã¨ãªã£ã¦ã„ã¾ã™ã€‚ç‰¹ã«ã€æœ€é©åŒ–ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸­ã§å®Ÿè¡Œã•ã‚Œã‚‹æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã®æ€§è³ªãƒ»æ•°ãƒ»é †åºãŒå®Ÿè£…ã”ã¨ã«ç•°ãªã‚Šã€ã“ã‚Œã«ã‚ˆã£ã¦ä¸¸ã‚æ¼”ç®—ã®å›æ•°ã‚„é †åºãŒç•°ãªã£ã¦ãã‚‹ã“ã¨ã‹ã‚‰ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã£ã¦ç•°ãªã£ãŸå€¤ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

ISO/IEC 60559:2020ï¼ˆIEEE 754ï¼‰ã§ã¯æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã®å†ç¾å¯èƒ½æ€§ã«ã¤ã„ã¦ã‚‚æŒ‡å®šã—ã¦ã„ã‚‹ã‚‚ã®ã®ã€ãã‚Œã‚’é”æˆã™ã‚‹ã«ã¯è¨€èªæ¨™æº–ãƒ»å®Ÿè£…ãƒ»ãŠã‚ˆã³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¼·åŠ›ãŒå¿…è¦ã¨ã—ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€C++ã§ã¯è¦æ ¼ã‹ã‚‰ã—ã¦å†ç¾å¯èƒ½ãªæµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚

ä¸€éƒ¨ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã„ã¦ã¯æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã®å†ç¾æ€§ãŒé‡è¦ã¨ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€ã‚²ãƒ¼ãƒ é–‹ç™ºã«ãŠã„ã¦ã¯ã€ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§å±•é–‹ã™ã‚‹å ´åˆãŒå¤šã„ãŸã‚ã€ç•°ãªã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é–“ã§æµ®å‹•å°æ•°ç‚¹æ¼”ç®—çµæœãŒä¸€è‡´ã™ã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã‚³ãƒ¼ãƒ‰ã®ç§»æ¤æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚ã‚‹ã„ã¯ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãŒå¯èƒ½ãªã‚²ãƒ¼ãƒ ã«ãŠã„ã¦ã¯ã€ã‚ˆã‚Šç°¡å˜ã«ç•°ãªã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’äº¤æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ç§‘å­¦è¨ˆç®—ã§ã¯å®Ÿè£…ãŒæµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã«å¯¾ã—ã¦è¡Œã†æœ€é©åŒ–ï¼ˆå‘½ä»¤ã®èåˆã‚„ä¸¦ã¹æ›¿ãˆï¼‰ãŒè¨ˆç®—çµæœã«è‡´å‘½çš„ãªä¸¸ã‚èª¤å·®ã‚’å°å…¥ã—ã¦ã—ã¾ã„ã€è¨ˆç®—çµæœãŒä¸æ­£ç¢ºãªã‚‚ã®ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’å›é¿ãƒ»ã‚ã‚‹ã„ã¯åˆ¶å¾¡ã™ã‚‹ãŸã‚ã«ã¯ã€è¨ˆç®—ã®é †åºãŒå³å¯†ã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒé‡è¦ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€å†ç¾æ€§ã®ã‚ã‚‹æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã€æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®Ÿè£…ã®æµ®å‹•å°æ•°ç‚¹æ•°å‹ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

```cpp
namespace std {
  // ä¸¸ã‚ãƒ¢ãƒ¼ãƒ‰ã®æŒ‡å®š
  enum class iec_559_rounding_mode : unspecified;                                                                             // freestanding
  inline constexpr iec_559_rounding_mode iec_559_round_ties_to_even = iec_559_rounding_mode::round_ties_to_even;              // freestanding
  inline constexpr iec_559_rounding_mode iec_559_round_toward_positive = iec_559_rounding_mode::round_toward_positive;        // freestanding
  inline constexpr iec_559_rounding_mode iec_559_round_toward_negative = iec_559_rounding_mode::round_toward_negative;        // freestanding
  inline constexpr iec_559_rounding_mode iec_559_round_toward_zero = iec_559_rounding_mode::round_toward_zero;                // freestanding


  // å†ç¾æ€§ã®ã‚ã‚‹æµ®å‹•å°æ•°ç‚¹æ•°å‹
  template<class T, iec_559_rounding_mode R = round_ties_to_even>
  class strict_float {
  public:
    using value_type = T;

    constexpr strict_float(T);
    constexpr strict_float(const strict_float&) = default;
    template<class X, iec_559_rounding_mode Y>
    constexpr explicit strict_float(const strict_float&);

    constexpr operator value_type() const;

    constexpr strict_float& operator= (const T&);
    constexpr strict_float& operator+=(const T&);
    constexpr strict_float& operator-=(const T&);
    constexpr strict_float& operator*=(const T&);
    constexpr strict_float& operator/=(const T&);
  };
}
```

ææ¡ˆã•ã‚Œã¦ã„ã‚‹ã®ã¯`strict_float<T, R>`ã¨ã„ã†ã‚¯ãƒ©ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã€`T`ã«æµ®å‹•å°æ•°ç‚¹æ•°å‹ï¼ˆIEE754äº¤æ›å½¢å¼ã§ã‚ã‚‹ã“ã¨ãŒè¦å®šã•ã‚Œã‚‹`float16_t, float32_t, float64_t, float128_t`ã®ã„ãšã‚Œã‹ï¼‰ã‚’æŒ‡å®šã—ã€`R`ã«ä¸¸ã‚ãƒ¢ãƒ¼ãƒ‰ã®æŒ‡å®šï¼ˆ`iec_559_rounding_mode`åˆ—æŒ™å‹ã®å€¤ï¼‰ã‚’æŒ‡å®šã—ã¾ã™ã€‚

ã“ã®å‹ã¯æµ®å‹•å°æ•°ç‚¹æ•°å‹`T`ã®ã”ãè–„ã„ãƒ©ãƒƒãƒ‘ã§ã‚ã‚Šã€ã“ã®å‹ã®å€¤ã«å¯¾ã™ã‚‹æ“ä½œï¼ˆè¨ˆç®—ï¼‰ã¯å®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸Šã§ã®é †åºã¨æ„å‘³ã‚’ä¿æŒã™ã‚‹äº‹ï¼ˆä¸¦ã¹æ›¿ãˆã‚„èåˆãŒè¨±å¯ã•ã‚Œãªã„ã“ã¨ï¼‰ãŒè¦æ±‚ã•ã‚Œã€ä¿è¨¼ã•ã‚Œã¾ã™ã€‚ã™ãªã‚ã¡ã€å†ç¾å¯èƒ½æ€§ã¨ã„ã†æ€§è³ªã¯ã“ã®å‹ã®æš—é»™ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦ï¼ˆISO/IEC 60559:2020ã«æº–æ‹ ã—ãŸå½¢ã§ï¼‰æŒ‡å®šã•ã‚Œã¾ã™ã€‚

è¨ˆç®—ã«ãŠã‘ã‚‹ä¸¸ã‚ãƒ¢ãƒ¼ãƒ‰ã«é–¢ã—ã¦ã¯`iec_559_rounding_mode`åˆ—æŒ™å‹ã®å€¤ã¨ã—ã¦å‹ã«åŸ‹ã‚è¾¼ã¾ã‚Œã¦ãŠã‚Šã€æ¼”ç®—å­ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦ãã®ä¸¸ã‚ã‚’ä½¿ç”¨ã™ã‚‹è¨ˆç®—ãŒé™çš„ã«æŒ‡å®šã•ã‚Œã¾ã™ã€‚

```cpp
namespace std {
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator+(strict_float<T, R>, <T, R>);              // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator+(strict_float<T, R>, T);                   // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator+(T, strict_float<T, R>);                   // freestanding
  
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator-(strict_float<T, R>, <T, R>);              // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator-(strict_float<T, R>, T);                   // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator-(T, strict_float<T, R>);                   // freestanding
  
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator*(strict_float<T, R>, <T, R>);              // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator*(strict_float<T, R>, T);                   // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator*(T, strict_float<T, R>);                   // freestanding
  
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator/(strict_float<T, R>, <T, R>);              // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator/(strict_float<T, R>, T);                   // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator/(T, strict_float<T, R>);                   // freestanding
  
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator+(strict_float<T, R>);                      // freestanding
  template<class T, iec_559_rounding_mode R>
  constexpr strict_float<T, R> operator-(strict_float<T, R>);                      // freestanding
}
```

ã“ã®ææ¡ˆã§ã¯ã²ã¨ã¾ãšã€å››å‰‡æ¼”ç®—ã®ã¿ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹æœ€å°é™ã®æ¼”ç®—ã®ã¿ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚`<cmath>`ã«ã‚ã‚‹é–¢æ•°ãªã©ã¯ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚„ä¸¸ã‚ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„ãŸã‚ãã®ã¾ã¾åˆ©ç”¨ã§ããšã€ãã®ãŸã‚ã®ä½œæ¥­ã¯å¤šå¤§ãªã‚‚ã®ã«ãªã‚‹ãŸã‚ã§ã™ã€‚ã¾ãŸåŒæ§˜ã«ã€ç•°ãªã‚‹å½¢å¼ã®æµ®å‹•å°æ•°ç‚¹æ•°é–“ã®å†ç¾å¯èƒ½ãªå¤‰æ›ã‚‚å°†æ¥ã®ã‚µãƒãƒ¼ãƒˆã¨ã—ã¦ã„ã¾ã™ã€‚

ãªãŠã€ã‚ˆãä¼¼ãŸææ¡ˆãŒP2746R5ã§ææ¡ˆã•ã‚Œã¦ã„ã¾ã™ãŒã€P2746ãŒFenvã«ã‚ˆã‚‹ä¸¸ã‚ãƒ¢ãƒ¼ãƒ‰ã®å»ƒæ­¢ã¨ç½®æ›ï¼ˆã‚ˆãä¼¼ãŸã‚¯ãƒ©ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã‚ˆã‚‹ï¼‰ã ã‘ã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã‚ã‚‹ã®ã«å¯¾ã—ã¦ã€ã“ã®ææ¡ˆã¯ã•ã‚‰ã«æ“ä½œã®èåˆã‚„ä¸¦ã¹æ›¿ãˆã‚’ç¦æ­¢ã™ã‚‹ã“ã¨ã§è¨ˆç®—ã®å†ç¾å¯èƒ½æ€§ã‚’é”æˆã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã™ã‚‚ã®ã§ã™ã€‚

- [æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ã®çµæœãŒç’°å¢ƒä¾å­˜ãªã®ã¯ã©ã‚“ãªã¨ãã‹ - Zenn](https://zenn.dev/mod_poppo/articles/floating-point-portability)
- [P2746R5 Deprecate and Replace Fenv Rounding Modes - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2024/08/31/233056#P2746R5-Deprecate-and-Replace-Fenv-Rounding-Modes)
- [P3375 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2035)

### [P3379R0 Constrain `std::expected` equality operators](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3379r0.html)

`std::expected`ã®`==`æ¼”ç®—å­ã®åˆ¶ç´„ã®æŒ‡å®šã‚’å¤‰æ›´ã™ã‚‹ææ¡ˆã€‚

P2944R3ï¼ˆ`reference_wrapper`ã®`==`æ¯”è¼ƒã®å‹•ä½œä¿®æ­£ææ¡ˆï¼‰ã§ã¯ãã®ãƒ¡ã‚¤ãƒ³ã®ææ¡ˆã¨ã¯ã»ã¨ã‚“ã©é–¢ä¿‚ãªã„ç·¨é›†ä¸Šã®ææ¡ˆã¨ã—ã¦`pair, tuple, optional, variant`ã®æ¯”è¼ƒæ¼”ç®—å­ã®åˆ¶ç´„ã«ã¤ã„ã¦ã®æŒ‡å®šãŒMandatesã ã£ãŸã®ã‚’Constraintsã«ä¿®æ­£ã—ã¾ã—ãŸã€‚

ã—ã‹ã—ã€ãã®æ™‚ã«`std::expected`ãŒæ¼ã‚Œã¦ã„ãŸãŸã‚ã€ã“ã®ææ¡ˆã§ã¯åŒæ§˜ã®å¤‰æ›´ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

`std::optional`ã«ã¤ã„ã¦ã¯ã€P2944R3ã®å¤‰æ›´ãŒè¡Œã‚ã‚ŒãŸéš›ã«æŒ™å‹•ã«å·®ãŒå‡ºã¦ã—ã¾ã£ãŸã‚ˆã†ã§ã€ãã‚ŒãŒLWG Issue 4072ã§ä¿®æ­£ã•ã‚Œã¦ã„ã¾ã™ï¼ˆMandatesã®å ´åˆã¯ill-formedã«ãªã£ã¦ã„ã¦ä»£ã‚ã‚Šã®å€™è£œã®æ¢ç´¢ãŒè¡Œã‚ã‚Œãªã‹ã£ãŸç”¨æ³•ãŒã€Constraintsã«ãªã£ãŸã“ã¨ã«ã‚ˆã£ã¦ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰å€™è£œã‹ã‚‰å¤–ã‚Œã¦ä»£ã‚ã‚Šã®å€™è£œãŒæ¢ç´¢ã•ã‚Œã‚‹ã“ã¨ã§æœ‰åŠ¹ã«ãªã£ã¦ã—ã¾ã†å•é¡Œï¼‰ã€‚ã“ã“ã§ã¯ã€ãã®ä¿®æ­£ã¨åŒã˜ãè¿½åŠ ã®åˆ¶ç´„ã‚’è¡Œã†ã“ã¨ã§åŒæ§˜ã®å•é¡Œã«å¯¾å‡¦ã—ã¦ã„ã¾ã™ã€‚

- [C++20æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä»•æ§˜ï¼šConstraintsï¼Mandatesï¼Preconditions - yohhoyã®æ—¥è¨˜](https://yohhoy.hatenadiary.jp/entry/20200605/p1)
- [LWG Issue 4072. std::optional comparisons: constrain harder](https://cplusplus.github.io/LWG/issue4072)
- [P3375 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2035)

### [P3380R0 Extending support for class types as non-type template parameters](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3380r0.html)
### [P3381R0 Syntax for Reflection](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3381r0.html)

ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ§‹æ–‡ã®ãŸã‚ã®æ¼”ç®—å­ã¨ã—ã¦`^^`ã‚’ä½¿ç”¨ã™ã‚‹ææ¡ˆã€‚

P2996ã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹C++26ã«å‘ã‘ãŸãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã«ãŠã„ã¦ã¯ã€ä»»æ„ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‹ã‚‰ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–ã‚Šå‡ºã™æ¼”ç®—å­ã¨ã—ã¦`^`ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼ˆ`auto info = ^T;`ã®ã‚ˆã†ã«ä½¿ç”¨ï¼‰ã€‚ã—ã‹ã—ã€Objective-C++ã«ãŠã‘ã‚‹ãƒ–ãƒ­ãƒƒã‚¯æ‹¡å¼µã®æ§‹æ–‡ã¨è¡çªã—ã¦ã„ã‚‹ã“ã¨ãŒæŒ‡æ‘˜ã•ã‚Œã¾ã—ãŸã€‚

ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ãªæ§‹æ–‡ã¯

```cpp
type-id(^ident)();
```

2ã¤ã®è§£é‡ˆãŒã‚ã‚Šå¾—ã¾ã™

- `type-id`ã‚’è¿”ã—ã€å¼•æ•°ã‚’å–ã‚‰ãªã„ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä¿æŒã™ã‚‹`ident`ã¨ã„ã†åå‰ã®å¤‰æ•°
- `std::meta::info`ã‚’`type-id`ã«ã‚­ãƒ£ã‚¹ãƒˆã—ã¦ã€`operator()`ã‚’å‘¼ã³å‡ºã™

1ã¤ç›®ãŒObjective-C++ã«ãŠã‘ã‚‹ãƒ–ãƒ­ãƒƒã‚¯æ‹¡å¼µã§ã‚ã‚Šã€ã“ã®ã“ã¨ã¯P3294R1ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚·ãƒ¼ã‚±ãƒ³ã‚¹æ§‹æ–‡ï¼ˆ`^{ ... }`ï¼‰ãŒå°å…¥ã•ã‚Œã‚‹ã¨ã•ã‚‰ã«å½±éŸ¿ãŒå¤§ãããªã‚Šã¾ã™ã€‚

ã“ã®ãŸã‚ã«ã€ã“ã®ææ¡ˆã¯`^`ã®ä»£æ›¿ã¨ãªã‚‹æ¼”ç®—å­ã‚’æ¢ç´¢ã—ã€ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

æ§‹æ–‡å€™è£œã«ã¯æ¬¡ã®ä¸‰ç¨®é¡ãŒè€ƒãˆã‚‰ã‚Œã¾ã™

1. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
2. 1æ–‡å­—ï¼ˆã®æ¼”ç®—å­
3. è¤‡æ•°æ–‡å­—

ã¨ã¯ã„ãˆå…ƒã€…ã€Reflection TSã§ã¯ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ§‹æ–‡ã¨ã—ã¦`reflexpr`ã¨ã„ã†ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ç”¨ã„ã¦ã„ãŸã‚‚ã®ã®ã€ã“ã‚ŒãŒæ§‹æ–‡çš„ã«é‡ã„ãŸã‚ã«`^`ã«ç§»è¡Œã—ãŸçµŒç·¯ãŒã‚ã‚Šã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ã„ã†é¸æŠè‚¢ã¯ã‚ã‚Šå¾—ã¾ã›ã‚“ï¼ˆå¯èƒ½ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯2,3æ–‡å­—ã§ã¯æ¸ˆã¾ãªã„ãŸã‚ï¼‰ã€‚ã—ãŸãŒã£ã¦ã€æ®‹ã‚‹ã®ã¯1æ–‡å­—ä»¥ä¸Šã®æ¼”ç®—å­ã§ã™ã€‚

å…¥åŠ›ã—ã‚„ã™ãã€å°å…¥ã®è² æ‹…ãŒå°‘ãªã„æ–‡å­—ï¼ˆåŸºæœ¬æ–‡å­—é›†å·ã«æ–°ã—ãæ–‡å­—ã‚’ãã‚ãˆã‚‹å¿…è¦ã®ãªã„æ–‡å­—ã€ã¤ã¾ã‚ŠASCIIç¯„å›²ã®è¨˜å·ï¼‰ã§ã‚ã‚Šã€C++ã§ã¾ã ä½¿ç”¨ã•ã‚Œã¦å±…ãªã„ã‚‚ã®ã¨ã™ã‚‹ã¨ã€1æ–‡å­—ã®å€™è£œã¯ã‹ãªã‚Šé™ã‚‰ã‚Œã¾ã™ã€‚

ã“ã®æ–‡æ›¸ã§æ¤œè¨ã•ã‚ŒãŸ**å˜ä¸€æ–‡å­—ã®ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ¼”ç®—å­å€™è£œ**ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ãã‚Œãã‚Œã®å€™è£œã«ã¤ã„ã¦ã€æ¤œè¨çµæœã¨æ¡ç”¨ã•ã‚Œãªã‹ã£ãŸç†ç”±ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚

| å€™è£œ  | æ¤œè¨çµæœ | ä½¿ãˆãã†ï¼Ÿ |
| :---- | :--- | :--: |
| `#e` | Cãƒã‚¯ãƒ­ã§æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ãŠã‚Šã€æ„å‘³ã®å¤‰æ›´ãŒã§ããªã„ | âŒ |
| `$e` | ä¸€éƒ¨ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè­˜åˆ¥å­ã¨ã—ã¦ `$` ã‚’æ‹¡å¼µã§ä½¿ç”¨å¯èƒ½ã«ã—ã¦ã„ã‚‹ãŸã‚ã€`$T` ãŒå‹ `T` ã®ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¨ `$` ã§å§‹ã¾ã‚‹è­˜åˆ¥å­ã®ã©ã¡ã‚‰ã«ã‚‚è§£é‡ˆã§ãã¦ã—ã¾ã† | âŒ |
| `%e` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¼•æ•°ã§ä½¿ã†å ´åˆã«`<%` ãŒä»£æ›¿ãƒˆãƒ¼ã‚¯ãƒ³ `{` ã¨è§£é‡ˆã•ã‚Œã‚‹ãŸã‚ã€`C<%T>` ã®ã‚ˆã†ãªæ§‹æ–‡ãŒä½¿ãˆãªã„ã€‚ãŸã ã—ã€`()` ã‚„ç©ºç™½ã‚’ä½¿ã†ã“ã¨ã§å›é¿å¯èƒ½ã§ã¯ã‚ã‚‹ã€‚ | ğŸ˜ |
| `,e`  | æ¤œè¨ã®ä½™åœ°ãªã—| âŒ |
| `/e`  | ä½¿ç”¨æ³•ã«ã‚ˆã£ã¦ã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆé–‹å§‹ã® `//` ã‚„ `/*` ã«è¦‹ãŸç›®ãŒè¿‘ã„ | âœ…ã€€|
| `:e`  | `C<:T>` ãŒä»£æ›¿ãƒˆãƒ¼ã‚¯ãƒ³ `[` ã¨è§£é‡ˆã•ã‚Œã‚‹ãŸã‚ã€`C[:T:]` ã®ã‚ˆã†ãªæ§‹æ–‡ãŒä½¿ãˆãªã„ | âŒ |
| `=e`  | ä»£å…¥æ¼”ç®—å­ã¨ã—ã¦ä¸€èˆ¬çš„ã«ä½¿ç”¨ã•ã‚Œã™ãã¦ã„ã‚‹ãŸã‚ã€ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ¼”ç®—å­ã¨ã—ã¦ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã¯ï¼ˆæ„å‘³çš„ã«ï¼‰é›£ã—ã„ | âŒ |
| `?e`  | æ¡ä»¶æ¼”ç®—å­ã¨ã®æ›–æ˜§ã•ã¯é¿ã‘ã‚‰ã‚Œã‚‹ã‚‚ã®ã®ã€ä»–ã®è¨€èªã§ã®è¿°èªã¨ã®é–¢é€£æ€§ãŒå¼·ã„ã€‚ã¾ãŸã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§ã® `?` ã®ä½¿ç”¨ã¨ã‚‚ç«¶åˆã™ã‚‹ã€‚  | ğŸ¤· |
| `@e`  | Objective-Cã§æ‹¡å¼µæ©Ÿèƒ½ã¨ã—ã¦æ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ï¼ˆ`@property`, `@dynamic` ãªã©ï¼‰ã€‚ `@(e)` ã¯ãƒœãƒƒã‚¯ã‚¹å¼ã€`@[e]` ã‚„ `@{e}` ã¯ã‚³ãƒ³ãƒ†ãƒŠãƒªãƒ†ãƒ©ãƒ«ã¨ã—ã¦è§£é‡ˆã•ã‚Œã¦ã—ã¾ã†ãŸã‚å›é¿ã‚‚é›£ã—ã„ | âŒ |
| `\e`  | æ–‡å­—åˆ—å†…ã§ã®è£œé–“ã¨ç«¶åˆã™ã‚‹ã€‚ã¾ãŸã€ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«æ–‡å­—åã¨ã®è¡çªã‚‚ã‚ã‚‹ï¼ˆ`\u0` ãŒUCNã¨ã—ã¦è§£é‡ˆã•ã‚Œã‚‹ï¼‰ | âŒ |
| `` `e`` | Markdownã§ã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã§ä½¿ã‚ã‚Œã‚‹ãŸã‚ã€ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãŒé›£ã—ã„ã€‚ã¾ãŸã€ç‰¹ã«å„ªã‚ŒãŸç‚¹ã‚‚ãªã„ | âŒ |
| `\|e` | ä½¿ç”¨å¯èƒ½ã§ã€æ›–æ˜§ã•ã‚‚ãªãã€ä»£æ›¿ãƒˆãƒ¼ã‚¯ãƒ³ã®ä¸€éƒ¨ã§ã‚‚ãªã„ã€‚ãŸã ã—ã€æ•°å­¦çš„ãªèƒŒæ™¯ã‚’æŒã¤äººã€…ã«ã¨ã£ã¦ã¯ã€çµ¶å¯¾å€¤ã®ã‚ˆã†ã«è¦‹ãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ | âœ… |

çµå±€ã€ä¸€æ–‡å­—ã®å€™è£œã§æ®‹ã£ãŸã‚‚ã®ã¯æ¬¡4ã¤ã§ã™

- `/e`
- `\|e`
- `?e`: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¨ç«¶åˆã™ã‚‹
- `%e`: ä»£æ›¿ãƒˆãƒ¼ã‚¯ãƒ³ã¨ã®é‡è¤‡ã‚’å—ã‘å…¥ã‚Œã‚‹ãªã‚‰ã‚ã‚Š

è¤‡æ•°æ–‡å­—ã®å ´åˆã¯è‡ªç”±åº¦ãŒã•ã‚‰ã«åºƒãŒã‚Šã€å€™è£œã¯ã»ã¼ã„ãã‚‰ã§ã‚‚å­˜åœ¨ã—ã¾ã™ã€‚ç­†è€…ã®æ–¹ã®ä¸€äººã¯[ç°¡å˜ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£](https://syntax-tester.haxing.ninja/?op=%5E%5B&sop=%5D)ã‚’ä½œæˆã—ã€è¦‹æ „ãˆã‚’æ¯”è¼ƒã—ã¦æ¤œè¨ã—ãŸã‚ˆã†ã§ã™ã€‚

- `^^e`: `^`2æ–‡å­—ãªã‚‰è¡çªã¯ãªã„ã€1æ–‡å­—å¢—ãˆã‚‹ã ã‘
- `^[e]`: ã‚ªãƒšãƒ©ãƒ³ãƒ‰ã‚’è§’ã‹ã£ã“ã§å›²ã‚€ã€‚ã‚¹ãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°ã¨å¯¾ç…§çš„ã«ãªã‚‹ã‚‚ã®ã®ã€æ§‹æ–‡ãŒé‡ã„
- `${e}` or `$(e)`: ãƒˆãƒ¼ã‚¯ãƒ³ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®æ§‹æ–‡ã¨ã—ã¦ã¯ã‚ã¾ã‚Šé©ã—ã¦ã„ãªã„ï¼ˆå†…å´ã«ã•ã‚‰ã«æ³¢ã‹ã£ã“ãŒå…¥ã‚‹ãŸã‚ï¼‰
    - `$$(e)`ã¯ã‚¹ãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°ã®æ§‹æ–‡å€™è£œã®å¯èƒ½æ€§ãŒã‚ã‚‹
- `/\e`: å¤§ãã„`^`ã€`\e`ã¨åŒã˜å•é¡ŒãŒã‚ã‚‹

ã“ã®ææ¡ˆã§ã¯çµå±€ã€`^^`ã‚’é¸æŠã—ã€ã“ã‚Œã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

2æ–‡å­—ã§ã‚ã‚Œã°ãã‚Œã»ã©é‡ãã¯ãªãã€è¦‹ãŸç›®ã®å•é¡ŒãŒã‚ã‚‹1æ–‡å­—ã®ä½¿ç”¨å¯èƒ½ãªæ¼”ç®—å­ã‚’å†æ¤œè¨ã™ã‚‹å¿…è¦æ€§ã‚’æ„Ÿã˜ã‚‹ã»ã©ã‚³ã‚¹ãƒˆã¯é«˜ããªãã€ã¾ãŸ`reflexpr`ã¨ã„ã†10æ–‡å­—ã‚ˆã‚Šã¯ååˆ†ã«çŸ­ã„ã€ã¨ã„ã†ç†ç”±ã®ã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã®å†…å®¹ã¯R0ç™ºè¡Œã®æ™‚ç‚¹ã§ã™ã§ã«clang/EDGã«ã¦å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

ãã—ã¦ã€ã“ã®ææ¡ˆã¯å¤§ããªåå¯¾ãªãP2996R8ã«ã¦é©ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [ãƒ–ãƒ­ãƒƒã‚¯ (Cè¨€èªæ‹¡å¼µ) - Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF_(C%E8%A8%80%E8%AA%9E%E6%8B%A1%E5%BC%B5))
- [Alternative operators and tokens - cppreference.com](https://en.cppreference.com/w/c/language/operator_alternative)
- [P3381 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2038)

### [P3382R0 Coarse clocks and resolutions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3382r0.html)

ã‚ˆã‚Šè§£åƒåº¦ã®ç²—ã„æ™‚è¨ˆå‹ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸­ã§ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’å–å¾—ã—ãŸã„å ´åˆã¨ã„ã†ã®ã¯æ¯”è¼ƒçš„ã‚ˆãã‚ã‚Šã€C++ã§ã¯`<chrono>`ã®æ™‚è¨ˆå‹ã®`Clock::now()`ã§å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€ã“ã‚Œã‚‰ã®æ™‚è¨ˆå‹ã¯é€šå¸¸ãƒã‚¤ã‚¯ãƒ­ç§’ã‚ã‚‹ã„ã¯ãã‚Œä»¥ä¸Šã®è§£åƒåº¦ã‚’æŒã£ã¦ãŠã‚Šã€ã“ã®ã‚ˆã†ãªé«˜ã„è§£åƒåº¦ã®æ™‚åˆ»å–å¾—ã«ã¯ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚Šã¾ã™ã€‚ä¸€éƒ¨ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ãŠã„ã¦ã¯ãã®ã‚ˆã†ãªé«˜ã„è§£åƒåº¦ã¯å¿…è¦ãªãã€100msã‹ã‚‰ç§’ã®è§£åƒåº¦ã§ååˆ†ãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãŸã¨ãˆã°

- HTTP Dateãƒ˜ãƒƒãƒ€ã®ç”Ÿæˆ: ç§’å˜ä½ã§ååˆ†
- å®šæœŸå®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã®å‘¨æœŸã®æŒ‡å®š: å‘¨æœŸã®å˜ä½ãŒç§’ã‚ˆã‚Šå¤§ãã„å ´åˆã€ç§’å˜ä½ã§ååˆ†
- å¤§ãã‚ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå€¤: å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ã‚¯ã‚¨ãƒªãªã©ã€åˆ†å˜ä½ã®æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¤å®šã«ã¯ç§’å˜ä½ä»¥ä¸Šã§ååˆ†
- çµ±è¨ˆ: å¿œç­”æ™‚é–“ã®ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ã‚„å¹³å‡ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹å ´åˆã€é«˜ã„è§£åƒåº¦ã¯ä¸è¦

ä¸€éƒ¨ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã¯ã“ã®ã‚ˆã†ãªéœ€è¦ã«å¿œãˆã‚‰ã‚Œã‚‹ç²—ã„ã‚¯ãƒ­ãƒƒã‚¯ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ™‚è¨ˆå‹ã‚ˆã‚Šã‚‚70å€ä»¥ä¸Šé«˜é€Ÿã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’é‡è¦–ã™ã‚‹ä¸€éƒ¨ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã¯æ—¢ã«ç²—ã„ã‚¯ãƒ­ãƒƒã‚¯ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®ã‚ˆã†ãªå ´æ‰€ã§ã¯ã€æ¬¡ã®ã‚ˆã†ã«å¿…è¦ãªå ´åˆã«ã®ã¿é«˜ã„è§£åƒåº¦ã®æ™‚åˆ»ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ãªãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒè‰¯ãè¡Œã‚ã‚Œã¦ã„ã¾ã™

```cpp
bool is_expired(std::chrono::steady_clock::time_point deadline) {
  // ç²—ã„æ™‚åˆ»ã¨ãã®æ™‚è¨ˆã®è§£åƒåº¦ã‹ã‚‰å¤§é›‘æŠŠã«åˆ¤å®š
  auto max_time = coarse_steady_clock() + coarse_steady_clock_resolution();
  if (max_time < deadline) {
    return false;
  }

  // æ­£ç¢ºãªåˆ¤å®šã«ã¯ã‚ˆã‚Šé«˜ã„è§£åƒåº¦ã®æ™‚åˆ»ã‚’ä½¿ç”¨
  return deadline < std::chrono::steady_clock::now()
}
```

ã“ã®ææ¡ˆã¯ã€ã‚ˆã‚Šç²—ã„è§£åƒåº¦ã§æ™‚åˆ»ã‚’å–å¾—ã§ãã‚‹æ™‚è¨ˆå‹ã‚’æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«è¿½åŠ ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ææ¡ˆã•ã‚Œã¦ã„ã‚‹ã®ã¯`coarse_steady_clock`ã¨`coarse_system_clock`ã®2ç¨®é¡ã§ã€ã“ã‚Œã‚‰ã¯`coarse_`ã‚’å–ã‚Šé™¤ã„ãŸåå‰ã®æ™‚è¨ˆå‹ã«å¯¾å¿œã™ã‚‹æ€§è³ªã‚’æŒã¤ã‚ˆã‚Šç²—ã„è§£åƒåº¦ã®æ™‚è¨ˆå‹ã§ã™ã€‚

```cpp
namespace std::chrono {
  // ã‚ˆã‚Šç²—ã„steady_clock
  class coarse_steady_clock {
  public:
    using rep        = steady_clock::rep;
    using period     = steady_clock::period;
    using duration   = steady_clock::duration;
    using time_point = steady_clock::time_point;
    static constexpr bool is_steady = true;

    static time_point now() noexcept;
    static duration resolution() noexcept;
  };
  
  // ã‚ˆã‚Šç²—ã„system_clock
  class coarse_system_clock {
  public:
    using rep        = system_clock::rep;
    using period     = system_clock::period;
    using duration   = system_clock::duration;
    using time_point = system_clock::time_point;
    static constexpr bool is_steady = system_clock::is_steady;

    static time_point now() noexcept;
    static duration resolution() noexcept;

    // mapping to/from C type time_t
    static time_t      to_time_t(const time_point& t) noexcept {
      return system_clock::to_time_t(t);
    }
    static time_point  from_time_t(time_t t) noexcept { 
      return system_clock::from_time_t(t);
    }
  };
}
```

ã¾ãŸã€`Cpp17TrivialClock`ã‚’å¤‰æ›´ã—ã¦`.resolution()`ãƒ¡ãƒ³ãƒã‹ã‚‰ãã®æ™‚è¨ˆå‹ã®è§£åƒåº¦ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€æ—¢å­˜ã®æ™‚è¨ˆå‹ã«ã‚‚`.resolution()`ã‚’è¿½åŠ ã—ã¾ã™ã€‚

ã“ã®2ã¤ã®æ™‚è¨ˆå‹ã«ãŠã„ã¦ã€`duration`ã¨`time_point`ã®å‹ãŒå…ƒã®æ™‚è¨ˆå‹ã¨åŒã˜ã«ã•ã‚Œã¦ã„ã‚‹ã®ã¯ã€åˆ©ä¾¿æ€§ã®ãŸã‚ã§ã™ã€‚ä¾‹ãˆã°å…ˆã»ã©ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«ã€åŒã˜`duration`ã¨`time_point`å‹ã‚’ä½¿ç”¨ã—ã¦ãŠã‘ã°ã€å…ƒã®æ™‚è¨ˆå‹ã®æ™‚åˆ»ã¨ç°¡å˜ã«çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- [P3382 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2039)

### [P3383R0 mdspan.at()](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3383r0.html)
### [P3384R0 __COUNTER__](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3384r0.html)
### [P3385R0 Attributes reflection](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3385r0.html)
### [P3388R0 When Do You Know connect Doesn't Throw?](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3388r0.pdf)
### [P3389R0 Of Operation States and Their Lifetimes (LEWG Presentation 2024-09-10)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3389r0.pdf)
### [P3390R0 Safe C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3390r0.html)
### [P3391R0 constexpr std::format](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3391r0.html)
### [P3392R0 Do not promise support for function syntax of operators](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3392r0.pdf)
### [P3396R0 std::execution wording fixes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3396r0.html)
### [P3397R0 Clarify requirements on extended floating point types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3397r0.pdf)
### [P3398R0 User specified type decay](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3398r0.pdf)
### [P3401R0 Enrich Creation Functions for the Pointer-Semantics-Based Polymorphism Library - Proxy](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3401r0.pdf)
### [P3402R0 A Safety Profile Verifying Class Initialization](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3402r0.html)
