# ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2025å¹´07æœˆï¼‰

æ–‡æ›¸ã®ä¸€è¦§

- [JTC1/SC22/WG21 - Papers mailing2025-07](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/#mailing2025-07)

å…¨éƒ¨ã§143æœ¬ã‚ã‚Šã¾ã™ã€‚

ã‚‚ãã˜

[:contents]

### [N5012 WG21 2025-06 Sofia Admin telecon minutes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/n5012.pdf)
### [N5016 WG21 June 2025 Sofia Hybrid meeting Minutes of Meeting](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/n5016.pdf)
### [P0085R2 Oo... adding a coherent character sequence to begin octal-literals](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p0085r2.html)
### [P0085R3 Oo... adding a coherent character sequence to begin octal-literals](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p0085r3.html)
### [P0260R18 C++ Concurrent Queues](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p0260r18.html)
### [P0260R19 C++ Concurrent Queues](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p0260r19.html)
### [P0870R6 A proposal for a type trait to detect narrowing conversions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p0870r6.html)
### [P0870R7 A proposal for a type trait to detect narrowing conversions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p0870r7.html)
### [P0876R21 fiber_context - fibers without scheduler](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p0876r21.pdf)
### [P1040R8 std::embed and #depend](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p1040r8.html)
### [P1306R5 Expansion statements](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p1306r5.html)
### [P2079R9 Parallel Scheduler](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2079r9.html)
### [P2079R10 Parallel Scheduler](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2079r10.html)
### [P2319R5 Prevent path presentation problems](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2319r5.html)
### [P2414R8 Pointer lifetime-end zap proposed solutions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2414r8.pdf)
### [P2414R9 Pointer lifetime-end zap proposed solutions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2414r9.pdf)
### [P2664R11 Proposal to extend std::simd with permutation API](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2664r11.html)
### [P2781R9 std::constexpr_wrapper](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2781r9.html)
### [P2876R3 Proposal to extend std::simd with more constructors and accessors](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2876r3.html)
### [P2929R1 simd_invoke](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2929r1.html)
### [P2996R13 Reflection for C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2996r13.html)
### [P3008R6 Atomic floating-point min/max](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3008r6.html)
### [P3044R2 sub-string_view from string](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3044r2.pdf)
### [P3045R6 Quantities and units library](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3045r6.html)
### [P3060R3 Add std::views::indices(n)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3060r3.html)
### [P3091R4 Better lookups for map , unordered_map, and flat_map](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3091r4.html)
### [P3096R10 Function Parameter Reflection in Reflection for C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3096r10.pdf)
### [P3096R11 Function Parameter Reflection in Reflection for C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3096r11.pdf)
### [P3096R12 Function Parameter Reflection in Reflection for C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3096r12.pdf)
### [P3100R3 Implicit contract assertions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3100r3.pdf)
### [P3104R4 Bit permutations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3104r4.html)
### [P3111R7 Atomic Reduction Operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3111r7.html)
### [P3111R8 Atomic Reduction Operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3111r8.html)
### [P3149R11 async_scope -- Creating scopes for non-sequential concurrency](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3149r11.html)
### [P3179R9 C++ parallel range algorithms](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3179r9.html)
### [P3211R1 views::flat_map](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3211r1.html)
### [P3216R1 views::slice](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3216r1.html)
### [P3220R1 views::take_before](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3220r1.html)
### [P3223R2 Making std::istream::ignore less surprising](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3223r2.html)
### [P3248R4 Require [u]intptr_t](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3248r4.html)
### [P3290R3 Integrating Existing Assertions With Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3290r3.pdf)
### [P3293R3 Splicing a base class subobject](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3293r3.html)
### [P3347R3 Invalid/Prospective Pointer Operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3347r3.pdf)
### [P3348R4 C++26 should refer to C23 not C17](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3348r4.pdf)
### [P3383R3 mdspan.at()](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3383r3.html)
### [P3394R4 Annotations for Reflection](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3394r4.html)
### [P3411R3 any_view](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3411r3.html)
### [P3433R1 Allocator Support for Operation States](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3433r1.pdf)
### [P3439R3 Chained comparisons: Safe, correct, efficient](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3439r3.pdf)
### [P3440R1 Add n_elements named constructor to std::simd](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3440r1.html)
### [P3480R6 std::simd is a range](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3480r6.pdf)
### [P3481R4 std::execution::bulk() issues](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3481r4.html)
### [P3481R5 std::execution::bulk() issues](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3481r5.html)
### [P3491R3 define_static_{string,object,array}](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3491r3.html)
### [P3503R3 Make type-erased allocator use in promise and packaged_task consistent](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3503r3.html)
### [P3540R2 #embed Parameter offset](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3540r2.html)
### [P3552R3 Add a Coroutine Task Type](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3552r3.html)
### [P3557R3 High-Quality Sender Diagnostics with Constexpr Exceptions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3557r3.html)
### [P3560R2 Error Handling in Reflection](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3560r2.html)
### [P3566R2 You shall not pass char* - Safety concerns working with unbounded null-terminated strings](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3566r2.pdf)
### [P3570R2 optional variants in sender/receiver](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3570r2.html)
### [P3601R0 Slides for P3407R1](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3601r0.pdf)

P3407R1ã®ç´¹ä»‹ã‚¹ãƒ©ã‚¤ãƒ‰ã€‚

P3407R1ã«ã¤ã„ã¦ã¯ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P3407R1 Make idiomatic usage of `offsetof` well-defined - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´10æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/08/30/234243#P3407R1-Make-idiomatic-usage-of-offsetof-well-defined)

P34701R1ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ãŒç°¡å˜ã«ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

### [P3642R1 Carry-less product: std::clmul](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3642r1.html)
### [P3642R2 Carry-less product: std::clmul](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3642r2.html)
### [P3647R0 Slides for P3642R1](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3647r0.html)

P3642R1ã®ç´¹ä»‹ã‚¹ãƒ©ã‚¤ãƒ‰ã€‚

P3642R1(R2)ã«é–¢ã—ã¦ã¯ã™ãä¸Šã‚’ã”è¦§ãã ã•ã„ã€‚

ã‚­ãƒ£ãƒªãƒ¼ãƒ¬ã‚¹ä¹—ç®—æ©Ÿèƒ½ã®ã®å¿…è¦æ€§ãªã©ãŒç°¡å˜ã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

### [P3655R2 zstring_view](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3655r2.html)
### [P3663R2 Future-proof submdspan-mapping](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3663r2.html)
### [P3668R2 Defaulting Postfix Increment and Decrement Operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3668r2.html)
### [P3669R2 Non-Blocking Support for std::execution](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3669r2.html)
### [P3687R1 Final Adjustments to C++26 Reflection](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3687r1.html)
### [P3688R1 ASCII character utilities](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3688r1.html)
### [P3690R1 Consistency fix: Make simd reductions SIMD-generic](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3690r1.pdf)
### [P3691R1 Reconsider naming of the namespace for "std::simd"](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3691r1.pdf)
### [P3692R1 How to Avoid OOTA Without Really Trying](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3692r1.pdf)
### [P3697R1 Minor additions to C++26 standard library hardening](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3697r1.html)
### [P3699R1 Rename conqueue_errc](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3699r1.html)
### [P3705R1 A Sentinel for Null-Terminated Strings](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3705r1.html)
### [P3705R2 A Sentinel for Null-Terminated Strings](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3705r2.html)
### [P3709R1 Reconsider parallel ranges::rotate_copy and ranges::reverse_copy](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3709r1.html)
### [P3709R2 Reconsider parallel ranges::rotate_copy and ranges::reverse_copy](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3709r2.html)
### [P3711R1 Safer StringViewLike Functions for Replacing char* strings](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3711r1.pdf)
### [P3713R0 2025-05 Library Evolution Poll Outcomes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3713r0.html)

2025å¹´5æœˆã«è¡Œã‚ã‚ŒãŸã€LEWGã«ãŠã‘ã‚‹æŠ•ç¥¨ã®çµæœã€‚

æ¬¡ã®ææ¡ˆãŒæŠ•ç¥¨ã«ã‹ã‘ã‚‰ã‚Œã€C++29ã«ã‚€ã‘ã¦LWGã«è»¢é€ã•ã‚Œã¾ã—ãŸã€‚

- [P3391R0 constexpr std::format](https://wg21.link/P3391R0)

### [P3718R0 Fixing Lazy Sender Algorithm Customization, Again](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3718r0.html)

`std::excecution`ã«å¯¾ã™ã‚‹P2999R3ã®å•é¡Œç‚¹ã‚’ä¿®æ­£ã™ã‚‹ææ¡ˆã€‚

P2999ã«ã¤ã„ã¦ã¯ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P2999R3 Sender Algorithm Customization - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2023å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2024/02/29/191439#P2999R3-Sender-Algorithm-Customization)

ã“ã“ã§ã¯ä¸»ã«ã€`continues_on`ã¨`schedule_from`ã®æ‰±ã†ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆ`sender`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®æ¢ç´¢ã‚’è¡Œã†ç¯„å›²ãƒ»ç’°å¢ƒã€ã‚ã‚‹ã„ã¯`sender`ã®å®Œäº†åœ°ç‚¹ã®å®£è¨€ãã®ã‚‚ã®ï¼‰ã«é–¢ã™ã‚‹å•é¡Œã®ä¿®æ­£ãŒææ¡ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

1. `get-domain-late()`ã«ãŠã‘ã‚‹`continues_on`ã¨`schedule_from`ã®å–ã‚Šé•ãˆ
    - ãã®èª¬æ˜ã®ä¸­ã§`continues_on`ã¨`schedule_from`ã®å½¹å‰²ãŒé€†ã«ãªã£ã¦æ‰±ã‚ã‚Œã¦ã„ã‚‹
2. é…å»¶ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®å ´åˆã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å•ã„åˆã‚ã›å…ˆã®é–“é•ã„
    - ã‚ã‚‹`sender`ãŒ`connect`ã•ã‚ŒãŸæ™‚ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å•ã„åˆã‚ã›å…ˆã‚’ãã®`sender`ã«å¯¾ã—ã¦è¡Œã£ã¦ã„ãŸ
    - ã‚ã‚‹`sender`è‡ªèº«ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨å…ˆè¡Œ`sender`ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒä¸€è‡´ã™ã‚‹å ´åˆã¯å•é¡Œãªã„ã‚‚ã®ã®ä¸€è‡´ã—ãªã„å ´åˆã«å•é¡Œã«ãªã‚‹
        - `continues_on`ã¯è‡ªèº«ã®å®Œäº†åœ°ç‚¹ã¨å…ˆè¡Œ`sender`ã®å®Œäº†åœ°ç‚¹ãŒç•°ãªã‚‹ï¼ˆ=ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒç•°ãªã‚‹ï¼‰å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€å•é¡ŒãŒèµ·ã“ã‚Šã†ã‚‹
3. `get-domain-late()`ãŒå„ªå…ˆä½¿ç”¨ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒèª¤ã£ã¦ã„ã‚‹
    -  `get-domain-late()`ã¯æ¸¡ã•ã‚ŒãŸ`sender`ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ã€`receiver`ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ˆã‚Šã‚‚å„ªå…ˆã™ã‚‹
    -  `sender`ã¯è‡ªèº«ãŒã©ã“ã§å®Œäº†ã™ã‚‹ã‹ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã€`receiver`ã¯å‡¦ç†ï¼ˆå¾Œç¶š`sender`ï¼‰ãŒã©ã“ã§é–‹å§‹ã•ã‚Œã‚‹ã‹ã‚’çŸ¥ã£ã¦ã„ã‚‹
    -  `sender`ãŒé–‹å§‹ã•ã‚Œã‚‹å ´æ‰€ã«åŸºã¥ã„ã¦ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã‚’è¡Œã†å ´åˆã€`sender`ã§ã¯ãªã`receiver`ã«å•ã„åˆã‚ã›ã‚‹ã¹ã

`continues_on`ã¨`schedule_from`ã¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®é·ç§»ã‚’æ‰±ã†`sender`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚‹ãŸã‚ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å–å¾—ã«é–¢ã—ã¦ä»–ã®ä¸€èˆ¬ã®`sender`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ç•°ãªã‚‹ç‰¹åˆ¥ãªå¯¾å¿œãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚

ã“ã“ã§ã¯æ¬¡ã®è§£æ±ºç­–ã‚’ææ¡ˆã—ã¦ã„ã¾ã™

1. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ã‚’æŒãŸãªã„éè»¢é€ã®ã‚¯ã‚¨ãƒªã‚’è¡Œã†ã€`get_domain_override`ã‚¯ã‚¨ãƒªã‚’è¿½åŠ 
2. `get_scheduler`ã‚¯ã‚¨ãƒªã«æ„å‘³ã‚’æŒãŸã›ã‚‹ãŸã‚ã€æ“ä½œã®ä½œæˆã«ä½¿ç”¨ã—ãŸ`receiver`ã®ç’°å¢ƒã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸ`scheduler`ã®å®Ÿè¡Œã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¸Šã§æ“ä½œã‚’é–‹å§‹ã™ã‚‹ã“ã¨ã‚’è¦æ±‚ã™ã‚‹
3. `SCHED-ATTRS`ã¨`SCHED-ENV`ã®å®šç¾©ã‚’èª¿æ•´ã—ã€`get_domain`ã‚¯ã‚¨ãƒªã®è»¢é€ã‚’å›é¿ã™ã‚‹
4. èª¬æ˜å°‚ç”¨ã®`completion-domain`ãƒ˜ãƒ«ãƒ‘ã®å®šç¾©ã‚’ã‚’ç°¡ç´ åŒ–ã—ã€è¨­å®šå¯èƒ½ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä¸è¦ã«ã™ã‚‹
5. `get_domain_override(get_env(schedule_from(sch, sndr)))`ãŒ`sch`ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿”ã™ã“ã¨ã‚’è¦å®š
6. `get_domain_override(get_env(continues_on(sndr, sch)))`ãŒ`sndr`ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿”ã™ã“ã¨ã‚’è¦å®š
7. `get_domain_override(get_env(starts_on(sch, sndr)))`ãŒ`sch`ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿”ã™ã“ã¨ã‚’è¦å®š
8. `get-domain-late(sndr, env, def)`ã¯æ¬¡ã®ã„ãšã‚Œã‹ã¨ç­‰ä¾¡ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹
    - `get_domain_override(get_env(sndr))`: ã“ã®å¼ãŒwell-formedã®å ´åˆ
    - `get_domain(env)`: ãã†ã§ã¯ãªãã€ã“ã®å¼ãŒwell-formedã®å ´åˆ
    - `get_domain(get_scheduler(env))`: ãã†ã§ã¯ãªãã€ã“ã®å¼ãŒwell-formedã®å ´åˆ
    - ãã‚Œä»¥å¤–ã®å ´åˆ: `def`
9.  `sync_wait`ãŠã‚ˆã³`sync_wait_with_variant`ã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚’æ¢ç´¢ã™ã‚‹éš›ã«`get-domain-late(sndr, sync-wait-env{}, get-domain-early(sndr))`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æŒ‡å®š

ã“ã‚Œã‚‰ã®äº‹ã¯ã€NVIDIAã®CCCLã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå‘ã‘ã®GPUã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’å†å®Ÿè£…ã—ã¦ã„ã‚‹éš›ã«ç™ºè¦‹ã•ã‚ŒãŸã‚‚ã®ã®ã‚ˆã†ã§ã€CCCLãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŠã‚ˆã³stdexecã«ãŠã„ã¦ã“ã‚Œã‚‰ã®è¨­è¨ˆã¯å®Ÿè£…æ¸ˆã¿ã§ã‚ã‚‹ã‚ˆã†ã§ã™ã€‚

- [P3718 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2350)

### [P3719R0 `std::is_vector_bool_reference`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3719r0.html)

`std::vector<bool>`ã‚’æ¤œå‡ºã™ã‚‹å‹ç‰¹æ€§ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«ã‚ã‚‹é–¢æ•°ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚’ç‰¹å®šã®å‹ã”ã¨ã«ç”¨æ„ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„å ´åˆ

```cpp
// ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã€å‹ã”ã¨ã®read()é–¢æ•°ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãŒå¤§é‡ã«ã‚ã‚‹
void read(bool& b);
void read(int& b);
void read(long& b);
void read(long long& b);
// ... many more
```

ã“ã®ã¨ãã€`std::vector<bool>`ï¼ˆã®è¦ç´ å‹ï¼‰ã«ã‚‚å¯¾å¿œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã«æ°—ã¥ãã¾ã™ã€‚ç§»æ¤æ€§ã®ã‚ã‚‹æ–¹æ³•ã¨ã—ã¦æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¨ãŠãŠã‚€ã­ã†ã¾ãã„ãã¾ã™

```cpp
void read(std::vector<bool>::reference b);
```

ã—ã‹ã—ã€ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ãŒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸ`std::vector<bool, MyAllocator>`ã®ã‚ˆã†ãªã‚‚ã®ã«ã“ã‚Œã§ã¯å¯¾å¿œã§ããªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãªãœãªã‚‰ã€`std::vector<bool, MyAllocator>::reference`ã¨`std::vector<bool>::reference`ãŒå®Ÿè£…ã«ã‚ˆã£ã¦ã¯ç•°ãªã‚‹å‹ã§ã‚ã‚‹å ´åˆã‚‚ãã†ã§ãªã„å ´åˆã‚‚ã‚ã‚‹ãŸã‚ã§ã™ã€‚å®Ÿéš›ã€libstdc++ã§ã¯åŒã˜å‹ã§ã‚ã‚Šã€MSVC STLã§ã¯ç•°ãªã‚‹å‹ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ã‚ˆã†ãªå ´åˆã«ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–ã™ã‚‹ã ã‘ã§ã¯ã“ã‚Œã‚’è§£æ±ºã§ãã¾ã›ã‚“ã€‚

```cpp
template <typename Alloc>
void read(std::vector<bool, Alloc>::reference b);
```

ã“ã®ã‚ˆã†ãªé–¢æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ãŠã„ã¦ã¯ã€`Alloc`ã¯æ¨è«–ã§ããªã„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ã‚ã‚‹ãŸã‚æ¨è«–ã«å¤±æ•—ã—ã¾ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€`std::vector<bool>::reference`ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿å‹ã«ã‚ˆã‚‰ãšã«è­˜åˆ¥ã™ã‚‹ãŸã‚ã«ã€`std::is_vector_bool_reference<T>`å‹ç‰¹æ€§ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚ã“ã®ã‚ˆã†ãªå‹ç‰¹æ€§ã¯æ¨™æº–ã«ãŠã„ã¦ã‚‚èª¬æ˜å°‚ç”¨ã®`is-vector-bool-reference`ã¨ã—ã¦å­˜åœ¨ã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã‚Œã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã ã‘ã§ã™ã€‚

`std::is_vector_bool_reference<T>`ã¯ã€`T`ãŒä»»æ„ã®ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿å‹`Alloc`ã«å¯¾ã™ã‚‹`std::vector<bool, Alloc>::reference`å‹ã‚’ç¤ºã—ã¦ãŠã‚Šã€ã‹ã¤`std::vector<bool, Alloc>`ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ å®šç¾©ã®ç‰¹æ®ŠåŒ–ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ç‰¹æ®ŠåŒ–ï¼‰ã§ã¯ãªã„å ´åˆã«`true`ã‚’è¿”ã™ã‚‚ã®ã§ã™ã€‚

ã“ã‚Œã‚’ç”¨ã„ã‚‹ã¨ã€å…ˆã»ã©ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã®å•é¡Œã¯ã‚·ãƒ³ãƒ—ãƒ«ã«æ›¸ãã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™

```cpp
template <typename BitReference>
    requires std::is_vector_bool_reference_v<BitReference>
void read(BitReference b);
```

- [P3719 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2351)

### [P3721R0 Slides for P3639R0](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3721r0.html)

P3639R0ã®ç´¹ä»‹ã‚¹ãƒ©ã‚¤ãƒ‰ã€‚

P3639R0ã«ã¤ã„ã¦ã¯ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P3639R0 The _BitInt Debate - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2025å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/09/30/224815#P3639R0-The-_BitInt-Debate)

P3639R0ã®å†…å®¹ãŒç°¡å˜ã«è§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚

### [P3722R0 Slides for P3568R1](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3722r0.html)

P3568R1ã®ç´¹ä»‹ã‚¹ãƒ©ã‚¤ãƒ‰ã€‚

- [P3568R1 break label; and continue label; - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2025å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/09/30/224815#P3568R1-break-label-and-continue-label)

ä¸»ã«æ§‹æ–‡å€™è£œã®é¸æŠéç¨‹ï¼ˆWG14 N3355ã‚’æ¡ç”¨ï¼‰ã¨ã€ãã®æ§‹æ–‡ã®å•é¡Œç‚¹ã®è§£æ¶ˆï¼ˆé‡è¤‡ãƒ©ãƒ™ãƒ«ã®è¨±å¯ï¼‰ã«ã¤ã„ã¦ã‚’èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚

### [P3724R0 Integer division](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3724r0.html)

å•†ã¨å‰°ä½™ã‚’æ§˜ã€…ãªä¸¸ã‚ãƒ¢ãƒ¼ãƒ‰ã§è¨ˆç®—ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–¢æ•°ã®ææ¡ˆã€‚

C++ã®ç¾åœ¨ã®`/`ã¯åˆ‡ã‚Šæ¨ã¦é™¤ç®—ã‚’è¡Œã„ã¾ã™ã€‚ã—ã‹ã—ã€ä¸¸ã‚ãƒ¢ãƒ¼ãƒ‰ã¯åˆ‡ã‚Šæ¨ã¦ã ã‘ã§ã¯ãªãä»–ã®ã‚‚ã®ã‚‚æœ‰ç”¨ã¨æ€ã‚ã‚Œã¾ã™ã€‚ã¾ãŸã€æ¨™æº–ã®ä¸¸ã‚æ–¹æ³•ã§ã¯å‰²ã‚‰ã‚Œã‚‹æ•°ãŒè² ã®å ´åˆãªã©ã«å‰°ä½™ãŒè² ã®å€¤ã«ãªã‚‹å ´åˆã‚‚ã‚ã‚Šã€ã“ã®å‹•ä½œã‚‚æœ›ã¾ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚

ã“ã®ã‚ˆã†ãªå•é¡Œã‚’å›é¿ã™ã‚‹ã®ã¯éå¸¸ã«å˜ç´”ã«æ€ãˆã¾ã™ãŒã€å®Ÿéš›ã«ã¯`/`ã«å­˜åœ¨ã™ã‚‹æœªå®šç¾©å‹•ä½œã‚’å›é¿ã—ãªãŒã‚‰ä¸¸ã‚æ–¹æ³•ã‚’å¤‰æ›´ã™ã‚‹ã®ã¯é©šãã»ã©é›£ã—ãã€å°‘ã—èª¿ã¹ã¦å‡ºã¦ãã‚‹ã‚ˆã†ãªæ–¹æ³•ã¯ã»ã¨ã‚“ã©ãŒé–“é•ã£ã¦ã„ã‚‹ã‹ã€å•é¡Œã‚’æŠ±ãˆã¦ã„ã¾ã™ï¼ˆææ¡ˆæ–‡æ›¸ã«ã¯ãã®ä¾‹ãŒã„ãã¤ã‹æ²è¼‰ã•ã‚Œã¦ã„ã¾ã™ï¼‰ã€‚ã•ã‚‰ã«ã€å‰°ä½™ã«é–¢ã—ã¦ã‚‚æ•´æ•°ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’å›é¿ã™ã‚‹å¿…è¦æ€§ã«ã‚ˆã£ã¦ã‚»ãƒ­æ–¹å‘ä»¥å¤–ã®ä¸¸ã‚ãƒ¢ãƒ¼ãƒ‰ã§æ­£ã—ãè¨ˆç®—ã™ã‚‹ã®ã¯å›°é›£ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ä¸¸ã‚æ–¹æ³•ã‚’æŒ‡å®šã—ã¦å•†ã¨å‰°ä½™ã‚’æ±‚ã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–¢æ•°ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ç¾åœ¨ã®`/`ãŠã‚ˆã³`%`ã«ä»£ã‚ã£ã¦æ‰€æœ›ã®ä¸¸ã‚æ–¹æ³•ã§å•†ã¨å‰°ä½™ã‚’æ±‚ã‚ã‚‹æ–¹æ³•ã‚’æä¾›ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ææ¡ˆæ–‡æ›¸ã‚ˆã‚Šã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```cpp
const int bucket_size = 1000;
int elements = 100;

int buckets_required = elements / bucket_size; // WRONG, zero
int buckets_required = std::div_to_inf(elements, bucket_size); // OK, one bucket
```

ææ¡ˆã—ã¦ã„ã‚‹é–¢æ•°ã¯ã€ãã®åå‰ãŒå•†ã‚’è¨ˆç®—ã™ã‚‹ã‚‚ã®ã¯`div_`ã€å‰°ä½™ã‚’è¨ˆç®—ã™ã‚‹ã‚‚ã®ã¯`div_rem_`ã§å§‹ã¾ã‚Šã€ãã‚Œã«ç¶šã„ã¦ä¸¸ã‚æ–¹æ³•ãŒæŒ‡å®šã•ã‚Œã‚‹å½¢ã®å‘½åã«ãªã£ã¦ã„ã¾ã™ã€‚

```cpp
namespace std {
  template<class T>
    constexpr T div_to_zero(T x, T y);
  template<class T>
    constexpr T div_away_zero(T x, T y);
  template<class T>
    constexpr T div_to_inf(T x, T y);
  template<class T>
    constexpr T div_to_neg_inf(T x, T y);
  template<class T>
    constexpr T div_to_odd(T x, T y);
  template<class T>
    constexpr T div_to_even(T x, T y);
  template<class T>
    constexpr T div_ties_to_zero(T x, T y);
  template<class T>
    constexpr T div_ties_away_zero(T x, T y);
  template<class T>
    constexpr T div_ties_to_inf(T x, T y);
  template<class T>
    constexpr T div_ties_to_neg_inf(T x, T y);
  template<class T>
    constexpr T div_ties_to_odd(T x, T y);
  template<class T>
    constexpr T div_ties_to_even(T x, T y);

  template<class T>
    constexpr div_result<T> div_rem_to_zero(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_away_zero(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_to_inf(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_to_neg_inf(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_to_odd(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_to_even(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_ties_to_zero(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_ties_away_zero(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_ties_to_inf(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_ties_to_neg_inf(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_ties_to_odd(T x, T y);
  template<class T>
    constexpr div_result<T> div_rem_ties_to_even(T x, T y);
}
```

`div_rem_`é–¢æ•°ã®æˆ»ã‚Šå€¤å‹ã®`div_result<T>`ã¯å•†ã¨å‰°ä½™ã®å€¤ã‚’åŒæ™‚ã«ä¿æŒã—ã¦ã„ã‚‹é›†æˆä½“å‹ã§ã™ã€‚

```cpp
namespace std {
  template<class T>
  struct div_result {
    T quotient;
    T remainder;

    friend auto operator<=>(const div_result&, const div_result&) = default;
  };
}
```

éå¸¸ã«ãŸãã•ã‚“ã®é–¢æ•°ãŒã‚ã‚Šã¾ã™ãŒã€`div_`ã¨`div_rem_`ã§å¤‰ç¨®ã¯å…±é€šã—ã¦ãŠã‚Šã€ãã‚Œã¯ã™ã¹ã¦ä¸¸ã‚ãƒ¢ãƒ¼ãƒ‰ã®é•ã„ã§ã™ã€‚

- `to_zero`
    - ã‚¼ãƒ­æ–¹å‘ä¸¸ã‚
    - `/`ã¨åŒã˜å‹•ä½œ
- `away_zero`
    - ã‚¼ãƒ­ã¨é€†æ–¹å‘ã¸ã®ä¸¸ã‚
- `to_inf`
    - æ­£ã®ç„¡é™å¤§æ–¹å‘ã¸ã®ä¸¸ã‚ï¼ˆåˆ‡ã‚Šä¸Šã’
- `to_neg_inf`
    - è² ã®ç„¡é™å¤§æ–¹å‘ã¸ã®ä¸¸ã‚ï¼ˆåˆ‡ã‚Šæ¨ã¦
- `to_odd`
    - å¥‡æ•°ä¸¸ã‚
- `to_even`
    - å¶æ•°ä¸¸ã‚
- `ties_to_zero`
    - æœ€è¿‘æ¥ä¸¸ã‚ï¼ˆæœ€ã‚‚è¿‘ã„æ•´æ•°ã¸ã®ä¸¸ã‚
    - æœ€ã‚‚è¿‘ã„æ•´æ•°ãŒ2ã¤ã‚ã‚‹å ´åˆã¯ã‚¼ãƒ­æ–¹å‘ï¼ˆçµ¶å¯¾å€¤ã®å°ã•ã„ã»ã†ï¼‰ã¸ä¸¸ã‚ã‚‹
- `ties_away_zero`
    - æœ€è¿‘æ¥ä¸¸ã‚
    - æœ€ã‚‚è¿‘ã„æ•´æ•°ãŒ2ã¤ã‚ã‚‹å ´åˆã¯çµ¶å¯¾å€¤ã®å¤§ãã„ã»ã†ã¸ä¸¸ã‚ã‚‹
- `ties_to_inf`
    - æœ€è¿‘æ¥ä¸¸ã‚
    - æœ€ã‚‚è¿‘ã„æ•´æ•°ãŒ2ã¤ã‚ã‚‹å ´åˆã¯æ­£ã®ç„¡é™å¤§æ–¹å‘ï¼ˆå¤§ãã„ã»ã†ï¼‰ã¸ä¸¸ã‚ã‚‹
- `ties_to_neg_inf`
    - æœ€è¿‘æ¥ä¸¸ã‚
    - æœ€ã‚‚è¿‘ã„æ•´æ•°ãŒ2ã¤ã‚ã‚‹å ´åˆã¯è² ã®ç„¡é™å¤§æ–¹å‘ï¼ˆå°ã•ã„ã»ã†ï¼‰ã¸ä¸¸ã‚ã‚‹
- `ties_to_odd`
    - æœ€è¿‘æ¥ä¸¸ã‚
    - æœ€ã‚‚è¿‘ã„æ•´æ•°ãŒ2ã¤ã‚ã‚‹å ´åˆã¯å¥‡æ•°ã®ã»ã†ã¸ä¸¸ã‚ã‚‹
- `ties_to_even`
    - æœ€è¿‘æ¥ä¸¸ã‚
    - æœ€ã‚‚è¿‘ã„æ•´æ•°ãŒ2ã¤ã‚ã‚‹å ´åˆã¯å¶æ•°ã®ã»ã†ã¸ä¸¸ã‚ã‚‹

ã“ã‚Œã«åŠ ãˆã¦ã€é™¤ç®—ã®å‰°ä½™ã‚’å¸¸ã«è² ã®ç„¡é™å¤§æ–¹å‘ã¸ä¸¸ã‚ã‚‹`std::mod()`ã‚‚ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚

```cpp
namespace std{
  template<class T>
    constexpr T mod(T x, T y);
}
```

ã“ã‚Œã¯ã€å‰°ä½™ã®ç¬¦å·ãŒå‰²ã‚‹æ•°ã¨åŒã˜ã«ãªã‚Šã€ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼æ¼”ç®—ã‚’æ„å›³ã™ã‚‹ã¨ã“ã‚ã§æœ‰åŠ¹ã«ä½¿ç”¨ã§ãã‚‹ãŸã‚å°‚ç”¨ã®é–¢æ•°ã¨ã—ã¦ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P3724 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2354)

### [P3725R0 Filter View Extensions for Input Ranges](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3725r0.pdf)

â†“

### [P3725R1 Filter View Extensions for Input Ranges](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3725r1.pdf)

`views::filter`ã®å•é¡Œç‚¹ã‚’è»½æ¸›ã—ã‚ˆã†ã¨ã™ã‚‹ææ¡ˆã€‚

P3329R0ã§æŒ‡æ‘˜ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€`views::filter`ã«ã¯è½ã¨ã—ç©´ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚

- [P3329R0 Healing the C++ Filter View - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´12æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/05/18/195724#P3329R0-Healing-the-C-Filter-View)

ã“ã®ææ¡ˆã§ã‚‚ã„ãã¤ã‹æ–°ã—ã„ã‚µãƒ³ãƒ—ãƒ«ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ãŒã€ã“ã®ææ¡ˆã¯ãã‚Œã‚‰ã®å•é¡Œã‚’ç·©å’Œã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã“ã§ã®å¤‰æ›´ã¯

- `filter_view`ã«`begin()/end()`ã®`const`ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚’è¿½åŠ 
    - ä½¿ç”¨å¯èƒ½ãªã®ã¯ã€å…¥åŠ›ç¯„å›²ï¼ˆ`const`åŒ–ã—ãŸã‚‚ã®ï¼‰ãŒ`input_range`ã§ã—ã‹ãªã„å ´åˆ
- `views::filter`ã®å…¥åŠ›ç¯„å›²ãŒ`input_range`ã§ã—ã‹ãªã„å ´åˆã¯ã€ãƒ•ã‚£ãƒ«ã‚¿çµæœè¦ç´ ã®å¤‰æ›´ã‚’è¨±å¯ã™ã‚‹
    - ç¾åœ¨ã¯æœªå®šç¾©å‹•ä½œ
- `views::input_filter`ã‚¢ãƒ€ãƒ—ã‚¿ã®è¿½åŠ 
    - å…¥åŠ›ç¯„å›²ã«`views::to_input`ã‚’é©ç”¨ã—ã¦ä½¿ç”¨ã™ã‚‹`views::filter`
    - ä»–ã®å¤‰æ›´ã¨åˆã‚ã›ã¦ã€`input_range`ã«ã—ã‹ãªã‚‰ãªã„ã“ã¨ã§è¦ç´ ã®å¤‰æ›´ï¼ˆãƒ ãƒ¼ãƒ–ï¼‰ã‚’è¨±å¯ã™ã‚‹ãªã©ã€æ—¢çŸ¥ã®å•é¡Œã‚’ç·©å’Œã™ã‚‹

ãªã©ã§ã™ã€‚

ææ¡ˆæ–‡æ›¸ã‚ˆã‚Šã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```cpp
auto large = [](const auto& s) { return s.size() > 5; }; 
auto sub = coll1 | std::views::filter(large) 
                 | std::views::reverse 
                 | std::views::as_rvalue 
                 | std::ranges::to<std::vector>(); 
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€`as_rvalue`ã«ã‚ˆã£ã¦ãƒ•ã‚£ãƒ«ã‚¿å¾Œè¦ç´ ã‚’ãƒ ãƒ¼ãƒ–ã—ã¦ã„ã‚‹ã“ã¨ã«ã‚ˆã£ã¦æœªå®šç¾©å‹•ä½œã¨ãªã£ã¦ã„ã¾ã™ã€‚å®Ÿè£…ãŒåŒã˜ãƒ•ã‚£ãƒ«ã‚¿å¾Œã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’2å›ä»¥ä¸Šé–“æ¥å‚ç…§ã—ãŸã‚Šã™ã‚‹ã¨å•é¡ŒãŒèµ·ã“ã‚Šã¾ã™ã€‚

```cpp
auto large = [](const auto& s) { return s.size() > 5; }; 
auto sub = coll1 | std::views::input_filter(large) 
                 | std::views::reverse 
                 | std::views::as_rvalue 
                 | std::ranges::to<std::vector>();  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
```

`views::filter`ã‚’ä½¿ç”¨ã—ãŸã¾ã¾ã§ã¯ã“ã®ææ¡ˆã§ã‚‚ã“ã®å•é¡Œã¯ç·©å’Œã•ã‚Œã¾ã›ã‚“ãŒã€`views::input_filter`ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦å•é¡ŒãŒå ±å‘Šã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```cpp
void constIterate(const auto& coll);  // å¼•æ•°ã‚’constã§å—ã‘ã‚‹

std::vector<std::string> coll3{"Amsterdam", "Berlin", "Cologne", "LA"};

auto large = [](const auto& s) { return s.size() > 5; };
constIterate(coll3 | std::views::filter(large));  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
```

ç¾åœ¨ã®`views::filter`ã¯const-iterableã§ã¯ãªã„ãŸã‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ãŒã€`views::input_filter`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

SG9ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ãŠã„ã¦ã¯å¤§ããªåå¯¾æ„è¦‹ã¯ãªã‹ã£ãŸã‚ˆã†ã§ã€LEWGã«è»¢é€ã•ã‚Œã‚‹ã“ã¨ãŒæŠ•ç¥¨ã§å¯æ±ºã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P3725 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2355)

### [P3726R0 Adjustments to Union Lifetime Rules](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3726r0.html)

ãƒˆãƒªãƒ“ã‚¢ãƒ«ãªå…±ç”¨ä½“ã‚’å®šæ•°å¼ã§ä½¿ç”¨å¯èƒ½ã«ã™ã‚‹ãŸã‚ã«åˆ¶é™ã‚’ç·©å’Œã™ã‚‹ææ¡ˆã€‚

P3074R7ã§ã¯ã€å…±ç”¨ä½“ã‚’ä½¿ç”¨ã—ãŸæ¬¡ã®ã‚ˆã†ãªå®Ÿè£…ã«ã‚ˆã‚‹`inplace_vector`ã‚’å®šæ•°å¼ã§ä½¿ç”¨å¯èƒ½ã«ã™ã‚‹ãŸã‚ã®å…±ç”¨ä½“ã®ãƒ«ãƒ¼ãƒ«ã®èª¿æ•´ãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚

```cpp
template <typename T, size_t N>
struct FixedVector {
  union { T storage[N]; };
  size_t size = 0;

  constexpr FixedVector() = default;

  constexpr ~FixedVector() {
    std::destroy(storage, storage + size);
  }

  constexpr auto push_back(T const& v) -> void {
    ::new (storage + size) T(v);
    ++size;
  }
};

constexpr auto silly_test() -> size_t {
  FixedVector<std::string, 3> v;
  v.push_back("some sufficiently longer string");
  return v.size;
}

static_assert(silly_test() == 1);
```

ã“ã“ã§ã®`union { T storage[N]; };`ã®å½¹å‰²ã¯å®šæ•°å¼ã§ä½¿ç”¨å¯èƒ½ãªé…å»¶åˆæœŸåŒ–ç”¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã™ã€‚ä»¥å‰ã¯ã“ã‚ŒãŒå®šæ•°å¼ã§ä½¿ç”¨å¯èƒ½ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€P3074R7ã«ã¦å®šæ•°å¼ã§ä½¿ç”¨å¯èƒ½ã«ãªã‚‹ã‚ˆã†ã«ã„ãã¤ã‹ã®èª¿æ•´ãŒåŠ ãˆã‚‰ã‚Œã€C++26ã§åˆ©ç”¨å¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚

P3074R7ã®å¤‰æ›´ã¯ãŠãŠã‚€ã­æ¬¡ã®ã‚‚ã®ã§ã™

- å…±ç”¨ä½“ã«ãƒˆãƒªãƒ“ã‚¢ãƒ«ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¨ãƒˆãƒªãƒ“ã‚¢ãƒ«ãªãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’æš—é»™çš„ã«å®šç¾©ã•ã›ã‚‹
- å…±ç”¨ä½“ã®æœ€åˆã®ãƒ¡ãƒ³ãƒãŒimplicit-lifetime typeã§ã‚ã‚‹å ´åˆã€ãã®ãƒ¡ãƒ³ãƒã®ç”Ÿå­˜æœŸé–“ã‚’æš—é»™çš„ã«é–‹å§‹ã™ã‚‹

ã—ã‹ã—ã€ãã®å¾Œå¯„ã›ã‚‰ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«ã‚ˆã£ã¦ã“ã‚Œã ã‘ã§ã¯ç›®çš„ã‚’é”æˆã§ããªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚

å•é¡Œã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒP3074R7ã«ã‚ˆã£ã¦æŒ¯ã‚‹èˆã„ãŒå¤‰ã‚ã‚‹ã“ã¨ã§ã™

```cpp
union U { int a, b; };

template<U u>
class X {};

constexpr U make() { U u; return u; }

void f(X<make()>) {}
```

P3047R7ä»¥å‰ã¯ã€`X<make()>`ã®NTTPã¯ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã‚’æŒãŸãªã„å…±ç”¨ä½“ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã ã£ãŸã®ã§NTTPã¨ã—ã¦æœ‰åŠ¹ã§ã—ãŸã€‚ã—ã‹ã—ã€P3074R7ã®å¤‰æ›´ã«ã‚ˆã£ã¦ã“ã®`u`ã¯æœ€åˆã®ãƒ¡ãƒ³ãƒã®ç”Ÿå­˜æœŸé–“æš—é»™çš„çš„ã«é–‹å§‹ã•ã‚Œã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã‚’æŒã¤ãŸã‚ã€NTTPã¨ã—ã¦ä½¿ç”¨ã§ããšã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚Šã¾ã™ã€‚

ã¾ãŸã€ä»®ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé€šã£ãŸã¨ã™ã‚‹ã¨ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã‚’æŒã¤ã“ã¨ã‹ã‚‰ãƒãƒ³ã‚°ãƒ«åã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ABIç ´æå¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã‚’æŒã¤ã‚ˆã†ã«ãªã‚‹ã¨NTTPã¨ã—ã¦é©æ ¼ã§ãªããªã‚‹ã®ã¯å°‘ã—è¤‡é›‘ã§ã™ãŒã€ã¾ãš[expr.const]ã«ã‚ã‚‹å®šæ•°å¼ã®åˆ¶é™ã®ã†ã¡ã€*prvalue*å¼ã®çµæœã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆè¦ç´ ã®å€¤ï¼ˆ*constituent value*ï¼‰ã«ã¤ã„ã¦ã®åˆ¶é™ãŒã‚ã‚Šã€ãã“ã§ã¯ã‚¹ã‚«ãƒ©å‹ã®æ§‹æˆè¦ç´ ã®å€¤ã¯ä¸å®šå€¤ã‚‚ã—ãã¯erroneous valueã‚’æŒã£ã¦ã„ã¦ã¯ãªã‚‰ãªã„ã€ã¨ã„ã†è¦å®šãŒã‚ã‚Šã¾ã™ã€‚

ãã—ã¦ã€ã“ã®æ§‹æˆè¦ç´ ã®å€¤ã®å®šç¾©ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™

> The constituent values of an object `o` are
> 
>   - if `o` has scalar type, the value of `o`;
>   - otherwise, the constituent values of any direct subobjects of `o` other than inactive union members.

å•é¡Œã¯2ã¤ç›®ã®æ¡ä»¶ã§ã€å…±ç”¨ä½“å‹ã‚’å«ã‚€ã‚¯ãƒ©ã‚¹å‹ã®å ´åˆã€æ§‹æˆè¦ç´ ã®å€¤ã¨ã¯ãã®ã‚µãƒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆè¦ç´ ã®å€¤ã®é›†åˆã®äº‹ã‚’è¨€ã£ã¦ãŠã‚Šã€ãã“ã«ã¯å…±ç”¨ä½“ã®éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã¯å«ã¾ã‚Œã¾ã›ã‚“ã€‚

å…±ç”¨ä½“å…ˆé ­ã®implicit-lifetime typeãƒ¡ãƒ³ãƒã®ç”Ÿå­˜æœŸé–“ãŒé–‹å§‹ã•ã‚Œã‚‹ã¨ãã®ãƒ¡ãƒ³ãƒãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã«ãªã‚‹ã‚‚ã®ã®ã€ãã®å€¤ã¯åˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„ãŸã‚ä¸å®šå€¤ã‚’æŒã¤ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ã“ã‚Œã«ã‚ˆã£ã¦ã€ã‚¹ã‚«ãƒ©å‹ãƒ¡ãƒ³ãƒã®ã¿ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹å…±ç”¨ä½“ãŒNTTPï¼ˆã¨ã„ã†ã‹å®šæ•°å¼å†…*prvalue*ï¼‰ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹éš›ã®æŒ¯ã‚‹èˆã„ãŒå¤‰åŒ–ã—ã¦ã„ã¾ã™ã€‚

ã“ã®ãŸã‚ã€P3047R7ã®ç›®çš„ã¯ã¾ãŸé”æˆã•ã‚Œã¦ã„ã¾ã›ã‚“

```cpp
constexpr std::inplace_vector<int, 4> v = {1, 2}; // ng
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯å…ˆã»ã©ã®`FixedVector`ã®å®Ÿè£…ã¨åŒã˜å®Ÿè£…ã«ãªã‚‹å ´åˆã€`union { int storage[4]; }`ãŒä½¿ç”¨ã•ã‚Œã‚‹ã‚‚ã®ã®ã€æœ€åˆã®2ã¤ã®è¦ç´ ã ã‘ãŒåˆæœŸåŒ–ã•ã‚Œã¦æ®‹ã‚Šã®è¦ç´ ã¯åˆæœŸåŒ–ã•ã‚Œãªã„ã“ã¨ã§ä¸å®šå€¤ã‚’æŒã¡ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

ã“ã“ã§ã®å•é¡Œã¯æ¬¡ã®2ç‚¹ã§ã™

1. å…±ç”¨ä½“ãŒå®šæ•°å¼ã§æ„å›³ã—ãªã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã‚’æŒã£ã¦ã—ã¾ã†ã“ã¨
2. æ§‹æˆè¦ç´ ã®å€¤ã®åˆ¶é™

ã“ã®ææ¡ˆã¯ã“ã‚Œã‚‰2ã¤ã®å•é¡Œã‚’ãã‚Œãã‚Œè§£æ±ºã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

1ã¤ç›®ã®å•é¡Œã«ã¤ã„ã¦ã¯P3047R7ã®å¤‰æ›´ã‚’revertã—ã€ãƒˆãƒªãƒ“ã‚¢ãƒ«ãªå…±ç”¨ä½“ã®implicit-lifetime typeãƒ¡ãƒ³ãƒã®ç”Ÿå­˜æœŸé–“ãŒè‡ªå‹•é–‹å§‹ã•ã‚Œã‚‹ãƒã‚¤ãƒ³ãƒˆã‚’placment newã¾ã§é…å»¶ã—ã¾ã™ã€‚


```cpp
template <typename T, size_t N>
struct FixedVector {
  union { T storage[N]; };  // P3047R7ã¯ã“ã“ã§æš—é»™çš„ã«storageã®ç”Ÿå­˜æœŸé–“ãŒé–‹å§‹ã•ã‚Œã¦ã„ãŸ
  size_t size = 0;

  constexpr FixedVector() = default;

  constexpr ~FixedVector() {
    std::destroy(storage, storage + size);
  }

  constexpr auto push_back(T const& v) -> void {
    ::new (storage + size) T(v);  // ã“ã®ææ¡ˆã§ã¯ã€ã“ã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«æš—é»™çš„ã«storageã®ç”Ÿå­˜æœŸé–“ã‚’é–‹å§‹ã™ã‚‹
    ++size;
  }
};

constexpr auto silly_test() -> size_t {
 FixedVector<std::string, 3> v;
 v.push_back("some sufficiently longer string");
 return v.size;
}

static_assert(silly_test() == 1);
```

å…ƒã€…ã®å•é¡Œã®ä¸€éƒ¨ã¯ã€placement newã®éš›ã«`storage`ãƒ¡ãƒ³ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã«ãã®ç”Ÿå­˜æœŸé–“ãŒé–‹å§‹ã•ã‚Œã¦ã„ãªã„äº‹ã ã£ãŸã®ã§ã€placement newã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«ãã‚ŒãŒæš—é»™çš„ã«è¡Œã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã§å…ƒã®å•é¡Œã‚’è§£æ±ºã§ãã¾ã™ã€‚ãã—ã¦ã€`union U { int a, b; };`ã®æ§˜ãªå…±ç”¨ä½“ã¯å†ã³ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã‚’æŒãŸãªããªã‚Šã¾ã™ã€‚

2ã¤ç›®ã®å•é¡Œã«ã¤ã„ã¦ã¯ã€æ§‹æˆè¦ç´ ã®å€¤ã®å®šç¾©ã‚’å¤‰æ›´ã—ã¦ã€å…±ç”¨ä½“å†…é…åˆ—ã®å„è¦ç´ ã®åˆæœŸåŒ–çŠ¶æ…‹ã«ã¤ã„ã¦æ­¯æŠœã‘ã‚’è¨±å®¹ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å…±ç”¨ä½“å†…é…åˆ—ã®ã©ã“ã‹ã®è¦ç´ ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ãªãã¦ã‚‚ã€ãã‚Œã¯éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒã¨åŒæ§˜ã«æ§‹æˆè¦ç´ ã®å€¤ã¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œç„¡ããªã‚‹ãŸã‚ã€é…åˆ—ãã®ã‚‚ã®ã®ç”Ÿå­˜æœŸé–“ãŒé–‹å§‹ã•ã‚Œã¦ã„ã‚‹å ´åˆã«ã‚‚å…±ç”¨ä½“ã®æ§‹æˆè¦ç´ ã®å€¤å†…ã«ä¸å®šå€¤ãŒå«ã¾ã‚Œãªããªã‚Šã¾ã™ã€‚

ã“ã‚Œã‚‰ã®ä¿®æ­£ï¼ˆç‰¹ã«2ã¤ç›®ï¼‰ã«ã‚ˆã£ã¦ã€å…ˆã»ã©ã®`inplace_vector`ã®ä¾‹ã¯å®šæ•°å¼ã§å‹•ä½œã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```cpp
constexpr std::inplace_vector<int, 4> v = {1, 2}; // okã€ã“ã®ææ¡ˆå¾Œ
```

ã“ã®ææ¡ˆã¯ã“ã®è¨˜äº‹åŸ·ç­†æ™‚ç‚¹ï¼ˆC++26ã®æ©Ÿèƒ½å‡çµå¾Œï¼‰ã§ã‚‚ã¾ã æ¡æŠå‰ã§ã™ãŒã€ãƒˆãƒªãƒ“ã‚¢ãƒ«ãªå…±ç”¨ä½“ã«ã¤ã„ã¦å¤šæ•°ã®NBã‚³ãƒ¡ãƒ³ãƒˆãŒå¯„ã›ã‚‰ã‚Œã¦ãŠã‚Šã€ãã®è§£æ±ºã®ãŸã‚ã«é…ã‚Œã¦C++26ã«æ¡æŠã•ã‚Œã‚‹äºˆå®šã§ã™ã€‚

- [P3074R7 trivial unions (was `std::uninitialized<T>`) - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2025å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/09/30/224815#P3074R7-trivial-unions-was-stduninitialized)
- [P3726 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2356)

### [P3727R0 Update Annex E based on Unicode 15.1 UAX #31](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3727r0.pdf)

C++æ¨™æº–æ–‡æ›¸ã®Annex Eï¼ˆUAX31ã¸ã®å‚ç…§ï¼‰ã®è¨˜è¿°ã‚’ã‚’Unicode 15.1ã«åˆã‚ã›ã¦æ›´æ–°ã™ã‚‹ææ¡ˆã€‚

èƒŒæ™¯ç­‰ã¯P3717R0ã‚’å‚ç…§

- [P3717R0 Update Annex E onto Unicode 16 - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2025å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/12/16/230316#P3717R0-Update-Annex-E-onto-Unicode-16)

ã“ã®ææ¡ˆã§ã¯ã€P3717ã¨ã¯ç•°ãªã‚Šã€Unicode 16ã§ã¯ãªãUnicode 15.1ã§ã®UAX31ã®å½¢å¼ã«åˆã‚ã›ã¦æ›´æ–°ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚ä¸»ãªå¤‰æ›´ã¯P3717åŒæ§˜ã«ã€ŒUAX31-R1a Restricted Format Charactersã€ã«é–¢ã™ã‚‹è¨˜è¿°ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã§ã€ã“ã¡ã‚‰ã®ææ¡ˆã¯[CWG Issue 2843](https://cplusplus.github.io/CWG/issues/2843.html)ã®è§£æ±ºã®ã¿ã‚’ï¼ˆUnicode 15.1ã§ï¼‰è¡Œã†ã“ã¨ã‚’æ„å›³ã—ãŸã‚‚ã®ã®æ§˜ã§ã™ã€‚

SG16ãªã©ã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®çµæœã€çµå±€[CWG Issue 2843](https://cplusplus.github.io/CWG/issues/2843.html)ã®å¤‰æ›´ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚

- [CWG Issue 2843. Undated reference to Unicode makes C++ a moving target](https://cplusplus.github.io/CWG/issues/2843.html)
- [P3727 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2357)

### [P3729R0 Aligning span and string_view](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3729r0.pdf)

`std::span`ã¨`std::string_view`ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å…±é€šåŒ–ã‚’å›³ã‚‹ææ¡ˆã€‚

`std::span`ã¨`std::string_view`ã¯ãã‚Œãã‚Œã€é…åˆ—/æ–‡å­—åˆ—ã®ãƒ“ãƒ¥ãƒ¼ã¨ãªã‚‹ã‚¯ãƒ©ã‚¹ã§ã™ã€‚ã¨ã¯ã„ãˆã€`std::string_view`ãŒæ–‡å­—åˆ—ã«ç‰¹åŒ–ã—ã¦ã„ã‚‹ã ã‘ã§ã€äºŒã¤ã®ã‚¯ãƒ©ã‚¹ã®å®Ÿè£…ã¯ã»ã¼åŒã˜ã«ãªã‚Šã€ãã®æ‰±ã„ã‚„æ€§è³ªã‚‚ã‹ãªã‚Šå…±é€šã—ã¦ã„ã¾ã™ã€‚

ã—ã‹ã—ã€`std::span`ã¨`std::string_view`ã¯æ¨™æº–ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«æº–æ‹ ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã¤ã„ã¦ã¯å…±é€šã—ã¦ã„ã‚‹ã‚‚ã®ã®ã€ãã‚Œä»¥å¤–ã®éƒ¨åˆ†ã¯ãã‚Œã»ã©å…±é€šã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã¯ãªã£ã¦ã„ã¾ã›ã‚“ã€‚

ã“ã®ææ¡ˆã¯ã€`std::span`ã¨`std::string_view`ã‹ã‚‰ãã‚Œãã‚Œã«ã ã‘ã—ã‹ãªã„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã¤ã„ã¦ã€ç‰¹ã«ã‚µãƒ–ã‚»ãƒƒãƒˆåŒ–APIã®å…±é€šåŒ–ã‚’è¡ŒãŠã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ææ¡ˆã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¿½åŠ ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™

```cpp
template<typename charT, typename traits = char_traits<charT>> 
struct basic_string_view { 
  ...

  // runtime subsetting: 
  constexpr basic_string_view substr(size_type pos = 0, size_type n = npos) const; 
  constexpr basic_string_view subview(size_type pos = 0, size_type n = npos) const; 
  constexpr basic_string_view first(size_type count) const; // ã“ã®ææ¡ˆ
  constexpr basic_string_view last(size_type count) const;  // ã“ã®ææ¡ˆ
  
  // in place shrinking: 
  constexpr void remove_prefix(size_type n); 
  constexpr void remove_suffix(size_type n); 

  ...
};

template<typename T, size_type E = dynamic_extent> 
struct span { 
  ...

  // compile-time subsetting: 
  template<size_t Offset, size_t Count = dynamic_extent> 
  constexpr span<T, /*see below*/> subspan() const; 
  template<size_t Count> 
  constexpr span<T, Count> first() const; 
  template<size_t Count> 
  constexpr span<T, Count> last() const; 

  // runtime subsetting: 
  constexpr span subspan(size_type pos = 0, size_type n = dynamic_extent) const; 
  constexpr span first(size_type count) const; 
  constexpr span last(size_type count) const; 

  // in place shrinking: 
  constexpr void remove_prefix(size_type n) requires(E == dynamic_extent); // ã“ã®ææ¡ˆ
  constexpr void remove_suffix(size_type n) requires(E == dynamic_extent); // ã“ã®ææ¡ˆ

  ...
};
```

ã™ãªã‚ã¡ã€`std::span` -> `std::string_view`ã«ã¯

- `.first(n)` : å…ˆé ­`n`æ–‡å­—ã®`string_view`ã‚’è¿”ã™
- `.last(n)` : å¾Œã‚`n`æ–‡å­—ã®`string_view`ã‚’è¿”ã™

ãŒç§»æ¤ã•ã‚Œã€`std::string_view` -> `std::span`ã«ã¯

- `.remove_prefix(n)` : å…ˆé ­`n`è¦ç´ ã®`span`ã‚’è¿”ã™
- `.remove_suffix(n)` : å¾Œã‚`n`è¦ç´ ã®`span`ã‚’è¿”ã™

ãŒç§»æ¤ã•ã‚Œã¾ã™ã€‚

ã•ã‚‰ã«ã€`std::string_view`ã«é–¢ã™ã‚‹å¤‰æ›´ã¯`std::string`ã«å¯¾ã—ã¦ã‚‚é©ç”¨ã•ã‚Œã¾ã™

```cpp
template<typename charT, typename traits = char_traits<charT>, typename Allocator = allocator<charT>> 
struct basic_string { 
  ...

  //runtime subsetting: 
  constexpr basic_string substr(size_type pos = 0, size_type n = npos) const; 
  constexpr basic_string_view<charT, traits> subview(size_type pos = 0, size_type n = npos) const; 
  constexpr basic_string_view<charT, traits> first(size_type count) const; // ã“ã®ææ¡ˆ
  constexpr basic_string_view<charT, traits> last(size_type count) const;  // ã“ã®ææ¡ˆ
  
  ...
};
```

`std::string_view v`ã€`std::span<T> p`ã€`std::string s`ãŒã‚ã‚‹ã¨ã—ã¦

<table>
<tr>
<th>ç¾åœ¨</th>
<th>ã“ã®ææ¡ˆ</th>
</tr>
<tr>
<td valign="top">

```cpp
// removing leading elements 
v.remove_prefix(5); 
p = p.subspan(5); 
s.erase(s.begin(), s.begin() + 5); 

// removing trailing elements 
v.remove_suffix(3); 
p = p.subspan(0, p.size() - 3); 
s.erase(s.end() - 3, s.end());
```

</td>
<td valign="top">

```cpp
// removing leading elements 
v.remove_prefix(5); 
p.remove_prefix(5); 
//s.remove_prefix(5); ææ¡ˆã—ãªã„

// removing trailing elements 
v.remove_suffix(3); 
p.remove_suffix(3); 
//s.remove_suffix(3); ææ¡ˆã—ãªã„
```

</td>
</tr>
</table>

<table>
<tr>
<th>ç¾åœ¨</th>
<th>ã“ã®ææ¡ˆ</th>
</tr>
<tr>
<td valign="top">

```cpp
// getting leading elements 
auto l4v = v.subview(0, 4);
auto l4p = p.first(4);
auto l4s = s.subview(0, 4);

// getting trailing elements 
auto t2v = v.subview(v.size() - 2);
auto t2p = p.last(2);
auto t2s = s.subview(s.size() - 2);
```

</td>
<td valign="top">

```cpp
// getting leading elements 
auto l4v = v.first(4);
auto l4p = p.first(4);
auto l4s = s.first(4);

// getting trailing elements 
auto t2v = v.last(2);
auto t2p = p.last(2);
auto t2s = s.last(2);
```

</td>
</tr>
</table>

- [P3729 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2358)

### [P3730R0 Slides for P3104R3](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3730r0.html)

P3104R3ã®ç´¹ä»‹ã‚¹ãƒ©ã‚¤ãƒ‰ã€‚

- [P3104R3 Bit permutations - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2025å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/09/30/224815#P3104R3-Bit-permutations)

P3104R3ã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹4ã¤ã®ãƒ“ãƒƒãƒˆæ“ä½œé–¢æ•°ã®ç°¡å˜ãªèª¬æ˜ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚

### [P3731R0 `#embed` Preprocessor Parameter Order](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3731r0.html)

`#embed`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã®å¼•æ•°æŒ‡å®šã«ã¤ã„ã¦é †ç•ªã‚’æŒ‡å®šã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

`#embed`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯èª­ã¿è¾¼ã‚€ãƒã‚¤ãƒŠãƒªãƒªã‚½ãƒ¼ã‚¹ã«ã¤ã„ã¦ã€èª­ã¿è¾¼ã¿ã®ä»•æ–¹ãªã©ã«ã¤ã„ã¦ã‚’æŒ‡å®šã™ã‚‹4ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚ãã®ã†ã¡`limit`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯èª­ã¿è¾¼ã‚€ã‚µã‚¤ã‚ºã‚’åˆ¶é™ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

```cpp
constexpr const unsigned char sound_signature[] = {
// a hypothetical resource
#embed <sdk/jump.wav> limit(2+2)
};
```

ã¾ãŸã€P3540ã§ææ¡ˆä¸­ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦`offset`ãŒã‚ã‚Šã€ã“ã‚Œã¯èª­ã¿å–ã‚‹ãƒã‚¤ãƒŠãƒªãƒªã‚½ãƒ¼ã‚¹ã®é–‹å§‹ä½ç½®ã‚’æŒ‡å®šã™ã‚‹ã‚‚ã®ã§ã™ã€‚

```cpp
constexpr const unsigned char truncated_sound_signature[] = {
// a hypothetical resource
#embed <sdk/jump.wav> offset(2) limit(2)
};
```

ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯æ’ä»–çš„ã§ã¯ãªãã€åŒæ™‚ã«æŒ‡å®šã—ã¦åŠ¹æœã‚’é‡è¤‡ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã®éš›ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æŒ‡å®šé †ã«ã¯æ„å‘³ãŒãªãã€ã©ã®ã‚ˆã†ãªé †åºã§æŒ‡å®šã—ã¦ã‚‚åŒã˜å‹•ä½œã‚’ã—ã¾ã™ã€‚

ã—ã‹ã—ã€ï¼ˆãŠãã‚‰ãP3540ã®è­°è«–ä¸­ã«ï¼‰ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æŒ‡å®šé †åºã€ç‰¹ã«`limit`ã¨`offset`ã®é †åºãŒæ··ä¹±ã‚’ã‚‚ãŸã‚‰ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã¨ã®æŒ‡æ‘˜ãŒã‚ã£ãŸã‚ˆã†ã§ã™ã€‚ãã®éš›å¯„ã›ã‚‰ã‚ŒãŸæ„è¦‹ã®ä¸­ã«ã¯ã€`limit`ã®å¾Œã«`offset`ã‚’æŒ‡å®šã•ã‚ŒãŸå ´åˆã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™ã¹ãã€ã¨ã„ã†ã‚‚ã®ã‚‚ã‚ã£ãŸã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ãã‚Œã‚’å—ã‘ã¦ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®é †ç•ªã‚’è¦å®šã™ã‚‹ãŸã‚ã®æ–‡è¨€ã‚’æä¾›ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã“ã§ã¯ã€æ¬¡ã®äºŒç¨®é¡ã®æ–‡è¨€ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™

1. ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®é †ç•ªã‚’è¦å®šã—ã€é•åã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨ã™ã‚‹æ–‡è¨€
2. ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®é †ç•ªã‚’è¦å®šã—ã€é•åã‚’è­¦å‘Šã¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã™ã‚‹æ–‡è¨€

ææ¡ˆã§ã¯ã“ã®é¸æŠã‚’å§”å“¡ä¼šã®æ±ºå®šã«å§”ã­ã¦ã„ã¾ã™ã€‚

ã„ãšã‚Œã®æ–‡è¨€ã§ã‚‚ã€ã“ã“ã§ææ¡ˆã—ã¦ã„ã‚‹é †åºä»˜ã‘ã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ã§ã™

- `offset`ã¯`limit`ã®å‰
- `limit`ã¯`if_empty, prefix, suffix`ã®å‰
- `limit`ãŒãªã„å ´åˆã§ã‚‚ã€`offset`ã¯`if_empty, prefix, suffix`ã®å‰

`#embed`ã¯C23ã§å…ˆã‚“ã˜ã¦æ¡æŠã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€clang/gccã®æ–°ã—ã„ã‚‚ã®ã§ã‚ã‚Œã°å®Ÿè£…æ¸ˆã¿ã§ã™ã€‚ã•ã‚‰ã«ãã“ã§ã¯ã€å®Ÿè£…å®šç¾©ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦`offset`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆ`gnu::offset`/`clang::offset`ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ãŒã€ç¾åœ¨ã®`#embed`ãŒæ„å›³ã™ã‚‹ã‚ˆã†ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æŒ‡å®šé †ã«ã‚ˆã‚‰ãšæ­£ã—ãå‹•ä½œã—ã¦ã„ã¾ã™ã€‚

- [P3540R1 #embed Parameter offset - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2025å¹´03æœˆï¼‰](https://onihusube.hatenablog.com/entry/2025/09/30/224815#P3540R1-embed-Parameter-offset)
- [#embedãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ– - yohhoyã®æ—¥è¨˜](https://yohhoy.hatenadiary.jp/entry/20220915/p1)
- [P3731 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2360)

### [P3732R0 Numeric Range Algorithms](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3732r0.html)
### [P3733R0 More named universal character escapes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3733r0.html)

åå‰ä»˜ããƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«æ–‡å­—åã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹åã«ã¤ã„ã¦ã€C++ã§ä½¿ç”¨å¯èƒ½ã§ã¯ãªã„ã‚‚ã®ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ææ¡ˆã€‚

C++23ã§ã¯æ–‡å­—/æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã«ãŠã‘ã‚‹ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—æ–‡å­—ã®ä¸€ç¨®ã¨ã—ã¦`\N{NO-BREAK SPACE}`ã®ã‚ˆã†ã«ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ–‡å­—ã®åå‰ã‚’æŒ‡å®šã™ã‚‹å½¢ã®ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«æ–‡å­—åãŒä½¿ç”¨å¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®åå‰ã¯ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ¨™æº–ã§è¦å®šã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ã€ä¸€éƒ¨ã®æ–‡å­—ã«å¯¾ã—ã¦ã¯ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¨ã—ã¦è¤‡æ•°ã®åå‰ãŒå¯¾å¿œã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

```cpp
static_assert(u8'\N{LINE FEED}' == u8'\N{NEW LINE}'); // âœ…
```

ã“ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚‚ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ¨™æº–ã§è¦å®šã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ã€ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã«ã¯ã„ãã¤ã‹ã®ç¨®é¡ãŒã‚ã‚Šã¾ã™

- correction Aliases : èª¤ã£ãŸæ–‡å­—åãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã—ã¾ã£ãŸå ´åˆã®ä»£æ›¿è¡¨è¨˜
- control Aliases : åˆ¶å¾¡æ–‡å­—ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹
- alternate Aliases : åºƒãä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ä»£æ›¿åã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹
- figment Aliases : æ–‡æ›¸åŒ–ã•ã‚ŒãŸã‚‚ã®ã®æ¨™æº–ã§ã¯æ¡ç”¨ã•ã‚Œãªã‹ã£ãŸã‚¨ã‚¤ãƒªã‚¢ã‚¹
    - ç¾åœ¨æ¬¡ã®3ã¤ã®ã¿
    - U+0080 PADDING CHARACTER
    - U+0081 HIGH OCTET PRESET
    - U+0099 SINGLE GRAPHIC CHARACTER INTRODUCER
- abbreviation Aliases : ä¸€èˆ¬çš„ãªç•¥èªã«ã‚ˆã‚‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹

ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ¨™æº–ã®æ„å›³ã¨ã—ã¦ã€ä¸€åº¦å…¬é–‹ã—ãŸåå‰ã¯ãŸã¨ãˆãã‚ŒãŒé–“é•ã£ã¦ã„ã‚‹ã‚‚ã®ã ã£ãŸã¨ã—ã¦ã‚‚å¤‰æ›´ã›ãšã€ä»£ã‚ã‚Šã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’æä¾›ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ä¿®æ­£ã™ã‚‹ã¨ã„ã†æ–¹é‡ãŒã‚ã‚Šã¾ã™ï¼ˆã™ãªã‚ã¡ã€å®‰å®šæ€§ã‚’å¼·ãä¿è¨¼ã—ã¦ã„ã‚‹ï¼‰ã€‚correctionã‚¨ã‚¤ãƒªã‚¢ã‚¹ã¯ãã®ãŸã‚ã«ã‚ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã‚Œã‚‰ã®ã†ã¡ã€C++æ¨™æº–ã§ã¯figmentã¨abbreviationã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ãŒé™¤å¤–ã•ã‚Œã¦ãŠã‚Šã€ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚ã“ã®ææ¡ˆã¯ã€ã“ã‚Œã‚‰ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½¿ç”¨å¯èƒ½ã«ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

ãªãœã“ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã‹ã¨ã„ã†ã¨ã€P2071R2ï¼ˆãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ–‡å­—åã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã®ææ¡ˆï¼‰ã®è­°è«–ã¨æ¡æŠã®å½“æ™‚ã®C++ãŒå‚ç…§ã—ã¦ã„ãŸãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰æ¨™æº–ãŒå¤ã‹ã£ãŸãŸã‚ï¼ˆæ­£ç¢ºã«ã¯å‚ç…§å…ˆãŒç•°ãªã£ãŸãŸã‚ï¼‰ã€ã“ã‚Œã‚‰ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ãŒå«ã¾ã‚Œã¦ã„ãªã‹ã£ãŸã‹ã‚‰ã®æ§˜ã§ã™ã€‚

ã—ã‹ã—ãã®å¾ŒP2736R2ã®æ¡æŠã«ã‚ˆã£ã¦å‚ç…§å…ˆãŒæ›´æ–°ã•ã‚ŒãŸãŸã‚ã“ã®ã‚ˆã†ãªåˆ¶é™ã¯ç„¡ããªã£ã¦ãŠã‚Šã€C++æ¨™æº–ã®æ–‡æ›¸ã®å¤‰æ›´ã®ã¿ã§ã“ã‚Œã‚‰ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã«å¯¾å¿œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã®ææ¡ˆã§ä½¿ç”¨å¯èƒ½ã«ãªã‚‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ä¾‹

```cpp
using namespace std::literals;

// U+007F
static_assert(u8'\N{DELETE}' == u8'\N{DEL}'); // `DEL`ã¯abbreviationã‚¨ã‚¤ãƒªã‚¢ã‚¹

// U+0081
static_assert(u8"\u{0081}"sv == u8"\N{HIGH OCTET PRESET}"sv); // `HIGH OCTET PRESET`ã¯figmentã‚¨ã‚¤ãƒªã‚¢ã‚¹
```

- [C++23 åå‰ä»˜ããƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ã‚­ãƒ£ãƒ©ã‚¯ã‚¿å [P2071R2] - cpprefjp](https://cpprefjp.github.io/lang/cpp23/named_universal_character_escapes.html)
- [Unicode alias names and abbreviations - Wikipedia](https://en.wikipedia.org/wiki/Unicode_alias_names_and_abbreviations)
- [P2736R2 Referencing the Unicode Standard - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2023å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2023/03/19/184146#P2736R2-Referencing-the-Unicode-Standard)
- [P3733 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2362)

### [P3734R0 Not all predicates must be regular](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3734r0.html)

è¿°èªã‚’ä½¿ç”¨ã™ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å¯¾ã™ã‚‹ã€ãã®è¿°èªãŒè¦ç´ ã‚’å¤‰æ›´ã—ãªã„ã¨ã„ã†è¦ä»¶ã‚’ç·©å’Œã™ã‚‹ææ¡ˆã€‚

`std::find_if`ãªã©ï¼ˆãã®`range`ç‰ˆã‚‚å«ã‚ã¦ï¼‰è¿°èªã‚’å—ã‘å–ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ãŠã„ã¦è¿°èªã¯`regular_invocable`ã«ã‚ˆã£ã¦åˆ¶ç´„ã•ã‚Œã¦ãŠã‚Šï¼ˆ`indirect_unary_predicate` -> `predicate`ã‚’é€šã—ã¦ï¼‰ã€ãã‚Œã«ã‚ˆã£ã¦è¿°èªã®å‘¼ã³å‡ºã—ã‚’é€šã˜ãŸç¯„å›²è¦ç´ ã®å¤‰æ›´ã‚„ãã®ä»–å‰¯ä½œç”¨ãŒç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚

ã—ã‹ã—ã€ç¯„å›²ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸€å›ã§æ¸ˆã¾ã›ã‚‹ã“ã¨ã‚’æ„å›³ã—ã¦ã“ã‚Œã‚‰ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è¡“èªã«ãŠã„ã¦è¦ç´ ã‚’å¤‰æ›´ã—ãŸã„å ´åˆãŒã‚ã‚Šã€ç‰¹ã«è¦ç´ ã‚’ä¸€å›ã—ã‹å‚ç…§ã—ãªã„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã¯ãã‚Œã‚’è¡Œã£ãŸã¨ã—ã¦ã‚‚å‹•ä½œã«ã¯å½±éŸ¿ãŒãªã„ã¯ãšã§ã™ã€‚

`ranges::remove_if`ã«ã‚ˆã‚‹ä¾‹

```cpp
bool allowed_in_id(char c) {
  return c >= 'a' && c <= 'z';
}

void sanitize_id(std::string& id) {
  auto removed_range = std::ranges::remove_if(id, [](char& c) {
    if (c == ' ') {
      c = '-';  // ğŸ‘ˆ ã“ã“ã§è¦ç´ ã‚’å¤‰æ›´ã—ã¦ã„ã‚‹
      return false;
    }
    return not allowed_in_id(c);
  });

  id.erase(removed_range.begin(), removed_range.end());
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯`"abc //def"`ã®æ§˜ãªæ–‡å­—åˆ—å…¥åŠ›ã‚’`"abc-def"`ã®ã‚ˆã†ã«å¤‰æ›ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã‚Œã¯`[a-z]`ã¨ã‚¹ãƒšãƒ¼ã‚¹ä»¥å¤–ã®æ–‡å­—ã‚’`remove_if`ã—ãŸå¾Œã§ã‚¹ãƒšãƒ¼ã‚¹ã‚’`-`ã«ç½®ãæ›ãˆã‚‹ã‚ˆã†ãª2å›ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä¼´ã†ã‚³ãƒ¼ãƒ‰ã‚ˆã‚Šã‚‚åŠ¹ç‡çš„ãªã‚‚ã®ã§ã™ã€‚ã—ã‹ã—ã€å‰è¿°ã®ã‚ˆã†ã«`remove_if`ï¼ˆ`ranges`ç‰ˆã§ãªãã¦ã‚‚ï¼‰ã¯ãã®è¿°èªãŒè¦ç´ ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã‚’è¨±å¯ã—ã¦ãŠã‚‰ãšã€é•åã™ã‚‹ã¨æœªå®šç¾©å‹•ä½œã¨ãªã‚‹ãŸã‚ã“ã®ã‚³ãƒ¼ãƒ‰ã¯åˆæ³•ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ã—ã‹ã—ä¸€æ–¹ã§ã€`remove_if`ã¯ãã®å‹•ä½œã«å½“ãŸã£ã¦è¦ç´ ã‚’ä¸€å›ã—ã‹å‚ç…§ã—ãªã„ãŸã‚ã€ãã®ä¸€å›ã®å‚ç…§æ™‚ã«ãã®è¦ç´ ã‚’å¤‰æ›´ã—ãŸã¨ã—ã¦ã‚‚ãã®å‹•ä½œãŒãŠã‹ã—ããªã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä¸Šè¨˜ã®ä¾‹ã¯ãã®ã“ã¨ã‚’ä»®å®šã—ã¦ãŠã‚Šã€æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¤‡é›‘ãªè¦ä»¶ã‚’è‰¯ãçŸ¥ã‚‰ãªã„ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦ã¯è‡ªç„¶ãªæ¨è«–ã¨ãªã‚‹ã¯ãšã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€è¿°èªã‚’å—ã‘å–ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ã†ã¡è¦ç´ ã‚’ä¸€åº¦ã—ã‹å‚ç…§ã—ãªã„ãªã©ã®äº‹ã‹ã‚‰è¦ç´ ã‚’å¤‰æ›´ã—ã¦ã‚‚å•é¡Œãªã„ã‚‚ã®ã«ã¤ã„ã¦ã¯ã€è¿°èªã«å¯¾ã™ã‚‹`regular_invocable`ã®è¦ä»¶ã‚’ç·©å’Œã™ã‚‹ã“ã¨ã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã“ã§ã®å¯¾è±¡ã¯æ¬¡ã®ã‚‚ã®ã§ã™

- `all_of`
- `any_of`
- `none_of`
- `find`ç³»
- `find_last`ç³»
- `count`ç³»
- `mismatch`
- `equal`
- `starts_with`
- `copy_if`
- `replace`ç³»
- `remove`ç³»
- `is_partitioned`/`partition`

`regular_invocable`ã®åˆ¶ç´„ã¯æ„å‘³è«–çš„ãªã‚‚ã®ã§ã‚ã‚Šã€ã“ã®ææ¡ˆãŒæ¡æŠã•ã‚Œã¦ã‚‚å®Ÿè£…ã‚’ä½•ã‹å¤‰æ›´ã™ã‚‹å¿…è¦ã¯ãªã„ã¯ãšã§ã™ï¼ˆåˆ¶ç´„ã‚’é™¤ã„ã¦ï¼‰ã€‚

ã“ã®ã‚ˆã†ãªå¤‰æ›´ã«å¯¾ã™ã‚‹æ‡¸å¿µã®ä¸€ã¤ã¯ã“ã‚Œã‚‰ç¯„å›²ã‚’å¤‰æ›´ã—ãªã„ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å†ªç­‰æ€§ãŒå¤±ã‚ã‚Œã‚‹ã¨ã„ã†ã‚‚ã®ã ã¨æ€ã‚ã‚Œã¾ã™ãŒã€å®Ÿéš›ã«ã¯ç¾çŠ¶ã§ã‚‚ãã®ä¿è¨¼ã¯ç„¡ãã€æœªå®šç¾©å‹•ä½œã®ä¸Šã«æˆã‚Šç«‹ã£ã¦ã„ã‚‹æ·¡ã„æœŸå¾…ã®ã¿ã§ã‚ã‚Šã€å®Ÿè£…ã«ã‚ˆã£ã¦ä½•ã‹é™çš„ãƒ»å‹•çš„ã«ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç¯„å›²ã‚’å¤‰æ›´ã™ã‚‹è¿°èªã‚’æ¸¡ã•ãªã„é™ã‚Šç¾åœ¨ã®æ¨è«–ãŒå¤±ã‚ã‚Œã‚‹ã‚‚ã®ã§ã‚‚ãªã„ãŸã‚ã€ç¾çŠ¶ã‚ˆã‚Šæ‚ªããªã‚‹ã‚‚ã®ã§ã¯ãªã„ã¨ã—ã¦ã„ã¾ã™ã€‚

- [P3734 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2363)

### [P3735R0 `partial_sort_n`, `nth_element_n`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3735r0.html)

ä¸­é–“ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã¤ã„ã¦ã€ãã®å¿…è¦ã®ãªã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

`partial_sort`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã€ç¯„å›²ã®`N`è¦ç´ åˆ†ã®éƒ¨åˆ†ã‚½ãƒ¼ãƒˆã‚’è¡Œã†ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚Šã€å®Ÿè¡Œå¾Œã®ç¯„å›²ã¯å…ˆé ­`N`å€‹ãŒã‚½ãƒ¼ãƒˆã•ã‚ŒãŸçŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚ã“ã®æ™‚ã€ã“ã®`N`ã¯æ•°å€¤ã§æŒ‡å®šã™ã‚‹ã®ã§ã¯ãªãã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```cpp
#include <ranges>
#include <algorithm>
#include <vector>
#include <print>

int main() {
  constexpr int N = 5;
  std::vector vec = {5, 3, 10, 4, 1, 11, 0, 9};

  std::println("before: {}", vec);

  std::ranges::partial_sort(vec, vec.begin() + N);

  std::println("afeter: {}", vec);
}
```
```
before: [5, 3, 10, 4, 1, 11, 0, 9]
afeter: [0, 1, 3, 4, 5, 11, 10, 9]
```

`partial_sort`ã§éƒ¨åˆ†ã‚½ãƒ¼ãƒˆã—ãŸã„è¦ç´ æ•°`N`ã‚’ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã§æŒ‡å®šã™ã‚‹éš›ã¯ã€`begin() + N`ã®ã‚ˆã†ãªã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®é€²ã‚æ–¹ãŒãªã•ã‚Œã‚‹ã“ã¨ãŒå¤šã€…ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯å½“ç„¶ã€`N`ãŒç¯„å›²ã®é•·ã•ã‚’è¶…ãˆã¦ã„ã‚Œã°æœªå®šç¾©å‹•ä½œã¨ãªã‚Šã¾ã™ã€‚ç­†è€…ã®æ–¹ã®çµŒé¨“ã«ã‚ˆã‚Œã°ã€ã“ã®ã‚ˆã†ã«æœªå®šç¾©å‹•ä½œã«é™¥ã£ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ä½•åº¦ã‚‚è¦‹ã¦ããŸã¨ã®ã“ã¨ã§ã™ã€‚

å®‰å…¨ã«æ›¸ãæ–¹æ³•ã¨ã—ã¦ã¯`std::ranges::next()`ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™

```cpp
std::ranges::partial_sort(vec, std::ranges::next(vec.begin(), N, vec.end()));
```

ã—ã‹ã—ã“ã‚Œã¯ã‚ã¾ã‚Šã«ã‚‚å†—é•·ã§ã€ãƒã‚°ã®æœ¬è³ªçš„åŸå› ã‚’è§£æ±ºã™ã‚‹ã‚‚ã®ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã®ãƒã‚°ã¯ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®å¯ç®—ã‚’å¼·ã„ã¦ã„ã‚‹ã“ã¨ãŒåŸå› ã§ã™ã€‚ãã®ãŸã‚ã€`N`ã‚’ç›´æ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«æŒ‡å®šã§ãã‚Œã°è§£æ±ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚

```cpp
std::ranges::partial_sort(vec, N);
```

ã“ã®ææ¡ˆã¯ã€`partial_sort`ã®æ§˜ã«ä¸­é–“ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ã¨ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã¤ã„ã¦ã“ã®ã‚ˆã†ã«å‡¦ç†æ•°`N`ã‚’ç›´æ¥æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹`~_n`ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã“ã§ææ¡ˆã—ã¦ã„ã‚‹ã®ã¯æ¬¡ã®2ç¨®é¡ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™

- `partial_sort_n` : `partial_sort`
- `nth_element_n` : `nth_element`

ä»–ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„ãªã©ã®å•é¡Œã‹ã‚‰ã“ã“ã§ã¯å¯¾è±¡ã«ã—ã¦ã„ã¾ã›ã‚“ã€‚ã¾ãŸã€å¤‰æ›´ã¯`range`ç‰ˆã ã‘ã§ãªãæ—§æ¥ã®é`range`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å¯¾ã—ã¦ã‚‚è¡Œã†ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

SG9ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã¯ã“ã®ææ¡ˆã®æ–¹å‘æ€§ãŒå¥½ã¾ã‚ŒãŸã‚ˆã†ã§ã€ãŠãŠã‚€ã­å—ã‘å…¥ã‚Œã‚‰ã‚Œã¦LEWGã«è»¢é€ã•ã‚Œã¦ã„ã¾ã™ã€‚ãŸã ã—ã€å‘½åã«ã¤ã„ã¦ã¯`_n`ã§ã¯ãªã`_at_most`ãŒå¥½ã¾ã‚ŒãŸã‚ˆã†ã§ã™ã€‚

- [`std::partial_sort` - cpprefjp](https://cpprefjp.github.io/reference/algorithm/partial_sort.html)
- [P3735 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2364)

### [P3736R0 Slides against P2971R3 <../2025/p2971r3.pdf> - No implication for C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3736r0.html)
### [P3737R0 `std::array` is a wrapper for an array!](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3737r0.html)

`std::array`ã®å®Ÿè£…è‡ªç”±åº¦ã‚’åˆ¶é™ã™ã‚‹ææ¡ˆã€‚

`std::array`ã®å®Ÿè£…ã«ã¤ã„ã¦ã¯æ¨™æº–ã¯ã‚ã¾ã‚Šå¤šãã‚’èªã£ã¦ã„ãªã„ã‚‚ã®ã®ç”Ÿé…åˆ—ã‚’ãƒ©ãƒƒãƒ—ã—ãŸé›†æˆä½“å‹ã«ã‚ˆã‚‹ã‚‚ã®ã¨ç†è§£ã•ã‚Œã¦ãŠã‚Šã€ç¾åœ¨ã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®Ÿè£…ã¯ãã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ãã®å®Ÿè£…æ–¹æ³•ã«ã¤ã„ã¦ã¯ã»ã¼ä»–ã®é¸æŠè‚¢ãŒç„¡ã„ã®ã§ã™ãŒã€ã‚ˆã‚Šç´°ã‹ã„å®Ÿè£…ã«ã¤ã„ã¦ã¯æŒ‡å®šã—ã¦ã„ãªã„éƒ¨åˆ†ã‚‚å¤šãã€ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ãªå®Ÿè£…ãŒæº–æ‹ å®Ÿè£…ã¨ãªã‚Šã¾ã™

```cpp
struct alignas(1024) malice_and_evil {
  constexpr malice_and_evil() { }
  malice_and_evil(const malice_and_evil&) { }
};

template <typename T, size_t N>
struct array {
  T __array[N];
  malice_and_evil evil;
};
```

ã“ã®ã‚ˆã†ã«å®Ÿè£…ã•ã‚ŒãŸ`std::array`ã¯ã‚³ãƒ”ãƒ¼ãŒå®šæ•°å¼ã«ãªã‚‰ãšã€è¦ç´ å‹ã«é–¢ã‚ã‚‰ãšãƒˆãƒªãƒ“ã‚¢ãƒ«ã‚³ãƒ”ãƒ¼å¯èƒ½ã§ã¯ãªãã€ã‚µã‚¤ã‚ºã¨ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã¯`T[N]`ã‚ˆã‚Šã‚‚å¤§ãããªã‚Šã¾ã™ã€‚

ã“ã®ææ¡ˆã¯ã€`std::array`ã®å®Ÿè£…è‡ªç”±åº¦ã‚’åˆ¶é™ã™ã‚‹ã“ã¨ã§ã“ã®ã‚ˆã†ãªãŠã‹ã—ãªæº–æ‹ å®Ÿè£…ã‚’æ’é™¤ã—ã€`std::array`ãŒç”Ÿé…åˆ—ã®å˜ç´”ãªãƒ©ãƒƒãƒ‘ã¨ãªã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã¾ãŸã€`std::array<T, 0>`ã®å®Ÿè£…ã«ã¤ã„ã¦ã‚’ç´°ã‹ãè¦å®šã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚è¦ç´ æ•°ãŒã‚¼ãƒ­ã®`std::array`ã«ã¤ã„ã¦ã¯å®Ÿè£…ã‚‚ãã‚Œãã‚Œå¾®å¦™ã«ç•°ãªã£ã¦ã„ã‚‹ã‚ˆã†ã€ã“ã®ææ¡ˆã§ã¯`std::array<T, 0>`ãŒæº€ãŸã™ã¹ãå®Ÿè£…ã®åˆ¶ç´„ã«ã¤ã„ã¦ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

- `T`ãŒãƒˆãƒªãƒ“ã‚¢ãƒ«ã‚³ãƒ”ãƒ¼å¯èƒ½ãƒ»æ¨™æº–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»æ§‹é€ çš„ãªå‹ã€ã®ã„ãšã‚Œã‹ï¼ˆã‚‚ã—ãã¯ã™ã¹ã¦ï¼‰ã§ã‚ã‚‹ãªã‚‰ã€`std::array`ã‚‚ãã†ãªã‚‹
- `std::array`ã¯åŸºåº•ã‚¯ãƒ©ã‚¹ã‚’æŒãŸãšã€å˜ä¸€ã®å…¬é–‹é`static`ãƒ¡ãƒ³ãƒã¨ã—ã¦`N`è¦ç´ ã®ç”Ÿé…åˆ—ã‚’æŒã¤
- `std::array<T, 0>`
    - é…åˆ—ãƒ¡ãƒ³ãƒå¤‰æ•°ã‚’æŒãŸãªã„
      - ä»£ã‚ã‚Šã«ã€æœªè¦å®šã®ãƒˆãƒªãƒ“ã‚¢ãƒ«ã‚³ãƒ”ãƒ¼å¯èƒ½ã§æ¨™æº–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãªç©ºã®é›†æˆä½“å‹`U`ã®é`static`ãƒ¡ãƒ³ãƒå¤‰æ•°ã‚’æŒã¤
      - `U`ã®ã‚µã‚¤ã‚ºã¨ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã¯`1 ~ sizeof(T)`ã®é–“ã§å®Ÿè£…å®šç¾©
    - å€¤è¡¨ç¾ã¯ç©º
    - ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿å–å¾—é–¢æ•°ã¯ã™ã¹ã¦å€¤åˆæœŸåŒ–ã•ã‚ŒãŸçµæœã‚’è¿”ã™
    - `fill()/swap()`ã¯é–¢æ•°æœ¬ä½“ãŒç©ºã§ä¾‹å¤–ã‚’é€å‡ºã—ãªã„
    - `[], front(), back()`ã®æœ«å°¾ã«å®Ÿè¡ŒãŒåˆ°é”ã™ã‚‹ã¨`std::terminate`

ãªã©ã®åˆ¶é™ã‚’åŠ ãˆã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

- [P3737 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2366)

### [P3738R0 Make `std::make_from_tuple` SFINAE friendly](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3738r0.pdf)

`std::make_from_tuple`ã‚’SFINAE friendlyã«ã™ã‚‹ææ¡ˆã€‚

[LWG Issue 3528](https://cplusplus.github.io/LWG/issue3528)ã®æ¡æŠã«ã‚ˆã£ã¦ã€`std::make_from_tuple()`ã®èª¬æ˜å°‚ç”¨é–¢æ•°ã§ã‚ã‚‹`make-from-tuple-impl()`ã«å¯¾ã—ã¦`requires`ç¯€ã«ã‚ˆã‚‹åˆ¶ç´„ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

```cpp
template<class T, class Tuple, size_t... I>
  requires is_constructible_v<T, decltype(get<I>(declval<Tuple>()))...> // ğŸ‘ˆ ã“ã‚ŒãŒè¿½åŠ 
constexpr T make-from-tuple-impl(Tuple&& t, index_sequence<I...>) {
  return T(get<I>(std::forward<Tuple>(t))...);
}
```

ã—ã‹ã—ã€ã“ã‚Œã«ã‚ˆã£ã¦`std::make_from_tuple()`ãŒå‘¼ã³å‡ºã—å¯èƒ½ã‹ã©ã†ã‹ã‚’SFINAEã«ã‚ˆã£ã¦èª¿ã¹ã‚‹ã‚³ãƒ¼ãƒ‰ãŒãƒãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã™ã‚ˆã†ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

```cpp
template <typename T, typename Tuple, typename = void>
inline constexpr bool has_make_from_tuple = false;

template <typename T, typename Tuple>
inline constexpr bool has_make_from_tuple<
  T, Tuple,
  std::void_t<decltype(std::make_from_tuple<T>(std::declval<Tuple>()))>> = true;

struct A {
  int a;
};

// make_fron_tuple()å‘¼ã³å‡ºã—ã«ãŠã„ã¦é›†æˆä½“åˆæœŸåŒ–ã¯è€ƒæ…®ã•ã‚Œãªã„
static_assert(!has_make_from_tuple<int*, std::tuple<A*>>);  // ngã€`static_assert`ã§ã¯ãªã„ç†ç”±ã«ã‚ˆã£ã¦ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
```

ã“ã‚Œã¯ã€`std::make_from_tuple()`ã®å®Ÿè£…ãŒå†…éƒ¨ã§`make-from-tuple-impl()`ã¨åŒç­‰ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¦ã„ã‚‹å ´åˆã€è¿½åŠ ã•ã‚ŒãŸåˆ¶ç´„ã‚’æº€ãŸã•ãªã„å ´åˆã«`std::make_from_tuple()`é–¢æ•°å®šç¾©å†…ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã“ã¨ã§ãƒãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã£ã¦ã„ã¾ã™ã€‚

```cpp
template<class T, class Tuple, size_t... I>
  requires is_constructible_v<T, decltype(get<I>(declval<Tuple>()))...> // A
constexpr T make-from-tuple-impl(Tuple&& t, index_sequence<I...>) {
  return T(get<I>(std::forward<Tuple>(t))...);
}

template<class T, class Tuple, size_t... I>
constexpr T make_from_tuple(Tuple&& t, index_sequence<I...>) {
  return make-from-tuple-impl(std::forward<Tuple>(t));  // Aã®åˆ¶ç´„ãŒæº€ãŸã•ã‚Œãªã„å ´åˆã€ã“ã“ã§ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†
}
```

ã“ã®ææ¡ˆã¯ã€ã“ã®`make-from-tuple-impl()`ã«è¿½åŠ ã•ã‚ŒãŸåˆ¶ç´„ã‚’`std::make_from_tuple()`ã®å®£è¨€ã«ç§»ã™ã“ã¨ã§ã€åˆ¶ç´„ãŒæº€ãŸã•ã‚Œãªã„å ´åˆã«`std::make_from_tuple()`ã®å®£è¨€ã§ç½®æ›å¯èƒ½ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

- [LWG Issue 3528. make_from_tuple can perform (the equivalent of) a C-style cast](https://cplusplus.github.io/LWG/issue3528)
- [P3737 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2367)

### [P3739R0 Standard Library Hardening - using `std::optional`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3739r0.html)

â†“

### [P3739R1 Standard Library Hardening - using `std::optional`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3739r1.html)

`std::inplace_vector`ã«ãŠã„ã¦ã€`std::optional<T&>`ã‚’åˆ©ç”¨ã—ã¦å …ç‰¢åŒ–ãƒ¢ãƒ¼ãƒ‰ã‚’å°å…¥ã™ã‚‹ææ¡ˆã€‚

ã“ã®ææ¡ˆã§ã¯ã€`std::inplace_vector`ç‰¹æœ‰ã®ãƒ¡ãƒ³ãƒé–¢æ•°ã§ç¾åœ¨ãƒã‚¤ãƒ³ã‚¿ã‚’è¿”ã—ã¦ã„ã‚‹ã‚‚ã®ã«ã¤ã„ã¦`std::optional<T&>`ã‚’ä»£ã‚ã‚Šã«è¿”ã™ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€`std::optional<T&>`ã®ãƒ¢ãƒŠãƒ‰/`range`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã¨ã‚‚ã«ã€ä¸€éƒ¨ã®å®‰å…¨ã§ã¯ãªã„ã‚¢ã‚¯ã‚»ã‚¹ã‚‚å …ç‰¢åŒ–ãƒ¢ãƒ¼ãƒ‰ã«ã‚ˆã‚‹nullãƒã‚§ãƒƒã‚¯ã•ã‚Œã‚‹ã“ã¨ã«ã‚ˆã‚Šå®‰å…¨æ€§ã‚’é«˜ã‚ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ææ¡ˆã—ã¦ã„ã‚‹ã®ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã®æœ«å°¾è¦ç´ ã‚’è¿½åŠ ã‚’è©¦è¡Œã™ã‚‹`try_~`ç³»ã®3ã¤ã®é–¢æ•°ã§ã™

```cpp
namespace std {
  template<class T, size_t N>
  class inplace_vector {
  
    ...

    // ç¾åœ¨ã®å®£è¨€
    template<class... Args>
    constexpr pointer try_emplace_back(Args&&... args);

    constexpr pointer try_push_back(const T& x);
    
    constexpr pointer try_push_back(T&& x);

    // ã“ã®ææ¡ˆ
    template<class... Args>
    constexpr optional<T&> try_emplace_back(Args&&... args);

    constexpr optional<T&> try_push_back(const T& x);
    
    constexpr optional<T&> try_push_back(T&& x);

  };
}
```

ã“ã‚Œã‚‰ã®é–¢æ•°ã¯`inplace_vector`ã®æœ«å°¾ã«è¦ç´ ã‚’è¿½åŠ ã‚’è©¦ã¿ã¦ã€ãã®ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ä½™è£•ãŒç„¡ã„å ´åˆã«`nullptr`ã‚’è¿”ã™ã‚‚ã®ã§ã™ã€‚ã“ã®ææ¡ˆã§ã¯ãƒã‚¤ãƒ³ã‚¿ã®ä»£ã‚ã‚Šã«`optional<T&>`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ã‚ˆã‚Šå®‰å…¨ã«ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚

```cpp
int main() {
  std::inplace_vector<int, 5> vec = {1, 2, 3, 4, 5};

  // ç¾åœ¨
  if (auto ptr = vec.push_back(); ptr != nullptr) {
    // æˆåŠŸã—ãŸæ™‚ã®å‡¦ç†
  }

  // ã“ã®ææ¡ˆ
  vec.push_back().and_then([](int& n) {
    // æˆåŠŸã—ãŸæ™‚ã®å‡¦ç†
  });
}
```

- [P3739 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2368)

### [P3740R0 Last chance to fix `std::nontype`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3740r0.html)

â†“

### [P3740R1 Last chance to fix `std::nontype`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3740r1.html)

`std::nontype`ã®ä½¿ç”¨ã‚’å†è€ƒã™ã‚‹ææ¡ˆã€‚

`std::nontype`ã¯`std::function_ref`ã®ãƒ¡ãƒ³ãƒé–¢æ•°ãƒã‚¤ãƒ³ã‚¿å¯¾å¿œã‚’è¡Œã†ãŸã‚ã«è¿½åŠ ã•ã‚ŒãŸãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§ã€ãƒ¡ãƒ³ãƒé–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã‚’NTTPã¨ã—ã¦æŒã£ã¦ãŠãã“ã¨ã§æœ¬æ¥é–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’å¯¾å¿œã™ã‚‹`this`ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

```cpp
void f(std::fuction_ref<int(int)> func);

struct S {
  int m(int) {
    ...
  }
};

int main() {
  S s{};

  f({std::nontype<&S::m>, s});  // okã€function_refã§ãƒ¡ãƒ³ãƒé–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã¨å¯¾å¿œã™ã‚‹thisã‚’æŸç¸›ã™ã‚‹
}
```

`std::nontype`ãŒãªã„å ´åˆã€åˆ¥é€”ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°ã¨å°‚ç”¨ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’ç”¨æ„ã—ã¦å¯¾å¿œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãªã©ã€`std::nontype`ã¨æ¯”è¼ƒã™ã‚‹ã¨è¤‡é›‘ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ã¨ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚

ã—ã‹ã—ã€C++26ã®ä»–ã®æ©Ÿèƒ½ã®å°å…¥ãªã©ã®çµæœã¨ã—ã¦ã€ã“ã®`std::nontype`ã«ã¯ã„ãã¤ã‹ã®å•é¡ŒãŒç”Ÿã˜ã¦ã„ã¾ã™ã€‚

- `std::constant_wrapper`ã¨æ©Ÿèƒ½ãŒé‡è¤‡ã™ã‚‹ï¼ˆP2781
- non-type template parameterã¨ã„ã†è¨€è‘‰ã¯constant template parameterã«å¤‰æ›´ã•ã‚ŒãŸï¼ˆP2841

ã©ã¡ã‚‰ã‚‚æœ€çµ‚çš„ã«ã¯C++26ã«å°å…¥ã•ã‚Œã¦ã„ã¾ã™ï¼ˆã“ã®ææ¡ˆã®æå‡ºæ™‚ç‚¹ã§ã¯P2781ã¯ã¾ã å…¥ã£ã¦ã„ã¾ã›ã‚“ã§ã—ãŸï¼‰ã€‚ãã®ãŸã‚ã€`std::nontype`ã®åå‰ã‚’å¤‰æ›´ã™ã‚‹ã®ã‹ã€`std::constant_wrapper`ã§ç½®ãæ›ãˆã‚‹ã®ã‹ã€ã‚ã‚‹ã„ã¯ã“ã®ã¾ã¾ã„ãã®ã‹ã€ã‚’æ±ºã‚ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

ã“ã“ã§ã¯`std::nontype`ã®å¿…è¦æ€§ãªã©ã‹ã‚‰åˆã‚ã¦æ§˜ã€…ãªé¸æŠè‚¢ã‚’æ¤œè¨ã—ãŸçµæœ

- `std::nontype`ã‚’`std::constant_wrapper`ã§ç½®ãæ›ãˆã‚‹
- `std::nontype`ã‚’ãƒªãƒãƒ¼ãƒ ã™ã‚‹

ã®ã©ã¡ã‚‰ã‹ãŒè‰¯ã„ã¨ã—ã¦ã€ä¸¡æ–¹ã«å¯¾å¿œã™ã‚‹æ–‡è¨€å¤‰æ›´ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

- [P2511R0 Beyond operator(): NTTP callables in type-erased call wrappers - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/02/19/181101#P2511R0-Beyond-operator-NTTP-callables-in-type-erased-call-wrappers)
- [P2472R1 make function_ref more functional - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/03/19/224729#P2472R1-make-function_ref-more-functional)
- [P3740 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2369)

### [P3741R0 views::set_operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3741r0.html)

é›†åˆæ¼”ç®—ã‚’è¡Œã†Rangeã‚¢ãƒ€ãƒ—ã‚¿ã®ææ¡ˆã€‚

ã‚½ãƒ¼ãƒˆæ¸ˆã¿ç¯„å›²ã‚’é›†åˆã¨è¦‹ç«‹ã¦ã¦å·®é›†åˆã‚„å…±é€šéƒ¨åˆ†ãªã©ã®é›†åˆæ¼”ç®—ã‚’è¡Œã†æ“ä½œã¯ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ã—ã¦ã¯å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å ´åˆã¯å‡ºåŠ›ã®ç¯„å›²ã‚’åˆ¥ã«ç”¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ä¸€æ–¹ã€Rangeã‚¢ãƒ€ãƒ—ã‚¿ã¨ã—ã¦ã“ã‚Œã‚’å®Ÿè¡Œã§ãã‚Œã°ã€é…å»¶è©•ä¾¡ã•ã‚Œã‚‹ã“ã¨ã«ã‚ˆã£ã¦å‡ºåŠ›ç”¨ã®ç¯„å›²ã¯å¿…è¦ãªããªã‚Šã€ã‚ªãƒ³ã‚¶ãƒ•ãƒ©ã‚¤ã§é›†åˆæ¼”ç®—ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```cpp
// ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹é›†åˆæ¼”ç®—
std::vector<int> diff;
ranges::set_difference(v1, v2, std::back_inserter(diff));

// Rangeã‚¢ãƒ€ãƒ—ã‚¿ã«ã‚ˆã‚‹é›†åˆæ¼”ç®—
auto diff = v1 | views::set_difference(v2);
```

ã“ã®ææ¡ˆã¯ã€æ—¢å­˜ã®é›†åˆæ¼”ç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å¯¾å¿œã™ã‚‹é›†åˆæ¼”ç®—ã‚’è¡Œã†Rangeã‚¢ãƒ€ãƒ—ã‚¿ã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã“ã§ã¯ã€`std::include`ã‚’é™¤ã„ãŸ4ã¤ã®é›†åˆæ¼”ç®—

- `std::set_union`
- `std::set_intersection`
- `std::set_difference`
- `std::set_symmetric_difference`

ã«å¯¾å¿œã™ã‚‹Rangeã‚¢ãƒ€ãƒ—ã‚¿

- `views::set_union`
- `views::set_intersection`
- `views::set_difference`
- `views::set_symmetric_difference`

ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

ã“ã‚Œã‚‰ã®Rangeã‚¢ãƒ€ãƒ—ã‚¿ã¯ãã‚Œãã‚Œå°‚ç”¨ã®`view`å‹ã‚’æŒã¡ã¾ã™ãŒã€ãã‚Œãã‚Œã®é›†åˆæ¼”ç®—ã®æ€§è³ªã‚’è¸ã¾ãˆã¦åˆ¶ç´„ç­‰ã¯å¤§ãã2ã¤ã®ã‚¿ã‚¤ãƒ—ã«åˆ†ã‹ã‚Œã¾ã™

```cpp
// set_intersectionã¨set_differenceã®viewå‹ã®åˆ¶ç´„
template<view V1, view V2>
  requires input_range<V1> && input_range<V2> &&
           indirect_strict_weak_order<ranges::less, iterator_t<V1>, iterator_t<V2>>
class set_[intersection|difference]_view;
```
```cpp
// set_unionã¨set_symmetric_differenceã®viewå‹ã®åˆ¶ç´„
template<view V1, view V2>
  requires input_range<V1> && input_range<V2> &&
           indirect_strict_weak_order<ranges::less, iterator_t<V1>, iterator_t<V2>> &&
           concatable<V1, V2>
class set_[union|symmetric_difference]_view;
```

å‰è€…ã¯ç‰‡æ–¹ã®ç¯„å›²ï¼ˆ`V1`ï¼‰ã®è¦ç´ å‹ã‚’çµæœã¨ã™ã‚Œã°ã‚ˆã„ã®ã«å¯¾ã—ã¦ã€å¾Œè€…ã¯ä¸¡æ–¹ã®ç¯„å›²ã®è¦ç´ å‹ã‚’çµæœã¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€`concatable<V1, V2>`ã®é•ã„ãŒã‚ã‚Šã¾ã™ã€‚

ã©ã®ã‚¢ãƒ€ãƒ—ã‚¿ã‚‚ç¯„å›²`v1, v2`ã«å¯¾ã—ã¦`v1 | views::set_xxx(v2)`ã®æ§˜ã«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨˜æ³•ã§è¨˜è¿°ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

4ã¤ã®ã‚¢ãƒ€ãƒ—ã‚¿ï¼ˆ`view`ï¼‰ã„ãšã‚Œã®å ´åˆã§ã‚‚ãã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã«ã‚ˆã£ã¦æ¼”ç®—ãŒè¡Œã‚ã‚Œã¾ã™ã€‚ã¾ãšã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãŒæ§‹ç¯‰ã•ã‚Œã‚‹ã¨`satisfy()`é–¢æ•°ï¼ˆãã®é›†åˆæ¼”ç®—ã«å¯¾å¿œã—ãŸè¦ç´ åˆ¤å®šé–¢æ•°ï¼‰ã«ã‚ˆã£ã¦æœ€åˆã®å‡ºåŠ›è¦ç´ ãŒç‰¹å®šã•ã‚Œã€ãã®å¾Œã¯`++`ã§ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãŒé€²ã‚€ã”ã¨ã«æ¬¡ã®é›†åˆè¦ç´ ã‚’ç‰¹å®šã—ã¦ã„ãã¾ã™ã€‚å‹•ä½œã¨ã—ã¦ã¯`views::filter`ã«è¿‘ã„ã§ã™ã€‚

ã“ã®`satisfy()`é–¢æ•°ã§ã¯2ã¤ã®å…¥åŠ›ç¯„å›²ã®ä¸¡æ–¹ã‚’é †ç•ªã«é€²ã‚ã¦ã„ãå¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¯2ã¤ã®å…¥åŠ›ç¯„å›²ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã¨ç•ªå…µã‚’å…±ã«ä¿æŒã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```cpp
// set_intersectionã®viewã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸
class set_intersection_view::iterator {
  iterator_t<V1> current1_;
  sentinel_t<V1> end1_;
  iterator_t<V2> current2_;
  sentinel_t<V2> end2_;

  constexpr void satisfy() {
    while (current1_ != end1_ && current2_ != end2_) {
      // V1ã®ä¸­ã‹ã‚‰æ¬¡ã®æœ‰åŠ¹ãªè¦ç´ ã‚’æ¢ã™å‡¦ç†
      ...
    }
  }

  constexpr iterator(iterator_t<V1> current1, sentinel_t<V2> end1,
                     iterator_t<V1> current2, sentinel_t<V2> end2)
    : current1_(std::move(current1)), end1_(end1),
      current2_(std::move(current2)), end2_(end2) {
    satisfy();
  } 

public:
  constexpr decltype(auto) operator*() const { return *current1_; }

  constexpr iterator&
  operator++() {
    ++current1_;
    ++current2_;
    satisfy();
    return *this;
  }

  friend constexpr bool operator==(const iterator& x, default_sentinel_t) {
    return x.current1_ == x.end1_ || x.current2_ == x.end2_;
  }
};
```

åŸºæœ¬çš„ã«ã¯ã“ã®ã‚ˆã†ãªã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿å®Ÿè£…ã®ç´°éƒ¨ã‚’å°‘ã—ã¥ã¤èª¿æ•´ã™ã‚‹ã“ã¨ã§4ã¤ã®`view`ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`set_union`/`set_symmetric_difference`ã®å ´åˆã¯ä¸¡æ–¹ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‹ã‚‰å€¤ã‚’èª­ã¿å–ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã‚ã‚‹æ™‚ç‚¹ã§ã©ã¡ã‚‰ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã™ã‚‹ã¹ãã‹ã‚’è¡¨ã™ãƒ•ãƒ©ã‚°ãŒä¸€ã¤å¿…è¦ã«ãªã‚Šã¾ã™ã€‚

ãã®ä»–ã®æ€§è³ªã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™

- `range`ã‚«ãƒ†ã‚´ãƒª: ã‚‚ã£ã¨ã‚‚å¼·ãã¦ã‚‚`forward_range`
- `common_range`: Ã—
- `borrowed_range`: `V1`ã¨`V2`ãŒã¨ã‚‚ã«`borrowed_range`ãªã‚‰
- `const-iterable`
    - `set_union`: ã€‡
    - ãã‚Œä»¥å¤–: Ã—
        - `begin()`ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å¿…è¦ãŒã‚ã‚‹

ã“ã‚Œã‚‰ã‚’å«ã‚ã¦ãã®ä»–ã®è¨­è¨ˆä¸Šã®æ±ºå®šãŒææ¡ˆã§ã¯èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P3740 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/2370)

### [P3742R0 C++ Standard Library Ready Issues to be moved in Sofia, Jun. 2025](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3742r0.html)
### [P3745R0 Rebuttal to P1144R13 <../2025/p1144r13.html>](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3745r0.pdf)
### [P3746R0 LEWG Slides for P3637R0 <../2025/p3637r0.pdf> Inherit std::meta::exception from std::exception](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3746r0.pdf)
### [P3747R0 Call side return type deduction](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3747r0.pdf)
### [P3748R0 Inspecting exception_ptr works should be constexpr.](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3748r0.html)
### [P3749R0 Slides in response to P3655R2 <../2025/p3655r2.html> - Concerns regarding std::zstring_view](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3749r0.html)
### [P3752R0 Core Language Working Group "ready" Issues for the June, 2025 meeting](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3752r0.html)
### [P3753R0 Slides for P3740R0 <../2025/p3740r0.html> - Last chance to fix std::nontype](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3753r0.html)
### [P3753R1 Slides for P3740R1 <../2025/p3740r1.html> - Last chance to fix std::nontype](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3753r1.html)
### [P3754R0 Slides for P3100R2 <../2025/p3100r2.pdf> presentation to EWG](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3754r0.pdf)
### [P3757R0 Remove value-type invocability requirement from indirect unary callable concepts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3757r0.html)
### [P3760R0 Presentation: constexpr 'Parallel' Algorithms](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3760r0.pdf)
### [P3763R0 Remove redundant reserve_hint members from view classes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3763r0.html)
### [P3764R0 A utility function for propagating the most significant bit](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3764r0.html)
### [P3765R0 Deprecate implicit conversion from bool to character types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3765r0.html)
### [P3769R0 Clarification of placement new deallocation](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3769r0.html)
### [P3771R0 constexpr mutex, locks, and condition variable](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3771r0.html)
### [P3772R0 std::simd overloads for bit permutations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3772r0.html)
### [P3774R0 Rename std::nontype, and make it broadly useful](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3774r0.html)
### [P3778R0 Fixing type_order template definition](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3778r0.html)
### [P3780R0 Detecting bitwise trivially relocatable types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3780r0.html)
### [P3781R0 is_*_type should imply is_type](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3781r0.html)
### [P3784R0 range-if](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3784r0.pdf)
### [P3785R0 Library Wording Changes for Defaulted Postfix Increment and Decrement Operators](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3785r0.html)
### [P3787R0 Adjoints to "Enabling list-initialization for algorithms": uninitialized_fill](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3787r0.html)
### [P3788R0 Fixing std::complex binary operators](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3788r0.html)
### [P3790R0 Pointer lifetime-end zap proposed solutions: Bag-of-bits pointer class](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3790r0.pdf)
### [P3791R0 constexpr deterministic random](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3791r0.html)
### [P3792R0 Why constant_wrapper is not a usable replacement for nontype](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3792r0.html)
### [P3793R0 Better shifting](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3793r0.html)
### [P3794R0 An idea or two on renaming the nontype tag](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3794r0.html)
### [P3795R0 Miscellaneous Reflection Cleanup](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3795r0.html)
### [P3796R0 Coroutine Task Issues](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3796r0.html)
### [P3798R0 The unexpected in std::expected](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3798r0.html)
### [P3799R0 2025-07 Library Evolution Polls](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3799r0.html)
### [P3801R0 Concerns about the design of std::execution::task](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3801r0.html)
### [P3802R0 Poor Functions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3802r0.pdf)
