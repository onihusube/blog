# ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´05æœˆï¼‰

æ–‡æ›¸ã®ä¸€è¦§

- [JTC1/SC22/WG21 - Papers 2024 mailing2024-05](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/#mailing2024-05)

å…¨éƒ¨ã§139æœ¬ã‚ã‚Šã¾ã™ã€‚

ã‚‚ãã˜

[:contents]

### [N4983 WG21 agenda: 24-29 June 2024, St. Louis, MO, USA](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/n4983.html)

2024å¹´6æœˆã«ã‚»ãƒ³ãƒˆãƒ«ã‚¤ã‚¹ã§è¡Œã‚ã‚ŒãŸä¼šè­°ã®ã‚¢ã‚¸ã‚§ãƒ³ãƒ€ã€‚

### [P0260R9 C++ Concurrent Queues](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p0260r9.html)

æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ä¸¦è¡Œã‚­ãƒ¥ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®è¨­è¨ˆã‚’ç·´ã‚‹ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0260R5 C++ Concurrent Queues - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2023å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2023/02/12/210302#P0260R5-C-Concurrent-Queues)
- [P0260R7 C++ Concurrent Queues - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2023å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2023/02/12/210302#P0260R5-C-Concurrent-Queues)
- [P0260R8 C++ Concurrent Queues - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2024/08/31/233056#P0260R8-C-Concurrent-Queues)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- ææ¡ˆã™ã‚‹æ–‡è¨€ã®æ‹¡å……
- `capacity`ã®ä¿®æ­£
- `push()/pop()`ã®æ–‡è¨€ã«"strongly happens before"ã‚’ä½¿ã†ã‚ˆã†ã«å¤‰æ›´
- discussion pointsã‚’è¿½åŠ 
- ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¨ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãŒåŒã˜ã‚¹ãƒ¬ãƒƒãƒ‰ã«æˆ»ã‚‹ã“ã¨ã«é–¢ã™ã‚‹æ®µè½ã‚’å‰Šé™¤
- `try_*`ã¯ãƒ–ãƒ­ãƒƒã‚¯ã—ãªããªã£ãŸ
- `try_*`ã®spurious failureã«é–¢ã™ã‚‹æ–‡è¨€ã‚’è¿½åŠ 
- ã‚­ãƒ¥ãƒ¼ã‚’äº‹å‰ã«åŸ‹ã‚ã‚‹`bounded_queue`ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å‰Šé™¤
- P3282ã¸ã®å‚ç…§ã‚’è¿½åŠ 
- `try_push(T &&, T &)`ã«é–¢ã™ã‚‹è­°è«–ã‚’Historic Contentsã«ç§»å‹•

ãªã©ã§ã™ã€‚

- [P0260 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/99)

### [P0843R12 inplace_vector](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p0843r12.html)

é™çš„ãªæœ€å¤§ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ã‚’æŒã¡ãƒ’ãƒ¼ãƒ—é ˜åŸŸã‚’ä½¿ç”¨ã—ãªã„`std::vector`ã§ã‚ã‚‹`inplace_vector`ã®ææ¡ˆã€‚

ä»¥å‰ã®è¨˜äº‹ã‚’å‚ç…§

- [P0843R5 static_vector - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´08æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/09/04/141015#P0843R5-static_vector)
- [P0843R6 static_vector - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2023å¹´05æœˆï¼‰](https://onihusube.hatenablog.com/entry/2023/07/08/205803#P0843R6-static_vector)
- [P0843R8 `inplace_vector` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2023å¹´07æœˆï¼‰](https://onihusube.hatenablog.com/entry/2023/09/23/203644#P0843R8-inplace_vector)
- [P0843R9 `inplace_vector` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2023å¹´09æœˆï¼‰](https://onihusube.hatenablog.com/entry/2023/10/29/180915#P0843R9-inplace_vector)
- [P0843R10 `inplace_vector` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´02æœˆï¼‰](https://onihusube.hatenablog.com/entry/2024/05/18/235613#P0843R10-inplace_vector)
- [P0843R11 `inplace_vector` - ï¼»C++ï¼½WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´04æœˆï¼‰](https://onihusube.hatenablog.com/entry/2024/08/31/233056#P0843R11-inplace_vector)

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã§ã®å¤‰æ›´ã¯

- ä»¥å‰ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã‚’å¾©å¸°ã—ã¦ã€æ¡ä»¶ä»˜ã`constexpr`ã‚’æœ‰åŠ¹åŒ–
- R8ã§å‰Šé™¤ã•ã‚ŒãŸ`constexpr`å¯¾å¿œã®è­°è«–ã‚’å†å°å…¥

ãªã©ã§ã™ã€‚

ã“ã®ææ¡ˆã¯ã€2024å¹´6æœˆã®å…¨ä½“ä¼šè­°ã§C++26ã«å‘ã‘ã¦æ¡æŠã•ã‚Œã¦ã„ã¾ã™ã€‚

- [P0843 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/114)

### [P0963R2 Structured binding declaration as a condition](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p0963r2.html)
### [P1000R6 C++ IS schedule](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1000r6.pdf)

C++26ç­–å®šã¾ã§ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãªã©ã‚’èª¬æ˜ã—ãŸæ–‡æ›¸ã€‚

ã“ã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã¯R5ã®ã‚‚ã®ã¨ã»ã¼åŒã˜ã§ã™ãŒã€æ±ºå®šæ¸ˆã¿ã®ä¼šè­°é–‹å‚¬åœ°ã®åœ°åãŒè¨˜è¼‰ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

### [P1083R8 Move resource_adaptor from Library TS to the C++ WP](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1083r8.html)
### [P1112R5 Language support for class layout control](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1112r5.pdf)
### [P1144R11 std::is_trivially_relocatable](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1144r11.html)
### [P1255R13 A view of 0 or 1 elements: views::nullable And a concept to constrain maybes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1255r13.pdf)
### [P1306R2 Expansion statements](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1306r2.pdf)

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ãƒ«ãƒ¼ãƒ—ç”Ÿæˆã™ã‚‹ã“ã¨ã®ã§ãã‚‹ã€å±•é–‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®ææ¡ˆã€‚

å±•é–‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¨ã¯ã€é€šå¸¸ã®`range`ï¼ˆé…åˆ—ã‚„`std::vector`ç­‰ã‚³ãƒ³ãƒ†ãƒŠï¼‰ã«åŠ ãˆã¦ã‚¿ãƒ—ãƒ«ã‚„ã‚¯ãƒ©ã‚¹ã€æ³¢ã‹ã£ã“ã®ãƒªã‚¹ãƒˆã‚’åå¾©ã™ã‚‹ã“ã¨ã®ã§ãã‚‹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®ãƒ«ãƒ¼ãƒ—æ§‹æ–‡ã§ã‚ã‚Šã€ãƒ«ãƒ¼ãƒ—ã®çµæœã¨ã—ã¦ã¯ãƒ«ãƒ¼ãƒ—æœ¬ä½“ã®ã‚³ãƒ¼ãƒ‰ï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆï¼‰ã‚’ãƒ«ãƒ¼ãƒ—ã®åº¦ã«ãã®å ´ã«å±•é–‹ã—ã¦ã„ãã¾ã™ã€‚

ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ãªæ‹¡å¼µã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¯

```cpp
auto tup = std::make_tuple(0, â€˜aâ€™, 3.14);
template for (auto elem : tup) {
  std::cout << elem << std::endl;
}
```

æ¬¡ã®ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’ã¹ãŸæ›¸ãã—ãŸã®ã¨ç­‰ä¾¡ã«ãªã‚Šã¾ã™

```cpp
auto tup = std::make_tuple(0, â€˜aâ€™, 3.14);
{
  auto elem = std::get<0>(tup);
  std::cout << elem << std::endl;
}
{
  auto elem = std::get<1>(tup);
  std::cout << elem << std::endl;
}
{
  auto elem = std::get<2>(tup);
  std::cout << elem << std::endl;
}
```

ã¾ãŸå±•é–‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã§ã¯ã€æ³¢ã‹ã£ã“ãƒªã‚¹ãƒˆãŒç‰¹åˆ¥æ‰±ã„ã•ã‚Œã¦ãŠã‚Šã€ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã‚‚ã§ãã¾ã™

```cpp
template for (auto elem : {0, 'a', 3.14}) {
  std::cout << elem << std::endl;
}
```

ã“ã®æ³¢ã‹ã£ã“ãƒªã‚¹ãƒˆã¯åˆæœŸåŒ–å­ãƒªã‚¹ãƒˆã§ã¯ãªãã€ã“ã®æ³¢ã‹ã£ã“ãƒªã‚¹ãƒˆã¯åˆæœŸåŒ–ã‚’è¡Œã‚ãšã«å„è¦ç´ ã«å¯¾ã—ã¦ç›´æ¥ãƒ«ãƒ¼ãƒ—ãŒå±•é–‹ã•ã‚Œã¾ã™ã€‚

å±•é–‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¯æ¬¡ã®ã‚‚ã®ã«å¯¾ã—ã¦ä½¿ç”¨ã§ãã¾ã™

- æ§‹é€ åŒ–æŸç¸›å¯èƒ½ãªã‚¯ãƒ©ã‚¹å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
    - ãƒ—ãƒ¬ãƒ¼ãƒ³ãªæ§‹é€ ä½“ã‚„ã‚¿ãƒ—ãƒ«ãªã©
- `constexpr`ãªç¯„å›²ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
    - ä¸»ã«`std::vector`
- æ³¢ã‹ã£ã“ã§åŒºåˆ‡ã‚‰ã‚ŒãŸå¼ã®ãƒªã‚¹ãƒˆï¼ˆå±•é–‹åˆæœŸåŒ–å­ãƒªã‚¹ãƒˆã€"expansion-init-lists"ï¼‰
    - ä¾‹ãˆã°ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ‘ãƒƒã‚¯ã‚‚`{pack...}`ã¨ã™ã‚‹ã“ã¨ã§ãƒ«ãƒ¼ãƒ—å¯¾è±¡ã«ãªã‚‹

å±•é–‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¯ãƒ«ãƒ¼ãƒ—ãªé¢¨ã‚’è£…ã£ã¦ã„ã¾ã™ãŒã€å®Ÿéš›ã®ã¨ã“ã‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã£ã¦ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã—ã¦ã„ãã®ã§ã¯ãªãã€äºˆã‚ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡ã®å„è¦ç´ ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®åˆ—ã¨ã—ã¦ã€ç¯„å›²`for`åŒæ§˜ã«è¨€èªçµ„ã¿è¾¼ã¿ã®ãƒã‚¯ãƒ­ã®ã‚ˆã†ãªå½¢ã§ã€ä¸€ç™ºã§ç½®æ›ã•ã‚Œã¾ã™ã€‚ã¨ã¯ã„ãˆã€çµæœã®ã‚³ãƒ¼ãƒ‰ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–é †åºã‚„å®Ÿè¡Œã•ã‚ŒãŸæ™‚ã®å®Ÿè¡Œé †ã¯ã‚ãŸã‹ã‚‚ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã£ã¦é †ç•ªã«ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆãŒç”Ÿæˆã•ã‚Œã¦ã„ã£ãŸã®ã¨åŒã˜ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚

ã“ã®å±•é–‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¯ç‰¹ã«é™çš„ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨éå¸¸ã«ç›¸æ€§ãŒè‰¯ã„æ©Ÿèƒ½ã§ã™ã€‚P2996R5ã‚ˆã‚Šã€åˆ—æŒ™å€¤ã‚’åˆ—æŒ™å€¤åã®æ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```cpp
template <typename E>
  requires std::is_enum_v<E>
constexpr std::string enum_to_string(E value) {
  template for (constexpr auto e : std::meta::enumerators_of(^E)) {
    if (value == [:e:]) {
      return std::string(std::meta::identifier_of(e));
    }
  }

  return "<unnamed>";
}

enum Color { red, green, blue };
static_assert(enum_to_string(Color::red) == "red");
static_assert(enum_to_string(Color(42)) == "<unnamed>");
```

`^E`ã¯åˆ—æŒ™å‹`E`ã‹ã‚‰ãã®ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–ã‚Šå‡ºã—ã¦ãŠã‚Šã€ãã‚Œã«å¯¾ã™ã‚‹`std::meta::enumerators_of()`ã¯åˆ—æŒ™å‹ã®å„åˆ—æŒ™å­ã®ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–ã‚Šå‡ºã—ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾è±¡`e`ã¯`std::meta::info`ã®å€¤ã§ã€`[:e:]`ï¼ˆã‚¹ãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°ï¼‰ã«ã‚ˆã£ã¦å¯¾å¿œã™ã‚‹åˆ—æŒ™å€¤ã®å®šæ•°å€¤ã«å¤‰æ›ã™ã‚‹ã“ã¨ã§ã€å±•é–‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®å„ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¯åˆ—æŒ™å‹`E`ã®åˆ—æŒ™å­1ã¤ã«å¯¾ã—ã¦ãƒãƒƒãƒã™ã‚‹`if`æ–‡ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

`(std::meta::identifier_of()`ã¯ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ±ã‹ã‚‰ãã‚Œã«å¯¾å¿œã™ã‚‹è­˜åˆ¥å­åã‚’æ–‡å­—åˆ—ã§å¾—ã‚‹ã‚‚ã®ã§ã€ã“ã“ã§ã¯`e`ã¯åˆ—æŒ™å­ã‚’æ˜ ã—ãŸã‚‚ã®ãªã®ã§ã€åˆ—æŒ™å­åãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚æ–‡å­—åˆ—ã§å¾—ã‚‰ã‚Œã¾ã™ã€‚

ã“ã®`template for`ä»¥å¤–ã®ã‚‚ã®ã¯P2996ã®é™çš„ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆã§ã™ã¹ã¦ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ã™ã€‚

- [P1306 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/156)

### [P1494R3 Partial program correctness](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1494r3.html)
### [P1928R9 std::simd - Merge data-parallel types from the Parallelism TS 2](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p1928r9.pdf)
### [P2019R6 Thread attributes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2019r6.pdf)
### [P2034R4 Partially Mutable Lambda Captures](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2034r4.pdf)
### [P2079R4 System execution context](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2079r4.html)
### [P2413R1 Remove unsafe conversions of unique_ptr](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2413r1.html)
### [P2434R1 Nondeterministic pointer provenance](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2434r1.html)
### [P2689R3 Atomic Refs Bound to Memory Orderings & Atomic Accessors](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2689r3.html)
### [P2719R0 Type-aware allocation and deallocation functions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2719r0.html)

å‹ã‚’æŒ‡å®šã™ã‚‹å½¢ã®`new/delete`æ¼”ç®—å­ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•ã®ææ¡ˆã€‚

ã‚ã‚‹å‹ã«ã¤ã„ã¦ã€`new/delete`æ¼”ç®—å­ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ–¹æ³•ã¯ã€ã‚¯ãƒ©ã‚¹ã®é™çš„ãƒ¡ãƒ³ãƒé–¢æ•°ã¨ã—ã¦å®šç¾©ã™ã‚‹ã‹ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãª`new/delete`æ¼”ç®—å­ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ã‹ã®2æŠã§ã™ã€‚`new/delete`æ¼”ç®—å­ã‚’å‹ã”ã¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹å ´åˆã¯ãã®å‹ã«ã¤ã„ã¦ã®çŸ¥è­˜ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ãŒã€å‰è€…ã®æ–¹æ³•ã ã¨ãã‚ŒãŒå¾—ã‚‰ã‚Œã‚‹ã‚‚ã®ã®å‹ã«å¯¾ã—ã¦ä¾µå…¥çš„ã«ã—ã‹å®šç¾©ã§ãã¾ã›ã‚“ã€‚ä¸€æ–¹å¾Œè€…ã®æ–¹æ³•ã¯éä¾µå…¥çš„ã«å®šç¾©ã§ãã‚‹ã‚‚ã®ã®ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãª`new/delete`ã‚’ä¸¸ã”ã¨ç½®ãæ›ãˆã‚‹ã“ã¨ã«ãªã‚‹ï¼ˆå‹æ¯ã«ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰å¯èƒ½ãªã‚‚ã®ã®ã€ç¾å®Ÿã«ã¯`::operator new(void*)`ã‚’ä¸¸ã”ã¨ç½®æ›ã—ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ãŒã»ã¨ã‚“ã©ï¼‰ãŸã‚å½±éŸ¿ç¯„å›²ãŒå¤§ããã€è¤‡æ•°ã®ç¿»è¨³å˜ä½ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ãŒç‹¬è‡ªã«ãã‚Œã‚’è¡Œã£ã¦ã„ã‚‹ã¨ODRé•åã®æœªå®šç¾©å‹•ä½œã§å„ä»‹ãªãƒã‚°ã‚’æŠ±ãˆè¾¼ã‚€ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€ã‚ã‚‹å‹ã«ã¤ã„ã¦ã®`new/delete`æ¼”ç®—å­ã®éä¾µå…¥çš„ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•ã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒ æ–¹æ³•ã¯ã€æ—¢å­˜ã®`operator new/delete`ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãŒã‚¿ã‚°å‹ã‚’å–ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã®å»¶é•·ã§ã€ã‚ã‚‹å‹`T`ã«ã¤ã„ã¦ã®`new/delete`æ¼”ç®—å­ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã¯ã‚¿ã‚°å‹ã¨ã—ã¦`std::type_identity<T>`ã‚’å–ã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ãã—ã¦ã€`new/delete`å¼ãŒæ¼”ç®—å­ã‚’æ¢ç´¢ã™ã‚‹éç¨‹ã‚’å°‘ã—èª¿æ•´ã—ã¦ã€ã“ã®ã‚ˆã†ãªã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãŒç™ºè¦‹ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

ã“ã®ææ¡ˆã®å‰å¾Œã§ã‚ã‚‹`new`æ¼”ç®—å­å‘¼ã³å‡ºã—ï¼ˆ`new`å¼ï¼‰ã«å¯¾ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè€ƒæ…®ã™ã‚‹`new`æ¼”ç®—å­ã®ã‚·ã‚°ãƒãƒãƒ£å€™è£œã¨é †ç•ªã¯æ¬¡ã®ã‚ˆã†ã«å¤‰åŒ–ã—ã¾ã™

<table>
<tr>
<th>ç¾åœ¨</th>
<th>ã“ã®ææ¡ˆ</th>
</tr>
<tr>
<td valign="top">

```cpp
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ›¸ãnewæ¼”ç®—å­
new (args...) T(...)

// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè€ƒæ…®ã™ã‚‹æ¼”ç®—å­
T::operator new(sizeof(T), args...)
::operator new(sizeof(T), args...)
```

</td>
<td valign="top">

```cpp
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ›¸ãnewæ¼”ç®—å­
new (args...) T(...)

// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè€ƒæ…®ã™ã‚‹æ¼”ç®—å­
T::operator new(sizeof(T), args...)
operator new(sizeof(T), type_identity<T>{}, argsâ€¦)  // ğŸ‘ˆè¿½åŠ 
::operator new(sizeof(T), args...)
```

</td>
</tr>
</table>


<table>
<tr>
<th>ç¾åœ¨</th>
<th>ã“ã®ææ¡ˆ</th>
</tr>
<tr>
<td valign="top">

```cpp
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ›¸ãdeleteæ¼”ç®—å­
delete ptr

// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè€ƒæ…®ã™ã‚‹æ¼”ç®—å­
T::operator delete(void-ptr)
::operator delete(void-ptr)
```

</td>
<td valign="top">

```cpp
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ›¸ãdeleteæ¼”ç®—å­
delete ptr

// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè€ƒæ…®ã™ã‚‹æ¼”ç®—å­
T::operator delete(void-ptr)
operator delete(void-ptr, type_identity<T>{})  // ğŸ‘ˆè¿½åŠ 
::operator delete(void-ptr)
```

</td>
</tr>
</table>

é…åˆ—ç‰ˆã‚‚åŒæ§˜ã§ã™ã€‚

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Šã®ãŸã‚ã«ã€å‹æ¯ã«ç•°ãªã‚‹ãƒ¡ãƒ¢ãƒªé ˜åŸŸã«é…ç½®ã™ã‚‹ï¼ˆåŒã˜å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒã˜ãƒ¡ãƒ¢ãƒªé ˜åŸŸã«é…ç½®ã™ã‚‹ï¼‰ã¨ã„ã†ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãŒã‚ã‚Šã€ã“ã‚Œã«ã‚ˆã£ã¦Type Confusionæ”»æ’ƒã«å¯¾ã™ã‚‹è€æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã§ã™ã€‚å®Ÿéš›ã«ã€Appleã§ã¯è‡ªç¤¾é–‹ç™ºã®OSã‚«ãƒ¼ãƒãƒ«ã§ã“ã‚Œã‚’å°å…¥ã™ã‚‹ã“ã¨ã§Type Confusionè„†å¼±æ€§ã®è»½æ¸›ã«å¤§ããªåŠ¹æœãŒã‚ã£ãŸã¨ã®ã“ã¨ã§ã™ï¼ˆç­†è€…ã®æ–¹ã¯Appleã®æ–¹ï¼‰ã€‚

ã‚«ãƒ¼ãƒãƒ«ã«é™ã‚‰ãšã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒé‡è¦ãªã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ã¯ã“ã®ã‚ˆã†ãªæ‰‹æ³•ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã“ã¨ãŒåˆç†çš„ãªå ´åˆãŒã‚ã‚Šã¾ã™ãŒã€ç¾åœ¨ã®C++ã®`new/delete`ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã¯ã“ã®ã‚ˆã†ãªæ‰‹æ³•ã‚’å¤§è¦æ¨¡ã‹ã¤ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§é”æˆã™ã‚‹ã“ã¨ã‚’ã‚µãƒãƒ¼ãƒˆã§ãã¦ã„ã¾ã›ã‚“ã€‚ã“ã®ææ¡ˆã®å†…å®¹ã¯ãã®ã‚ˆã†ãªæ‰‹æ³•ã‚’é”æˆã™ã‚‹ãŸã‚ã®æ§‹æˆè¦ç´ ã§ã‚ã‚Šã€é–“æ¥çš„ã«C++ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ã«ç¹‹ãŒã‚Šã¾ã™ã€‚

ææ¡ˆæ–‡æ›¸ã‚ˆã‚Šã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

```cpp
namespace lib {
  struct Foo { };

  void* operator new(std::size_t, std::type_identity<Foo>); // (1)

  struct Foo2 { };
}

struct Bar {
  static void* operator new(std::size_t); // (2)
};

void* operator new(std::size_t); // (3)

void f() {
  new lib::Foo();  // calls (1)
  new Bar();       // calls (2)
  new lib::Foo2(); // (1)ãŒè¦‹ã¤ã‹ã‚Šã¾ã™ãŒã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰è§£æ±ºã«å¤±æ•—ã™ã‚‹ãŸã‚ã€(3)ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹
  new int();       // calls (3)
}
```

ç¾åœ¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯`new`æ¼”ç®—å­ã®æ¢ç´¢ã«ãŠã„ã¦ã€ã¾ãšå¯¾è±¡ã®å‹ï¼ˆ`new T{}`ã®`T`ï¼‰ã®ã‚¯ãƒ©ã‚¹ã‚¹ã‚³ãƒ¼ãƒ—ã§`T::operator new()`ã‚’æ¢ç´¢ã—ã€è¦‹ã¤ã‹ã‚Œã°ãã‚Œã‚’ä½¿ç”¨ã—ã¾ã™ã€‚è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã€æ¬¡ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ã®`::operator new()`ã‚’æ¢ç´¢ã—ã€è¦‹ã¤ã‹ã‚Œã°ãã‚Œã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã©ã¡ã‚‰ã‹ãŒè¦‹ã¤ã‹ã‚Œã°ä¾‹ãˆã°ãã‚ŒãŒã‚¨ãƒ©ãƒ¼ã§ã‚‚æ¢ç´¢ã¯ãã‚Œã§çµ‚äº†ã—ã¾ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãª`::operator new()`ã‚’æ¢ç´¢ã™ã‚‹å‰ã«ã€ãƒ•ãƒªãƒ¼é–¢æ•°ã®`operator new()`ã‚’è€ƒæ…®ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ãã®éš›ã®ã‚·ã‚°ãƒãƒãƒ£ã¯æ¬¡ã®ã‚‚ã®ã§ã™

```cpp
operator new(sizeof(T), std::type_identity<T>{}, placement-args...)
```

å‹`T`ã«å¯¾ã—ã¦ç¬¬äºŒå¼•æ•°ã§`std::type_identity<T>`ã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã—ã¦ãŠãã“ã¨ã§ã€ã“ã®æŒ¿å…¥ã•ã‚ŒãŸ2ã‚¹ãƒ†ãƒƒãƒ—ç›®ã®æ¢ç´¢ã§ãã‚Œã‚’ä½¿ã‚ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ã‘ã§ã™ã€‚ãã—ã¦ã€ã“ã®æ¢ç´¢ã¯ADLã«ã‚ˆã£ã¦è¡Œã‚ã‚Œã‚‹ãŸã‚ã€åå‰ç©ºé–“å†…ã§`new/delete`æ¼”ç®—å­ã‚’å®šç¾©ã—ã¦ãŠãã“ã¨ã‚‚ã§ãã€ã“ã‚Œã«ã‚ˆã£ã¦ODRé•åã‚’ç·©å’Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- [å‹ã®å–ã‚Šé•ãˆã¨ã¯(Type Confusion) | ã‚µã‚¤ãƒãƒ¼æ”»æ’ƒå¤§è¾å…¸](https://securitychecklist.net/security/cyber-attack/Type-Confusion.html)
- [P2719 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1898)

### [P2758R3 Emitting messages at compile time](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2758r3.html)
### [P2761R1 Slides: If structured binding (P0963R1 presentation)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2761r1.pdf)
### [P2786R6 Trivial Relocatability For C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2786r6.pdf)
### [P2822R1 Providing user control of associated entities of class types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2822r1.pdf)
### [P2830R4 Standardized Constexpr Type Ordering](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2830r4.html)
### [P2835R4 Expose std::atomic_ref's object address](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2835r4.html)
### [P2841R3 Concept and variable-template template-parameters](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2841r3.pdf)
### [P2846R2 reserve_hint: Eagerly reserving memory for not-quite-sized lazy ranges](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2846r2.pdf)
### [P2849R0 async-object - aka async-RAII objects](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2849r0.pdf)

`sender`ãƒã‚§ãƒ¼ãƒ³ã«RAIIãƒªã‚½ãƒ¼ã‚¹ã‚’æ³¨å…¥ã™ã‚‹ãŸã‚ã®ã€éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ææ¡ˆã€‚

`sender/receiver`è‡ªä½“ã¯éåŒæœŸé–¢æ•°ã®å®Ÿè£…ã®ä¸€éƒ¨ã§ã‚ã‚Šã€P2300ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã¯éåŒæœŸé–¢æ•°ã¯å€¤ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã®ã„ãšã‚Œã‹ã®çµæœã«ã‚ˆã£ã¦éåŒæœŸçš„ã«å®Œäº†ã—ã¾ã™ã€‚

éåŒæœŸé–¢æ•°ã®å†…éƒ¨ã§ä½¿ç”¨ã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ï¼ˆéåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã¯ã€éé“çš„å‡¦ç†ãŒå˜ä¸€ã®ãƒ­ãƒ¼ã‚«ãƒ«ãªãƒ–ãƒ­ãƒƒã‚¯ã«åã¾ã‚‹ã‚‚ã®ã§ã¯ãªã„ãŸã‚ã€é€šå¸¸æ‰‹å‹•ã§ãƒ¡ãƒ¢ãƒªã‚’ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

`sender`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹ãƒã‚§ãƒ¼ãƒ³ã«å¯¾ã—ã¦å€¤ã‚’æ³¨å…¥ã™ã‚‹ã«ã¯ã€`let_value(value, func)`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€`func(value)`ã®çµæœã‚’ï¼ˆ`receiver`ã®å€¤ãƒãƒ£ãƒãƒ«ã§ï¼‰è¿”ã™`sender`ã‚’è¿”ã™ã‚‚ã®ã§ã€ãã“ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹å€¤ï¼ˆ`func(value)`ã®çµæœï¼‰ã¯å®‰å®šã—ãŸã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿æŒã•ã‚Œã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚

ã“ã‚Œã¨åŒç¨®ãªã‚‚ã®ã¨ã—ã¦ã€`let_stop_source(sender, sender(inplace_stop_source&))`ã¨ã„ã†ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯ã€`sender`ãƒã‚§ãƒ¼ãƒ³ã«å¯¾ã—ã¦`inplace_stop_source`ã‚’æ³¨å…¥ã—ã€ãªãŠã‹ã¤ãã‚Œã«å®‰å®šçš„ãªã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’æä¾›ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ã“ã®å»¶é•·ã§ã€`sender`ãƒã‚§ãƒ¼ãƒ³ã«å¯¾ã—ã¦å¤šæ§˜ãªéåŒæœŸãƒªã‚½ãƒ¼ã‚¹ã‚’æ³¨å…¥ã™ã‚‹ã‚ã®`let_xxx`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒå€‹åˆ¥ã«è€ƒæ¡ˆã•ã‚Œã¤ã¤ã‚ã‚Šã¾ã™ã€‚ã“ã®ã“ã¨ã¯ã€ã“ã®ã‚ˆã†ãªéåŒæœŸãƒªã‚½ãƒ¼ã‚¹ã‚’`sender`ãƒã‚§ãƒ¼ãƒ³ã§æ‰±ã†ãŸã‚ã®æ±ç”¨çš„ãªè¨­è¨ˆãŒæ¬ ã‘ã¦ã„ã‚‹ã“ã¨ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚

ãã®ã‚ˆã†ãªéåŒæœŸã‚³ãƒ¼ãƒ‰ã§ã¯å¤šãã®å ´åˆã€`shared_ptr`ã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ãªã‚¬ãƒ¼ãƒšãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãŒå®Ÿè£…ã•ã‚Œã¾ã™ã€‚ã“ã®ã‚ˆã†ãªã‚¢ãƒ‰ãƒ›ãƒƒã‚¯ãªéåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®éåŒæœŸçš„ãªæ§‹ç¯‰ã¨ç ´æ£„ã¯ã‚ã‚‹çµ±ä¸€çš„ãªæ±ç”¨è¨­è¨ˆã«å¾“ã£ã¦ã„ãªã„å ´åˆã€æ±ç”¨çš„ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‹ã‚‰ãã®ã‚ˆã†ãªéåŒæœŸãƒªã‚½ãƒ¼ã‚¹ã‚’è¤‡æ•°ã¾ã¨ã‚ã¦æ‰±ã†ã“ã¨ã‚’å›°é›£ã«ã—ã¾ã™ã€‚

ã“ã®ææ¡ˆã¯ã€`sender/receiver`ã‚’ç”¨ã„ãŸéåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹ç¯‰ã¨ç ´æ£„ã®ãƒ«ãƒ¼ãƒ«ã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å®Ÿè£…ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã®3ã¤ã®åŸºæœ¬çš„ãªè¦ä»¶ã«ã¤ã„ã¦å®šç¾©ã—ã¦ã„ã¾ã™

- éåŒæœŸæ§‹ç¯‰ï¼ˆ*async constructio*ï¼‰
    - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã«ã¯æ§‹ç¯‰ä¸­ã«å®Ÿè¡Œã•ã‚Œã‚‹éåŒæœŸé–¢æ•°ãŒã‚ã‚‹
        - ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€é€šä¿¡ã‚’ç¢ºç«‹ã™ã‚‹ã€ãªã©
    - ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã“ã¨ãªãã€æ§‹ç¯‰ä¸­ã«éåŒæœŸé–¢æ•°ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
    - ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯ã“ã‚Œã‚’æº€ãŸã™ã“ã¨ãŒã§ããªã„
- éåŒæœŸç ´æ£„ï¼ˆ*async destruction*ï¼‰
    - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã«ã¯ç ´æ£„ä¸­ã«å®Ÿè¡Œã•ã‚Œã‚‹éåŒæœŸé–¢æ•°ãŒã‚ã‚‹
        - ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã€é€šä¿¡ã‚’ä¸­æ–­ã™ã‚‹ã€ãªã©
    - ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã“ã¨ãªãã€ç ´æ£„ä¸­ã«éåŒæœŸé–¢æ•°ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
    - ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¯ã“ã‚Œã‚’æº€ãŸã™ã“ã¨ãŒã§ããªã„
- æ§‹é€ åŒ–ã•ã‚ŒãŸæ­£ã—ã„æ§‹ç¯‰ï¼ˆ*structured and correct-by-construction*ï¼‰
    - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒ«ã‹ã‚‰æ´¾ç”Ÿã—ãŸã€ç›´æ„Ÿçš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ§‹ç¯‰ã®ãƒ«ãƒ¼ãƒ«
    - structured concurrencyã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿/ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ç‰ˆ

ã“ã‚Œã‚‰ã®è¦ä»¶ã®å…ƒã€ã“ã®ææ¡ˆã§ã¯ã¤ãã®3ã¤ã®ã‚‚ã®ã‚’ææ¡ˆã—ã¦ã„ã¾ã™

- éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
    - éåŒæœŸæ§‹ç¯‰ãŒæ­£å¸¸ã«å®Œäº†ã™ã‚‹ã¾ã§ä½¿ç”¨ã§ããªã„
    - éåŒæœŸæ§‹ç¯‰ãŒã‚¨ãƒ©ãƒ¼ã§å®Œäº†ã™ã‚‹å ´åˆãŒã‚ã‚‹
    - éåŒæœŸæ§‹ç¯‰ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹
    - éåŒæœŸç ´æ£„ãŒå¤±æ•—ã›ãšã€åœæ­¢ã§ããªã„ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹
- `async_using`ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
    - å¸¸ã«ã€å†…éƒ¨ã®éåŒæœŸé–¢æ•°ã‚’å‘¼ã³å‡ºã™å‰ã«éåŒæœŸæ§‹ç¯‰ã‚’å®Œäº†ã™ã‚‹
    - å¸¸ã«ã€å†…éƒ¨ã®éåŒæœŸé–¢æ•°ãŒå®Œäº†ã™ã‚‹å‰ã«éåŒæœŸç ´æ£„ã‚’å®Œäº†ã™ã‚‹
    - å¸¸ã«ã€å†…éƒ¨ã®éåŒæœŸé–¢æ•°ã®å®Œäº†ã«ä¼´ã£ã¦éåŒæœŸç ´æ£„ã‚’å‘¼ã³å‡ºã™
    - å¸¸ã«ã€è¤‡æ•°ã®éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®éåŒæœŸç ´æ£„ã‚’ã€ãã®éåŒæœŸæ§‹ç¯‰ã®é€†é †ã§å‘¼ã³å‡ºã™
    - å¸¸ã«ã€éåŒæœŸæ§‹ç¯‰ã«æˆåŠŸã—ãŸéåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ã ã‘ã€éåŒæœŸç ´æ£„ã‚’å‘¼ã³å‡ºã™
- `async_tuple`
    - å¸¸ã«ã€`async_tuple`ãã®ã‚‚ã®ã®éåŒæœŸæ§‹ç¯‰å®Œäº†ã®å‰ã«ã€å†…åŒ…ã™ã‚‹å…¨ã¦ã®éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®éåŒæœŸæ§‹ç¯‰ã‚’å®Œäº†ã™ã‚‹
    - å¸¸ã«ã€å†…åŒ…ã™ã‚‹å…¨ã¦ã®éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®éåŒæœŸç ´æ£„ã‚’ã€ãã®éåŒæœŸæ§‹ç¯‰ã®é€†é †ã§å‘¼ã³å‡ºã™
    - å¸¸ã«ã€éåŒæœŸæ§‹ç¯‰ã«æˆåŠŸã—ãŸå†…åŒ…ã™ã‚‹éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ã ã‘ã€éåŒæœŸç ´æ£„ã‚’å‘¼ã³å‡ºã™

éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŒå£«ã¯çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã€ãã®è¦ä»¶ã¯æ¬¡ã®ã‚‚ã®ã§ã™

- æ§‹æˆï¼ˆ*composition*ï¼‰
    - è¤‡æ•°ã®éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ãƒã‚¹ãƒˆã›ãšã«åŒæ™‚ã«ä½¿ç”¨å¯èƒ½ã«ãªã‚‹
    - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé–“ã®ä¾å­˜é–¢ä¿‚ã¯ãƒã‚¹ãƒˆã«ã‚ˆã£ã¦è¡¨ç¾ã•ã‚Œã‚‹
    - æ§‹æˆã¯ã€è¤‡æ•°ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸¦è¡ŒéåŒæœŸæ§‹ç¯‰ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹
    - æ§‹æˆã¯ã€è¤‡æ•°ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸¦è¡ŒéåŒæœŸç ´æ£„ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹

ã“ã®ææ¡ˆãŒæä¾›ã™ã‚‹ã®ã¯ã€ã“ã‚Œã‚‰ã®è¦ä»¶ã‚’å…·ä½“åŒ–ã—ãŸ`async_object<T>`ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¨ã€`async_using`ã¨`async_tuple`ã€ãŠã‚ˆã³`packaged_async_object`ï¼ˆéåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ãã®éåŒæœŸã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã™ã‚‹ã‚‚ã®ï¼‰ã§ã™ã€‚

ææ¡ˆã‚ˆã‚Šã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã€‚

éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ï¼ˆ`Foo`ï¼‰ã®å®Ÿè£…ä¾‹

```cpp
// Fooã¯intå€¤ã‚’æ ¼ç´ã™ã‚‹éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
struct Foo {
  // éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®šç¾©
  // éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ ãƒ¼ãƒ–ä¸å¯ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹
  struct object : __immovable {
    object() = delete;
    int v;
  private:
    // only allow Foo to run the constructor
    friend struct Foo;
    explicit object(int v) noexcept : v(v) {}
  };

  // æ§‹ç¯‰ã•ã‚ŒãŸéåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒ³ãƒ‰ãƒ«å‹
  // ã“ã‚Œã¯éåŒæœŸæ§‹ç¯‰ï¼ˆasync_construct()ï¼‰ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹
  using handle = std::reference_wrapper<object>;

  // éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”¨ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’äºˆç´„ã™ã‚‹å‹
  // nothrowãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ§‹ç¯‰å¯èƒ½ ã‹ã¤ ãƒ ãƒ¼ãƒ–ä¸å¯ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹
  using storage = std::optional<object>;
  
  // async_construct()ã¯æ§‹ç¯‰ã•ã‚ŒãŸéåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒ³ãƒ‰ãƒ«ã§å®Œäº†ã™ã‚‹senderã‚’è¿”ã™
  auto async_construct(storage& stg, int v) const noexcept {
    return then( just(std::ref(stg), v),
      [](storage& stg, int v) noexcept {
        auto construct = [&]() noexcept { return object{v}; };
        stg.emplace( __conv{construct});
        printf("foo constructed, %d\n", stg.value().v);

        return std::ref(stg.value());
      }
    );
  }

  // async_destruct() ã¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å†…ã®éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç ´æ£„ã‚’å®Ÿè¡Œã—ã€éåŒæœŸç ´æ£„ãŒå®Œäº†ã—ãŸå¾Œã«å®Œäº†ã™ã‚‹senderã‚’è¿”ã™
  auto async_destruct(storage& stg) const noexcept {
    return then( just(std::ref(stg)),
      [](storage& stg) noexcept {
        printf("foo destructed %d\n", stg.value().v);
        stg.reset();
      }
    );
  }
};

// Fooã¯async_object
static_assert(async_object<Foo>);
// Fooã¯intã‹ã‚‰éåŒæœŸæ§‹ç¯‰å¯èƒ½
static_assert(async_object_constructible_from<Foo, int>);
```

2ã¤ã®`Foo`å‹ã®éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€`sender`å¼ã§çŠ¶æ…‹ã‚’å¤‰æ›´ã™ã‚‹

```cpp
int main() {
  // 2ã¤ã®éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã™ã‚‹sender
  auto inner = [](Foo::handle o0, Foo::handle o1) noexcept {
    return then( just(o0, o1),
      [](Foo::handle o0, Foo::handle o1) noexcept {
        auto& ro0 = o0.get();
        auto& ro1 = o1.get();
        ro0.v = ro0.v + ro0.v;
        ro1.v = ro1.v + ro1.v;
        printf("foo pack usage, %d, %d\n", ro0.v, ro1.v);
        fflush(stdout);
        return ro0.v + ro1.v;
      }
    );
  };

  // éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°
  packaged_async_object foo7{Foo{}, 7};
  packaged_async_object foo12{Foo{}, 12};

  // ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’äºˆç´„ã—ã€2ã¤ã®éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’éåŒæœŸæ§‹ç¯‰ã—
  // ãã‚Œã‚‰ãŒå®Œäº†ã—ã¦ã‹ã‚‰innerã®å‡¦ç†ã«ãã‚Œã‚‰ã®ãƒãƒ³ãƒ‰ãƒ«ã‚’æ¸¡ã—
  // innerã®å‡¦ç†ãŒå®Œäº†ã—ãŸã‚‰éåŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’éåŒæœŸç ´æ£„ã™ã‚‹
  // ãã—ã¦ã€ãã‚Œã‚‰å…¨ã¦ãŒå®Œäº†ã™ã‚‹ã¨å®Œäº†ã™ã‚‹éåŒæœŸå‡¦ç†ã‚’è¡¨ã™sender
  auto use_s = async_using(inner, foo7, foo12);
  
  // éåŒæœŸå‡¦ç†é–‹å§‹ã¨å¾…æ©Ÿã€çµæœå–å¾—
  auto [v] = sync_wait(use_s).value();
  printf("foo pack result %d\n\n", v);
}
```

ã“ã®ææ¡ˆã®å†…å®¹ã¯ç´”ç²‹ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ©Ÿèƒ½ã§ã‚ã‚Šã€ä»®å®Ÿè£…ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ : https://godbolt.org/z/rrbW6veYd

- [P2849 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1899)

### [P2876R1 Proposal to extend std::simd with more constructors and accessors](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2876r1.html)
### [P2900R7 Contracts for C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2900r7.pdf)
### [P2963R2 Ordering of constraints involving fold expressions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2963r2.pdf)
### [P2964R1 Allowing user-defined types in std::simd](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2964r1.html)
### [P2967R1 Relocation Is A Library Interface](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2967r1.pdf)
### [P2971R2 Implication for C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2971r2.pdf)
### [P2976R1 Freestanding Library: algorithm, numeric, and random](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2976r1.html)
### [P2988R5 std::optional<T&>](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2988r5.pdf)
### [P2996R3 Reflection for C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2996r3.html)
### [P3045R1 Quantities and units library](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3045r1.html)
### [P3051R1 Structured Response Files](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3051r1.html)
### [P3059R1 Making user-defined constructors of view iterators/sentinels private](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3059r1.html)
### [P3064R1 How to Avoid OOTA Without Really Trying](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3064r1.pdf)
### [P3067R0 Provide predefined simd permute generator functions for common operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3067r0.html)

P2664ã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹ã€`std::simd`ã®æ±ç”¨permute APIã‚’è¨­è¨ˆã—ç›´ã™ææ¡ˆã€‚

SIMDã«ãŠã‘ã‚‹permuteå‘½ä»¤ã¨ã¯ã€SIMDãƒ¬ã‚¸ã‚¹ã‚¿å†…ã§è¦ç´ ã‚’ä¸¦ã³æ›¿ãˆã‚‹å‘½ä»¤ã®1ã¤ã§ã™ã€‚ã‚ã‚‹è¨ˆç®—ã®éš›ã«åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ã®ä¸¦ã³ã¨ãã®å¾Œã®åˆ¥ã®è¨ˆç®—ã®éš›ã«åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ã®ä¸¦ã³ãŒç•°ãªã‚‹å ´åˆãªã©ã€SIMDãƒ¬ã‚¸ã‚¹ã‚¿å†…ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¼‰ã›ãŸã¾ã¾ä¸¦ã¹æ›¿ãˆãŒå¿…è¦ã«ãªã‚‹ã“ã¨ã¯ã‚ˆãã‚ã‚Šã€ãã®éš›ã«permuteå‘½ä»¤ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

P2664ã§ã¯`std::simd`ã«å¯¾ã—ã¦permuteå‘½ä»¤ã«å¯¾å¿œã™ã‚‹ä¸¦ã¹æ›¿ãˆã‚’è¡Œã†ãŸã‚ã®`std::permute()`ã‚’ææ¡ˆã—ã¦ã„ã¾ã—ãŸãŒã€P2664ã®`std::permute()`APIã¯ã»ã¨ã‚“ã©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœ€ã‚‚ä¸€èˆ¬çš„ãªè¦æ±‚ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«æ±ç”¨çš„ã«è¨­è¨ˆã•ã‚Œã¦ã„ãŸãŸã‚ã€å¿…è¦ãªã“ã¨ã¯ä½•ã§ã‚‚ã§ãã‚‹ã‚‚ã®ã®ã‚ˆãä½¿ç”¨ã•ã‚Œã‚‹ç‰¹å®šã®ä¸¦ã¹æ›¿ãˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ããšã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå€‹åˆ¥ã«ãã®æ“ä½œã‚’è¡Œã†é–¢æ•°ã‚’å®šç¾©ã™ã‚‹å¿…è¦æ€§ãŒé »ç™ºã™ã‚‹ã“ã¨ãŒæƒ³å®šã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ãã®ã‚ˆã†ãªä¸¦ã¹æ›¿ãˆæ“ä½œã®ç›®çš„ã‚„ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã¾ã¨ã‚ã¦ã€ã“ã®æµ®ã‹ã³ä¸ŠãŒã£ãŸè¦æ±‚ã‚’å…ƒã«ã—ã¦`std::simd`ã®è¦ç´ ä¸¦ã¹æ›¿ãˆã‚’è¡Œã†ãƒ•ãƒªãƒ¼é–¢æ•°ã®ã‚»ãƒƒãƒˆã‚’ç‰¹å®šã—ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ä»Šã®ã¨ã“ã‚æŒ™ã’ã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¯æ¬¡ã®ã‚‚ã®ã§ã™

|é–¢æ•°|èª¬æ˜|
|---|---|
|`take<int>(simd)`|`simd`ã®å…ˆé ­ã‹ã‚‰`N`è¦ç´ ã‚’å«ã‚€æ–°ã—ã„`simd`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™|
|`grow<int>(simd, value={})`|å…¥åŠ›ã•ã‚ŒãŸ`simd`ã‚ˆã‚Šã‚‚å¤§ãã„ã‚µã‚¤ã‚ºã§ã€æŒ‡å®šã•ã‚ŒãŸ`value`ã§åˆæœŸåŒ–ã•ã‚ŒãŸæ–°ã—ã„è¦ç´ ã‚’å«ã‚“ã `simd`ã‚’è¿”ã™|
|`stride<int N>(simd)`|å…¥åŠ›ã•ã‚ŒãŸ`simd`ã®`N`ç•ªç›®ã®è¦ç´ ã®ã¿ã‚’å«ã‚€æ–°ã—ã„`simd`ã‚’è¿”ã™|
|`chunk<int>(simd)`|æ—¢å­˜ã®`simd::split`ã‚’åå‰å¤‰æ›´ãŠã‚ˆã³ç§»å‹•ã—ãŸã‚‚ã®|
|`reverse(simd)`|å…¥åŠ›ã•ã‚ŒãŸ`simd`ã¨åŒã˜ã‚µã‚¤ã‚ºã§ã€è¦ç´ ã‚’é€†é †ã«ã—ãŸæ–°ã—ã„`simd`ã‚’è¿”ã™|
|`repeat_all<int>(simd)`|å…¥åŠ›ã•ã‚ŒãŸ`simd`ã‚’`N`å›ç¹°ã‚Šè¿”ã—ãŸæ–°ã—ã„`simd`ã‚’è¿”ã™ï¼ˆä¾‹ï¼š `repeat_all<3>([a, b])`ã¯`[a, b, a, b, a, b]`ã«ãªã‚‹ï¼‰|
|`repeat_each<int>(simd)`|å…¥åŠ›ã•ã‚ŒãŸ`simd`ã®å„è¦ç´ ã‚’`N`å›ç¹°ã‚Šè¿”ã—ãŸæ–°ã—ã„`simd`ã‚’è¿”ã™ã‚‹ï¼ˆä¾‹ï¼š `repeat_each<3>([a, b])`ã¯`[a, a, a, b, b, b ]`ã«ãªã‚‹ï¼‰|
|`transpose<ROWS, COLS>(simd)`|å…¥åŠ›ã•ã‚ŒãŸ`simd`ã‚’ã€`ROWS`è¡Œã¨`COLS`åˆ—ã®è¡Œå„ªå…ˆã®è¡Œåˆ—ã¨ã—ã¦æ‰±ã„ã€è»¢ç½®ã—ãŸçµæœï¼ˆã¤ã¾ã‚Šåˆ—å„ªå…ˆã«ã—ãŸï¼‰ã‚’è¿”ã™|
|`zip(simd...)`|å…¥åŠ›ã•ã‚ŒãŸè¤‡æ•°ã®`simd`ã®å¯¾å¿œã™ã‚‹è¦ç´ ã‚’äº¤äº’ã«ä¸¦ã¹ã¦æ–°ã—ã„`simd`ã‚’ç”Ÿæˆã™ã‚‹ã€‚ï¼ˆä¾‹ï¼š `zip([a, b, c], [0, 1, 2])`ã¯`[a, 0, b, 1, c, 2]`ã‚’è¿”ã™|
|`unzip<N>(simd...)`|å…¥åŠ›ã•ã‚ŒãŸ`simd`ã‚’`N`å€‹ã®`simd`ã«åˆ†å‰²ã™ã‚‹ã€‚ï¼ˆä¾‹ï¼š `unzip<2>([a, 0, b, 1, c, 2])`ã¯`make_tuple([a, b, c], [0, 1, 2])`ã‚’è¿”ã™|
|`cat(simd...)`|`simd_cat`ã®åå‰å¤‰æ›´ç‰ˆ|
|`extract<N, M>(simd)`|`[N...M)`ã®ç¯„å›²å†…ã®è¦ç´ ã‚’å«ã‚€æ–°ã—ã„`simd`ã‚’æŠ½å‡ºã™ã‚‹|
|`rotate<MIDDLE>(simd)`|`simd`ã®è¦ç´ ã‚’å·¦ã«å›è»¢ã—ã€`MIDDLE` ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è¦ç´ ãŒæœ€åˆã®è¦ç´ ã«ãªã‚‹ã‚ˆã†ã«ã™ã‚‹|
|`shift_left<N>(simd)/shift_right<N>(simd)`|å…¥åŠ›ã•ã‚ŒãŸ`simd`ã¨åŒã˜ã‚µã‚¤ã‚ºã§ã€è¦ç´ ã‚’å·¦ã¾ãŸã¯å³ã«ã‚·ãƒ•ãƒˆã—ã€å€¤åˆæœŸåŒ–ã•ã‚ŒãŸè¦ç´ ã‚’æŒ¿å…¥ã—ãŸæ–°ã—ã„`simd`ã‚’è¿”ã™|
|`align<N>(simd a, simd b)`|2ã¤ã®`simd`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘å–ã‚Šã€`cat(a, b)`ã‹ã‚‰`simd`ã‚’æŠ½å‡ºã—ã¾ã™|

ã“ã‚Œã‚‰ã®è‰¯ãä½¿ç”¨ã™ã‚‹ä¸¦ã¹æ›¿ãˆæ“ä½œï¼ˆé †åˆ—ã®ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼é–¢æ•°ï¼‰ã‚’ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã—ã¦ãŠãã“ã¨ã§

- åŒã˜ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼é–¢æ•°ã‚’ç¹°ã‚Šè¿”ã—ä½•åº¦ã‚‚é‡è¤‡å®šç¾©ã™ã‚‹ã“ã¨ã«ãªã‚‹ã®ã‚’å›é¿ã™ã‚‹
- ã‚ˆãä½¿ç”¨ã™ã‚‹æ“ä½œã«ã¤ã„ã¦ã€åˆ†ã‹ã‚Šã‚„ã™ã„åå‰ä»˜ãé–¢æ•°ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã‚’å‘ä¸Šã•ã›ã‚‹
- ã‚ˆãä½¿ç”¨ã™ã‚‹æ“ä½œã«ã¤ã„ã¦ã€ã‚ã‚‰ã‹ã˜ã‚ç”¨æ„ã—ã¦ãŠãã“ã¨ã§ãƒã‚°ã®æ··å…¥ã‚’å›é¿ã™ã‚‹

ç­‰ã®åˆ©ç‚¹ãŒã‚ã‚‹ã¨ã—ã¦ã„ã¾ã™ã€‚

- [P2664R6 Proposal to extend std::simd with permutation API - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2024å¹´01æœˆï¼‰](https://onihusube.hatenablog.com/entry/2024/03/10/170322#P2664R6-Proposal-to-extend-stdsimd-with-permutation-API)
- [P2638R0 Intel's response to P1915R0 for std::simd parallelism in TS 2 - WG21æœˆæ¬¡ææ¡ˆæ–‡æ›¸ã‚’çœºã‚ã‚‹ï¼ˆ2022å¹´09æœˆï¼‰](https://onihusube.hatenablog.com/entry/2022/10/09/021557#P2638R0-Intels-response-to-P1915R0-for-stdsimd-parallelism-in-TS-2)
- [P3067 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1900)

### [P3068R2 Allowing exception throwing in constant-evaluation](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3068r2.html)
### [P3085R2 `noexcept` policy for SD-9 (throws nothing)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3085r2.html)
### [P3091R2 Better lookups for `map` and `unordered_map`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3091r2.html)
### [P3094R2 std::basic_fixed_string](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3094r2.html)
### [P3096R1 Function Parameter Reflection in Reflection for C++26](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3096r1.pdf)
### [P3100R0 Undefined and erroneous behaviour are contract violations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3100r0.pdf)
### [P3103R2 More bitset operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3103r2.html)
### [P3111R0 Atomic Reduction Operations](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3111r0.html)

`std::atomic`ã«ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã‚’è¿½åŠ ã™ã‚‹ææ¡ˆã€‚

ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã¨ã¯ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯ãªRMWæ“ä½œï¼ˆ`fetch_add()`ã®ã‚ˆã†ãªæ“ä½œï¼‰ã§ã¯ã‚ã‚Šã¾ã™ãŒå¤ã„å€¤ã‚’å®Ÿéš›ã«ã¯ãƒ•ã‚§ãƒƒãƒã›ãšã€ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã®è¦³ç‚¹ã‹ã‚‰ã‚‚èª­ã¿å–ã‚Šã‚’ç²‰ã‚ãªã„ã‚ˆã†ãªRMWæ“ä½œã®äº‹ã§ã™ã€‚

ãã®ã‚ˆã†ãªã€ãƒ•ã‚§ãƒƒãƒã•ã‚ŒãŸå¤ã„å€¤ã‚’ç ´æ£„ã™ã‚‹ã‚ˆã†ãªã‚¢ãƒˆãƒŸãƒƒã‚¯RMWæ“ä½œã‚’å®Ÿè¡Œã™ã‚‹ä¸¦è¡Œã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯é«˜æ€§èƒ½ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ã¯ä¸€èˆ¬çš„ã§ã‚ã‚Šã€ç¾ä»£ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¯ãã®ã‚ˆã†ãªæ“ä½œã«å¯¾ã—ã¦åŠ¹ç‡çš„ãªå‘½ä»¤ã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚

ä¾‹ãˆã°æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯ä¸¦åˆ—ã«ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’æ±‚ã‚ã‚‹ã‚‚ã®ã§ã™

```cpp
std::span<unsigned> data;

std::array<std::atomic<unsigned>, N> buckets;

constexpr T bucket_sz = std::numeric_limits<T>::max() / (T)N;

unsigned nthreads = std::thread::hardware_concurrency();

std::for_each_n(std::execution::par_unseq, std::views::iota(0).begin(), nthreads, 
 [&](int thread) {
  unsigned data_per_thread = data.size() / nthreads;
  T* data_thread = data.data() + data_per_thread * thread;

  for (auto e : span<T>(data_thread, data_per_thread)) {
    // ã“ã“ã§ã‚¢ãƒˆãƒŸãƒƒã‚¯å€¤ã«å¯¾ã—ã¦è¶³ã—ã“ã¿ï¼ˆfetch_add()ï¼‰ãŒè¡Œã‚ã‚Œã¦ã„ã‚‹
    buckets[e / bucket_sz].fetch_add(1, std::memory_order_relaxed);
  }
});
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã«ã¯æ¬¡ã®2ã¤ã®å•é¡Œç‚¹ãŒã‚ã‚Šã¾ã™

- æ­£ã—ã•ï¼ˆUBï¼‰
  - ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œãŒæ¬¡ã®ã„ãšã‚Œã‚‚æº€ãŸã—ã¦ã„ãªã„ãŸã‚ã€ã“ã®ä¸¦åˆ—ç‰ˆ`for_each_n`ã§ã¯`execution::par`ã‚’ä½¿ç”¨ã™ã‚‹ã¹ãã ã£ãŸï¼ˆ`par_unseq`ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã«UBï¼‰
    - æ½œåœ¨çš„ã«åŒæ™‚å®Ÿè¡Œã•ã‚Œã€ã‚·ãƒ¼ã‚±ãƒ³ã‚¹åŒ–ã•ã‚Œã¦ã„ãªã„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ãƒ‡ãƒ¼ã‚¿ç«¶åˆãŒç™ºç”Ÿã™ã‚‹
    - ä»–ã®é–¢æ•°å‘¼ã³å‡ºã—ã¨åŒæœŸã™ã‚‹ãŸã‚ã€ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã‚»ãƒ¼ãƒ•
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
  - ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã¯ã€é«˜åº¦ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®åˆ†æãŒå¿…è¦

`std::atomic`ã§ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã“ã®2ã¤ã®å•é¡Œã‚’è§£æ±ºã§ãã€ã“ã®ææ¡ˆã¯ãã‚Œã‚’ææ¡ˆã™ã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€æ—¢å­˜ã®`std::atomic`ãŠã‚ˆã³`std::atomic_ref`ã®ãƒ¡ãƒ³ãƒé–¢æ•°ã§ã‚ã‚‹`.fetch_xxx()`ã«å¯¾ã—ã¦`void`æˆ»ã‚Šå€¤å‹ã®`xxx()`ãƒ¡ãƒ³ãƒé–¢æ•°ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

ææ¡ˆæ–‡æ›¸ã‚ˆã‚Šã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

<table>
<tr>
<th>ç¾åœ¨</th>
<th>ã“ã®ææ¡ˆ</th>
</tr>
<tr>
<td valign="top">

```cpp
#include <algorithm>
#include <atomic>
#include <execution>
using namespace std;
using execution::par_unseq;

int main() {
  size_t N = 10000;
  vector<int> v(N, 0);
  atomic<int> atom = 0;
  for_each_n(par_unseq, 
     v.begin(), N,
    [&](auto& e) {
      // UB+SLOW:
      atom.fetch_add(e);
  }); 
  return atom.load();
}
```

</td>
<td valign="top">

```cpp
#include <algorithm>
#include <atomic>
#include <execution>
using namespace std;
using execution::par_unseq;

int main() {
  size_t N = 10000;
  vector<int> v(N, 0);
  atomic<int> atom = 0;
  for_each_n(par_unseq, 
     v.begin(), N,
    [&](auto& e) {
      // OK+FAST
      atom.add(e);  // ğŸ‘ˆ
  }); 
  return atom.load();
}
```

</td>
</tr>
</table>

ã¾ãŸã€ã“ã®å»¶é•·ã¨ã—ã¦ã€é †åºä»˜ã‘ã•ã‚Œã¦ã„ãªã„ã¨ãã®ï¼ˆä¸¦åˆ—å®Ÿè¡Œæ™‚ã®ï¼‰èª­ã¿å–ã‚Šã§ãªã„ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ¡ãƒ¢ãƒªæ“ä½œã‚’è¨±å¯ã—ã€æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ãŒçµåˆçš„ã§ã‚ã‚‹ã¨ä»®å®šã—ã¦æµ®å‹•å°æ•°ç‚¹æ•°å‹ã®ç®—è¡“ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã‚’æ‹¡å¼µã™ã‚‹ã“ã¨ã‚‚è¿½åŠ ã§ææ¡ˆã—ã¦ã„ã¾ã™ã€‚

æµ®å‹•å°æ•°ç‚¹æ•°ã®æ¼”ç®—ã®ã‚ˆã†ã«éçµåˆçš„ãªæ¼”ç®—ã§ã¯ã€ä¸¦åˆ—ã«å®Ÿè¡Œã•ã‚Œã‚‹æ¼”ç®—ã®é †åºãŒçµæœã«å½±éŸ¿ã‚’ä¸ãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã®åŠ¹æœãŒåˆ¶é™ã•ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€`x = a + (b + c)`ã¨ã„ã†è¨ˆç®—ã‚’ä¸¦åˆ—ã«å®Ÿè¡Œã™ã‚‹å ´åˆã€ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã§ã¯`(a + b) + c`ã‚„`a + (c + b)`ãªã©ã®ç•°ãªã‚‹é †åºã§è¨ˆç®—ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ãŒçµåˆçš„ã§ã¯ãªã„ã“ã¨ã‹ã‚‰çµæœãŒä¸€è‡´ã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ææ¡ˆã®ä¸€èˆ¬åŒ–ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã§ã¯ã€æµ®å‹•å°æ•°ç‚¹æ•°å‹ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã«ãŠã„ã¦æµ®å‹•å°æ•°ç‚¹æ¼”ç®—ãŒçµåˆçš„ã§ã‚ã‚‹ã¨ä»®å®šã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’è¨±å¯ã™ã‚‹ã“ã¨ã§ã€å®Ÿè£…ã¯ã“ã®åˆ¶é™ã‚’å—ã‘ãšã«æœ€é©åŒ–ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ææ¡ˆã§ã¯ã€ä¸€èˆ¬åŒ–ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã¯æµ®å‹•å°æ•°ç‚¹æ•°å‹ã®ç‰¹æ®ŠåŒ–ã®ã¿ã®ãƒ¡ãƒ³ãƒé–¢æ•°ã¨ã—ã¦ã€ä¸Šè¨˜ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã¨ã¯åˆ¥åã®ãƒ¡ãƒ³ãƒé–¢æ•°ã¨ã—ã¦è¿½åŠ ã™ã‚‹ã“ã¨ã‚’ææ¡ˆã—ã¦ã„ã¾ã™

```cpp
template <floating-point>
class atomic {
  ...

  // ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œ
  void add(floating-point, memory_order);
  // ä¸€èˆ¬åŒ–ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ€ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œ
  void add_generalizedg(floating-point, memory_order);

  ...
};
```

- [P3111 é€²è¡ŒçŠ¶æ³](https://github.com/cplusplus/papers/issues/1902)

### [P3119R1 Tokyo Technical Fixes to Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3119r1.pdf)
### [P3125R0 Pointer tagging](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3125r0.pdf)
### [P3126R1 Graph Library: Overview](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3126r1.pdf)
### [P3130R1 Graph Library: Graph Container Interface](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3130r1.pdf)
### [P3131R1 Graph Library: Containers](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3131r1.pdf)
### [P3137R1 views::to_input](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3137r1.html)
### [P3138R1 views::cache_last](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3138r1.html)
### [P3139R0 Pointer cast for unique_ptr](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3139r0.html)
### [P3149R3 async_scope -- Creating scopes for non-sequential concurrency](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3149r3.html)
### [P3154R1 Deprecating signed character types in iostreams](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3154r1.html)
### [P3157R1 Generative Extensions for Reflection](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3157r1.html)
### [P3175R1 Reconsidering the `std::execution::on` algorithm](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3175r1.html)
### [P3175R2 Reconsidering the `std::execution::on` algorithm](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3175r2.html)
### [P3179R1 C++ parallel range algorithms](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3179r1.html)
### [P3183R1 Contract testing support](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3183r1.pdf)
### [P3210R1 A Postcondition *is* a Pattern Match](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3210r1.pdf)
### [P3214R0 2024-04 Library Evolution Poll Outcomes](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3214r0.html)
### [P3228R1 Contracts for C++: Revisiting contract check elision and duplication](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3228r1.pdf)
### [P3234R1 Utility to check if a pointer is in a given range](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3234r1.html)
### [P3235R0 std::print more types faster with less memory](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3235r0.html)
### [P3236R1 Please reject P2786 and adopt P1144](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3236r1.html)
### [P3238R0 An alternate proposal for naming contract semantics](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3238r0.html)
### [P3239R0 A Relocating Swap](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3239r0.pdf)
### [P3247R1 Deprecate the notion of trivial types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3247r1.html)
### [P3248R0 Require [u]intptr_t](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3248r0.html)
### [P3249R0 A unified syntax for Pattern Matching and Contracts when introducing a new name](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3249r0.pdf)
### [P3250R0 C++ contracts with regards to function pointers](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3250r0.html)
### [P3251R0 C++ contracts and coroutines](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3251r0.html)
### [P3253R0 Distinguishing between member and free coroutines](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3253r0.html)
### [P3254R0 Reserve identifiers preceded by @ for non-ignorable annotation tokens](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3254r0.html)
### [P3255R0 Expose whether atomic notifying operations are lock-free](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3255r0.html)
### [P3257R0 Make the predicate of contract_assert more regular](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3257r0.html)
### [P3258R0 Formatting charN_t](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3258r0.pdf)
### [P3259R0 const by default](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3259r0.html)
### [P3263R0 Encoded annotated char](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3263r0.html)
### [P3264R0 Double-evaluation of preconditions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3264r0.html)
### [P3264R1 Double-evaluation of preconditions](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3264r1.html)
### [P3265R0 Ship Contracts in a TS](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3265r0.html)
### [P3265R1 Ship Contracts in a TS](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3265r1.html)
### [P3266R0 non referenceable types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3266r0.html)
### [P3267R0 C++ contracts implementation strategies](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3267r0.html)
### [P3267R1 Approaches to C++ Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3267r1.html)
### [P3268R0 C++ Contracts Constification Challenges Concerning Current Code](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3268r0.html)
### [P3269R0 Do Not Ship Contracts as a TS](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3269r0.pdf)
### [P3270R0 Repetition, Elision, and Constification w.r.t. contract_assert](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3270r0.p)
### [P3271R0 Function Usage Types (Contracts for Function Pointers)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3271r0.pdf)
### [P3273R0 Introspection of Closure Types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3273r0.html)
### [P3274R0 A framework for Profiles development](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3274r0.pdf)
### [P3275R0 Replace simd operator[] with getter and setter functions - or not](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3275r0.pdf)
### [P3276R0 P2900 Is Superior to a Contracts TS](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3276r0.pdf)
### [P3278R0 Analysis of interaction between relocation, assignment, and swap](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3278r0.pdf)
### [P3279R0 CWG2463: What 'trivially fooable' should mean](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3279r0.html)
### [P3281R0 Contact checks should be regular C++](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3281r0.pdf)
### [P3282R0 Static Storage for C++ Concurrent bounded_queue](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3282r0.html)
### [P3283R0 Adding .first() and .last() to strings](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3283r0.html)
### [P3284R0 `finally`, `write_env`, and `unstoppable` Sender Adaptors](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3284r0.html)
### [P3285R0 Contracts: Protecting The Protector](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3285r0.pdf)
### [P3286R0 Module Metadata Format for Distribution with Pre-Built Libraries](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3286r0.pdf)
### [P3287R0 Exploration of namespaces for std::simd](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3287r0.pdf)
### [P3288R0 std::elide](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3288r0.html)
### [P3289R0 Consteval blocks](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3289r0.html)
### [P3290R0 Integrating Existing Assertions With Contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3290r0.pdf)
### [P3292R0 Provenance and Concurrency](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3292r0.html)
### [P3293R0 Splicing a base class subobject](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3293r0.html)
### [P3294R0 Code Injection with Token Sequences](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3294r0.html)
### [P3295R0 Freestanding constexpr containers and constexpr exception types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3295r0.html)
### [P3296R0 let_with_async_scope](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3296r0.html)
### [P3297R0 C++26 Needs Contract Checking](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3297r0.pdf)
### [P3298R0 Implicit user-defined conversion functions as operator.()](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3298r0.pdf)
### [P3299R0 Range constructors for std::simd](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3299r0.html)
### [P3301R0 inplace_stoppable_base](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3301r0.html)
### [P3302R0 SG16: Unicode meeting summaries 2024-03-13 through 2024-05-08](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3302r0.html)
### [P3303R0 Fixing Lazy Sender Algorithm Customization](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3303r0.html)
### [P3304R0 SG14: Low Latency/Games/Embedded/Financial Trading virtual Meeting Minutes 2024/04/10](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3304r0.pdf)
### [P3305R0 SG19: Machine Learning virtual Meeting Minutes to 2024/04/11-2024/05/09](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3305r0.pdf)
### [P3306R0 Atomic Read-Modify-Write Improvements](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3306r0.html)
### [P3307R0 Floating-Point Maximum/Minimum Function Objects](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3307r0.html)
### [P3308R0 mdarray design questions and answers](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3308r0.html)
### [P3309R0 constexpr atomic and atomic_ref](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3309r0.html)
### [P3310R0 Solving partial ordering issues introduced by P0522R0](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3310r0.html)
### [P3311R0 An opt-in approach for integration of traditional assert facilities in C++ contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3311r0.html)
### [P3312R0 Overload Set Types](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3312r0.pdf)
### [P3313R0 Impacts of noexept on ARM table based exception metadata](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3313r0.html)
### [P3316R0 A more predictable unchecked semantic](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3316r0.pdf)
### [P3317R0 Compile time resolved contracts](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3317r0.pdf)
### [P3318R0 Throwing violation handlers, from an application programming perspective](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3318r0.html)
### [P3319R0 Add an iota object for simd (and more)](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3319r0.pdf)
### [P3320R0 EWG slides for P3144 "Delete if Incomplete"](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p3320r0.pdf)
### [P4000R0 To TS or not to TS: that is the question](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p4000r0.pdf)
